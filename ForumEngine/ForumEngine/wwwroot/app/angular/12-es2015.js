(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"/H0e":function(t,e,i){"use strict";i.d(e,"a",(function(){return E}));var o=i("fXoL"),s=i("ofXK"),c=i("3Pt+"),n=i("Egam"),r=i("tyNb");function a(t,e){if(1&t){const t=o.Tb();o.Sb(0,"a",11),o.ec("click",(function(e){return o.xc(t),o.gc(3).toggleSearch(e),!1})),o.Gc(1),o.Rb()}if(2&t){const t=o.gc(3);o.zb(1),o.Hc(t.AdvanceText)}}function l(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",15),o.Sb(1,"label",16),o.Sb(2,"input",17),o.ec("ngModelChange",(function(i){return o.xc(t),e.$implicit.selected=i})),o.Rb(),o.Gc(3),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit;o.zb(2),o.nc("ngModel",t.selected),o.zb(1),o.Ic(" ",t.title," ")}}function d(t,e){if(1&t&&(o.Sb(0,"div",13),o.Ec(1,l,4,2,"div",14),o.Nb(2,"hr"),o.Rb()),2&t){const t=o.gc(4);o.zb(1),o.nc("ngForOf",t.Options.filters)}}function b(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",15),o.Sb(1,"label",16),o.Sb(2,"input",20),o.ec("change",(function(e){o.xc(t);const i=o.gc().$implicit;return o.gc(5).choose(i,e)})),o.Rb(),o.Gc(3),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit,i=o.gc().$implicit;o.zb(2),o.oc("value",t.value),o.oc("name",i.group),o.nc("checked",i.value==t.value),o.zb(1),o.Ic(" ",t.title," ")}}function p(t,e){if(1&t&&(o.Sb(0,"div",13),o.Sb(1,"div",13),o.Sb(2,"strong"),o.Gc(3),o.Rb(),o.Rb(),o.Ec(4,b,4,4,"div",19),o.Rb()),2&t){const t=e.$implicit;o.zb(3),o.Hc(t.caption),o.zb(1),o.nc("ngForOf",t.options)}}function h(t,e){if(1&t&&(o.Sb(0,"div",13),o.Ec(1,p,5,2,"div",18),o.Nb(2,"hr"),o.Rb()),2&t){const t=o.gc(4);o.zb(1),o.nc("ngForOf",t.Options.checkFilters)}}function u(t,e){if(1&t&&(o.Sb(0,"option",24),o.Gc(1),o.Rb()),2&t){const t=e.$implicit;o.nc("value",t.value),o.zb(1),o.Hc(t.title)}}function g(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div"),o.Sb(1,"div",5),o.Sb(2,"label"),o.Gc(3),o.Rb(),o.Sb(4,"select",22),o.ec("ngModelChange",(function(i){return o.xc(t),e.$implicit.value=i})),o.Ec(5,u,2,2,"option",23),o.Rb(),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit;o.zb(3),o.Hc(t.caption),o.zb(1),o.nc("ngModel",t.value),o.zb(1),o.nc("ngForOf",t.options)}}function f(t,e){if(1&t&&(o.Sb(0,"div"),o.Ec(1,g,6,3,"div",21),o.Rb()),2&t){const t=o.gc(4);o.zb(1),o.nc("ngForOf",t.Options.dropdownFilters)}}function m(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",5),o.Sb(1,"ng-multiselect-dropdown",25),o.ec("ngModelChange",(function(e){return o.xc(t),o.gc(4).Options.selectedcategory=e})),o.Rb(),o.Rb()}if(2&t){const t=o.gc(4);o.zb(1),o.nc("placeholder",t.Options.multiselectOptions.placeholder)("data",t.Options.categories)("ngModel",t.Options.selectedcategory)("settings",t.Options.multiselectOptions.dropdownSettings)}}function v(t,e){if(1&t&&(o.Sb(0,"div"),o.Ec(1,d,3,1,"div",1),o.Ec(2,h,3,1,"div",1),o.Ec(3,f,2,1,"div",3),o.Ec(4,m,2,4,"div",12),o.Rb()),2&t){const t=o.gc(3);o.zb(1),o.nc("ngIf",t.Options.filters.length>0),o.zb(1),o.nc("ngIf",t.Options.checkFilters.length>0),o.zb(1),o.nc("ngIf",t.Options.dropdownFilters.length>0),o.zb(1),o.nc("ngIf",t.Options.categories.length>0)}}function S(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div"),o.Sb(1,"div",5),o.Sb(2,"input",6),o.ec("ngModelChange",(function(e){return o.xc(t),o.gc(2).Options.term=e})),o.Rb(),o.Ec(3,a,2,1,"a",7),o.Rb(),o.Ec(4,v,5,4,"div",3),o.Sb(5,"div",8),o.Sb(6,"button",9),o.ec("click",(function(){return o.xc(t),o.gc(2).FindRecords()})),o.Nb(7,"i",10),o.Gc(8),o.Rb(),o.Rb(),o.Nb(9,"hr"),o.Rb()}if(2&t){const t=o.gc(2);o.zb(2),o.nc("ngModel",t.Options.term),o.zb(1),o.nc("ngIf",t.Options.showAdvanceSearchLink),o.zb(1),o.nc("ngIf",t.showAdvanceOptions),o.zb(4),o.Ic(" ",t.SearchBtnText," ")}}function O(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",28),o.ec("click",(function(i){o.xc(t);const s=e.$implicit;return o.gc(3).toolbaraction(s.event,s.options,i),!1})),o.Gc(1),o.Rb()}if(2&t){const t=e.$implicit;o.Bb(t.css),o.zb(1),o.Ic(" ",t.title," ")}}function R(t,e){if(1&t&&(o.Sb(0,"div",26),o.Sb(1,"div",13),o.Gc(2,"Actions"),o.Rb(),o.Ec(3,O,2,4,"button",27),o.Rb()),2&t){const t=o.gc(2);o.zb(3),o.nc("ngForOf",t.Options.actions)}}function y(t,e){if(1&t&&o.Nb(0,"i"),2&t){const t=o.gc(2).$implicit;o.Bb(t.css)}}function I(t,e){if(1&t&&(o.Sb(0,"a",34),o.Ec(1,y,1,3,"i",35),o.Gc(2),o.Rb()),2&t){const t=o.gc().$implicit;o.oc("routerLink",t.url),o.oc("title",t.title),o.zb(1),o.nc("ngIf",""!=t.css),o.zb(1),o.Ic(" ",t.title," ")}}function A(t,e){if(1&t&&o.Nb(0,"i"),2&t){const t=o.gc(2).$implicit;o.Bb(t.css)}}function F(t,e){if(1&t){const t=o.Tb();o.Sb(0,"a",36),o.ec("click",(function(e){o.xc(t);const i=o.gc().$implicit;return o.gc(3).toolbaraction(i.event,i.options,e),!1})),o.Ec(1,A,1,3,"i",35),o.Gc(2),o.Rb()}if(2&t){const t=o.gc().$implicit;o.oc("title",t.title),o.zb(1),o.nc("ngIf",""!=t.css),o.zb(1),o.Ic(" ",t.title," ")}}function k(t,e){if(1&t&&(o.Sb(0,"li",31),o.Ec(1,I,3,4,"a",32),o.Ec(2,F,3,3,"a",33),o.Rb()),2&t){const t=e.$implicit;o.zb(1),o.nc("ngIf",!t.clickevent),o.zb(1),o.nc("ngIf",t.clickevent)}}function z(t,e){if(1&t&&(o.Sb(0,"div",26),o.Sb(1,"div",13),o.Gc(2,"Navigation"),o.Rb(),o.Sb(3,"ul",29),o.Ec(4,k,3,2,"li",30),o.Rb(),o.Rb()),2&t){const t=o.gc(2);o.zb(4),o.nc("ngForOf",t.Options.navList)}}function w(t,e){if(1&t&&(o.Sb(0,"div",2),o.Ec(1,S,10,4,"div",3),o.Ec(2,R,4,1,"div",4),o.Ec(3,z,5,1,"div",4),o.Rb()),2&t){const t=o.gc();o.zb(1),o.nc("ngIf",t.Options.showSearchPanel),o.zb(1),o.nc("ngIf",t.Options.actions.length>0),o.zb(1),o.nc("ngIf",t.Options.navList.length>0)}}function x(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",43),o.Sb(1,"input",44),o.ec("ngModelChange",(function(e){return o.xc(t),o.gc(2).Options.term=e})),o.Rb(),o.Sb(2,"div",45),o.Sb(3,"button",46),o.ec("click",(function(){return o.xc(t),o.gc(2).FindRecords()})),o.Gc(4,"Go"),o.Rb(),o.Rb(),o.Rb()}if(2&t){const t=o.gc(2);o.zb(1),o.nc("ngModel",t.Options.term)}}function M(t,e){if(1&t&&(o.Sb(0,"option",24),o.Gc(1),o.Rb()),2&t){const t=e.$implicit;o.nc("value",t.value),o.zb(1),o.Hc(t.title)}}function G(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",41),o.Sb(1,"select",47),o.ec("change",(function(){return o.xc(t),o.gc(2).FindRecords()}))("ngModelChange",(function(i){return o.xc(t),e.$implicit.value=i})),o.Ec(2,M,2,2,"option",23),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit;o.zb(1),o.nc("ngModel",t.value),o.zb(1),o.nc("ngForOf",t.options)}}function C(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",48),o.ec("click",(function(i){o.xc(t);const s=e.$implicit;return o.gc(2).toolbaraction(s.event,s.options,i),!1})),o.Gc(1),o.Rb()}if(2&t){const t=e.$implicit;o.oc("title",t.tooltip),o.zb(1),o.Ic(" ",t.title," ")}}function $(t,e){if(1&t&&(o.Sb(0,"div",13),o.Sb(1,"div",37),o.Sb(2,"div",38),o.Ec(3,x,5,1,"div",39),o.Rb(),o.Ec(4,G,3,2,"div",40),o.Sb(5,"div",41),o.Ec(6,C,2,2,"button",42),o.Rb(),o.Rb(),o.Rb()),2&t){const t=o.gc();o.zb(3),o.nc("ngIf",t.Options.showSearchPanel),o.zb(1),o.nc("ngForOf",t.Options.dropdownFilters),o.zb(2),o.nc("ngForOf",t.Options.actions)}}let E=(()=>{class t{constructor(){this.ItemsSelected=!1,this.isAdmin=!0,this.SearchBtnText="Find Records",this.OnSelection=new o.n,this.Action=new o.n,this.SearchSelection=new o.n,this.AdvanceText="Advance Search",this.showAdvanceOptions=!1}ngOnInit(){}onSelect(t){this.Options.selectedcategory=t.id}toggleSearch(t){this.showAdvanceOptions?(this.showAdvanceOptions=!1,this.AdvanceText="Advance Search"):(this.showAdvanceOptions=!0,this.AdvanceText="Hide Search"),t.stopPropagation()}FindRecords(){if(void 0!==this.FilterOptions){if(this.FilterOptions.term=this.Options.term,this.Options.filters.length>0)for(const e of this.Options.filters)for(var t in this.FilterOptions)t===e.attr&&(this.FilterOptions[t]=e.selected?e.value:e.default_value);if(this.Options.checkFilters.length>0)for(const e of this.Options.checkFilters)for(var t in this.FilterOptions)t===e.attr&&(this.FilterOptions[t]=e.value);if(this.Options.dropdownFilters.length>0)for(const e of this.Options.dropdownFilters)for(var t in this.FilterOptions)t===e.attr&&(this.FilterOptions[t]=e.value);if(void 0!==this.Options.selectedcategory&&this.Options.selectedcategory.length>0){for(let t of this.Options.selectedcategory)this.FilterOptions.category_ids.push(t.key);this.FilterOptions.category_ids=this.Options.selectedcategory}void 0!==this.Options.datefilter&&(this.FilterOptions.datefilter=this.Options.datefilter),this.SearchSelection.emit({filters:this.FilterOptions})}}toolbaraction(t,e,i){this.Action.emit({action:t,value:e}),i.stopPropagation()}choose(t,e){t.value=e.target.value}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["app-navigation-v2"]],inputs:{Options:"Options",ItemsSelected:"ItemsSelected",FilterOptions:"FilterOptions",isAdmin:"isAdmin",SearchBtnText:"SearchBtnText",AdvanceText:"AdvanceText"},outputs:{OnSelection:"OnSelection",Action:"Action",SearchSelection:"SearchSelection"},decls:2,vars:2,consts:[["class","card-body border-secondary",4,"ngIf"],["class","m-b-10",4,"ngIf"],[1,"card-body","border-secondary"],[4,"ngIf"],["class","m-t-10",4,"ngIf"],[1,"form-group"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],["href","#",3,"click",4,"ngIf"],[1,"form-group","m-t-10"],[1,"btn","btn-danger","m-b-5","p-10","btn-block",3,"click"],[1,"icon-search4","text-size-base","position-left"],["href","#",3,"click"],["class","form-group",4,"ngIf"],[1,"m-b-10"],["class","form-check  p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],[1,"form-check","p-l-0","p-r-0","m-b-5"],[1,"form-check-label"],["type","checkbox",3,"ngModel","ngModelChange"],["class","m-b-10",4,"ngFor","ngForOf"],["class","form-check p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],["type","radio",3,"value","name","checked","change"],[4,"ngFor","ngForOf"],[1,"form-control","form-control-line",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"placeholder","data","ngModel","settings","ngModelChange"],[1,"m-t-10"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"list-group","list-group-full"],["class","list-group-item","routerLinkActive","active",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"list-group-item"],[3,"routerLink","title",4,"ngIf"],["href","#",3,"title","click",4,"ngIf"],[3,"routerLink","title"],[3,"class",4,"ngIf"],["href","#",3,"title","click"],[1,"row"],[1,"col"],["class","input-group mb-3",4,"ngIf"],["class","col-md-auto",4,"ngFor","ngForOf"],[1,"col-md-auto"],["class","btn btn-primary m-l-5",3,"title","click",4,"ngFor","ngForOf"],[1,"input-group","mb-3"],["type","text","placeholder","Search ...","aria-label","Search ...","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"form-control",3,"ngModel","change","ngModelChange"],[1,"btn","btn-primary","m-l-5",3,"title","click"]],template:function(t,e){1&t&&(o.Ec(0,w,4,3,"div",0),o.Ec(1,$,7,3,"div",1)),2&t&&(o.nc("ngIf",e.isAdmin),o.zb(1),o.nc("ngIf",!e.isAdmin))},directives:[s.n,c.c,c.n,c.q,s.m,c.a,c.v,c.s,c.x,n.a,r.d,r.e],encapsulation:2}),t})()},UMVt:function(t,e,i){"use strict";i.r(e);var o=i("1kSV"),s=i("ofXK"),c=i("3Pt+"),n=i("tyNb"),r=i("mrSG"),a=i("Usal"),l=i("pdjO"),d=i("fXoL"),b=i("II9H"),p=i("nD3/"),h=i("1pjZ");let u=(()=>{class t{constructor(t,e){this.coreService=t,this.config=e;const i=e.getConfig("host");this.apiOptions={load:i+"api/forum/load",getinfo:i+"api/forum/getinfo",action:i+"api/forum/action",proc:i+"api/forum/proc"},this.init_toolbar_options(),this.init_search_options()}init_search_options(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!0,term:"",topselectioncheck:!0,navList:[],filters:[],dropdownFilters:[],checkFilters:[{id:1,value:2,group:"isenabled",caption:"Enable Status",attr:"isenabled",options:[{id:4,title:"Active",value:1},{id:5,title:"Inactive",value:0},{id:6,title:"Any",value:2}]}],categories:[],multiselectOptions:this.coreService.getMultiCategorySettings(),selectedcategory:"",singleaction:!1,actions:[{id:1,title:"Create Forum",tooltip:"Create new album",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}}init_toolbar_options(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:b.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Status",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:0,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0},{id:"5",title:"Enabled",value:1,isclick:!0,clickevent:"f_status",tooltip:"Load enabled media files"},{id:"6",title:"Disabled",value:0,isclick:!0,clickevent:"f_status",tooltip:"Load disabled media files"}]}),this.toolbarOptions.right_options.push({title:"Order",ismultiple:!0,position:"right",icon:"icon-sort-by-order-alt position-left",Options:[{id:"0",title:"Date",value:"id",isclick:!0,clickevent:"orderby",tooltip:"Recently added"},{id:"1",title:"Title",value:"title",isclick:!0,clickevent:"orderby",tooltip:"Order by Title"},{id:"8",title:"Status",value:"isenabled",isclick:!0,clickevent:"orderby",tooltip:"Order by Status"}]}),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"0",title:"Approve",value:1,actionstatus:"approve",attr:"isapproved",isclick:!0,clickevent:"m_markas",icon:"",css:b.b.SUCCESS_BUTTON,tooltip:"Approve selected records"},{id:"1",title:"Enable",value:1,actionstatus:"enable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:b.b.SUCCESS_BUTTON,tooltip:"Enable selected records"},{id:"2",title:"Disable",value:0,actionstatus:"disable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:b.b.SUCCESS_BUTTON,tooltip:"Disable selected records"},{id:"2",title:"Delete",value:0,actionstatus:"delete",css:b.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:b.c.DELETE_ICON,tooltip:"Delete selected records"}]})}getApiOptions(){return this.apiOptions}getUploadOptions(){return this.uploadOptions}getToolbarOptions(){return this.toolbarOptions}getSearchOptions(){return this.searchOptions}getInitObject(){return{id:0,categoryid:0,title:"",description:"",isenabled:1,priority:0,categories:[],category_list:[]}}}return t.\u0275fac=function(e){return new(e||t)(d.ac(p.a),d.ac(h.a))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac}),t})();var g=i("tk/3"),f=i("/+A8"),m=i("LEd3");let v=(()=>{class t{constructor(t,e,i,o){this.settings=t,this.http=e,this.actions=i,this.coreActions=o}LoadRecords(t){const e=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(e,JSON.stringify(t)).subscribe(e=>{this.actions.loadSucceeded(e),e.categories.length>0&&this.actions.updateCategories(e.categories),this.coreActions.refreshListStats({totalrecords:e.records,pagesize:t.pagesize,pagenumber:t.pagenumber})},t=>{this.actions.loadFailed(t)})}GetInfo(t){const e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({id:t}))}AddRecord(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}DeleteRecord(t,e){t.actionstatus="delete";const i=[];i.push(t),this.ProcessActions(i,"delete")}ProcessActions(t,e){this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe(t=>{let i="Operation Performed";"delete"===e&&(i="Record Removed"),this.coreActions.Notify({title:i,text:"",css:"bg-success"})},t=>{this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(d.ac(u),d.ac(g.b),d.ac(f.a),d.ac(m.a))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac}),t})();var S=i("Hjmt"),O=i("/H0e"),R=i("4HLj"),y=i("R0Ic"),I=i("QxdJ"),A=i("cScK"),F=i("RDfn"),k=i("aIzJ");function z(t,e){1&t&&d.Nb(0,"app-loader")}function w(t,e){1&t&&(d.Sb(0,"span",22),d.Gc(1,"Disabled"),d.Rb())}function x(t,e){1&t&&(d.Sb(0,"span",23),d.Gc(1,"Active"),d.Rb())}function M(t,e){if(1&t){const t=d.Tb();d.Sb(0,"tr",9),d.Sb(1,"td",10),d.Sb(2,"div",5),d.Sb(3,"input",11),d.ec("ngModelChange",(function(i){return d.xc(t),e.$implicit.Selected=i}))("ngModelChange",(function(){return d.xc(t),d.gc(3).checkChange()})),d.Rb(),d.Nb(4,"label",12),d.Rb(),d.Rb(),d.Sb(5,"td"),d.Gc(6),d.Rb(),d.Sb(7,"td"),d.Sb(8,"h5"),d.Gc(9),d.Rb(),d.Nb(10,"div",13),d.Sb(11,"div",14),d.Ec(12,w,2,0,"span",15),d.Ec(13,x,2,0,"span",16),d.Rb(),d.Rb(),d.Sb(14,"td"),d.Gc(15),d.Rb(),d.Sb(16,"td"),d.Gc(17),d.Rb(),d.Sb(18,"td",17),d.Sb(19,"a",18),d.ec("click",(function(i){d.xc(t);const o=e.$implicit;return d.gc(3).editRecord(o,i),!1})),d.Nb(20,"i",19),d.Rb(),d.Sb(21,"a",20),d.ec("click",(function(i){d.xc(t);const o=e.$implicit,s=e.index;return d.gc(3).delete(o,s,i),!1})),d.Nb(22,"i",21),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=e.$implicit;d.nc("@fadeIn",void 0)("hidden",t.isdeleted),d.zb(3),d.oc("id",t.id),d.nc("ngModel",t.Selected),d.zb(1),d.oc("for",t.id),d.zb(2),d.Ic(" ",t.id," "),d.zb(3),d.Hc(t.title),d.zb(3),d.nc("ngIf",0==t.isenabled),d.zb(1),d.nc("ngIf",1==t.isenabled),d.zb(2),d.Ic(" ",t.threads," "),d.zb(2),d.Ic(" ",t.posts," ")}}function G(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",3),d.Sb(2,"table",4),d.Sb(3,"thead"),d.Sb(4,"tr"),d.Sb(5,"th"),d.Sb(6,"div",5),d.Sb(7,"input",6),d.ec("ngModelChange",(function(e){return d.xc(t),d.gc(2).selectall=e}))("ngModelChange",(function(){return d.xc(t),d.gc(2).processChange()})),d.Rb(),d.Nb(8,"label",7),d.Rb(),d.Rb(),d.Sb(9,"th"),d.Gc(10,"ID"),d.Rb(),d.Sb(11,"th"),d.Gc(12,"Forum"),d.Rb(),d.Sb(13,"th"),d.Gc(14,"Threads"),d.Rb(),d.Sb(15,"th"),d.Gc(16,"Posts"),d.Rb(),d.Sb(17,"th"),d.Gc(18,"---"),d.Rb(),d.Rb(),d.Rb(),d.Sb(19,"tbody"),d.Ec(20,M,23,11,"tr",8),d.hc(21,"async"),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=d.gc(2);d.zb(7),d.nc("ngModel",t.selectall),d.zb(13),d.nc("ngForOf",d.ic(21,3,t.Data$))("ngForTrackBy",t.getKey)}}function C(t,e){1&t&&d.Nb(0,"app-norecord")}function $(t,e){if(1&t&&(d.Sb(0,"div"),d.Ec(1,G,22,5,"div",0),d.hc(2,"async"),d.Ec(3,C,1,0,"app-norecord",0),d.hc(4,"async"),d.Rb()),2&t){const t=d.gc();d.zb(1),d.nc("ngIf",d.ic(2,2,t.Data$).length>0),d.zb(2),d.nc("ngIf",0===d.ic(4,4,t.Data$).length)}}let E=(()=>{class t{constructor(t,e,i,o){this.actions=t,this.dataService=e,this.coreActions=i,this.router=o,this.isActionGranded=!1,this.View=new d.n,this.SelectedItems=new d.n,this.sortedFields={ipaddress:{sort:"ipaddress",direction:"desc"},created_at:{sort:"created_at",direction:"desc"}},this.selectall=!1,this.fieldstates={ipaddress:!1,created_at:!1}}ngOnInit(){this.selectAll$.subscribe(t=>{this.selectall=t,this.checkChange()})}viewRecord(t,e){this.router.navigate(["/forums/profile/"+t.id]),e.stopPropagation()}editRecord(t,e){this.isActionGranded?(this.router.navigate(["/forums/process/"+t.id]),e.stopPropagation()):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}Sort(t){void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc";for(const e in this.fieldstates)this.fieldstates[e]=e===t;console.log(this.fieldstates),this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}getKey(t,e){return e.id}delete(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}PaginationChange(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}processChange(){this.actions.selectAll(this.selectall)}checkChange(){this.Data$.subscribe(t=>{const e=[];for(const i of t)i.Selected&&e.push(i);this.SelectedItems.emit(e)})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(f.a),d.Mb(v),d.Mb(m.a),d.Mb(n.c))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],["ng-bind-html","item.description"],[1,"m-b-10"],["class","badge badge-danger m-r-5 m-b-5",4,"ngIf"],["class","badge badge-success m-r-5 m-b-5",4,"ngIf"],[1,"text-nowrap"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"badge","badge-danger","m-r-5","m-b-5"],[1,"badge","badge-success","m-r-5","m-b-5"]],template:function(t,e){1&t&&(d.Nb(0,"alert"),d.Ec(1,z,1,0,"app-loader",0),d.hc(2,"async"),d.Ec(3,$,5,6,"div",0),d.hc(4,"async"),d.Sb(5,"div",1),d.Sb(6,"pagination",2),d.ec("OnSelection",(function(t){return e.PaginationChange(t)})),d.hc(7,"async"),d.hc(8,"async"),d.hc(9,"async"),d.Rb(),d.Rb()),2&t&&(d.zb(1),d.nc("ngIf",d.ic(2,5,e.loading$)),d.zb(2),d.nc("ngIf",!d.ic(4,7,e.loading$)),d.zb(3),d.nc("currentPage",d.ic(7,9,e.pagination$).currentPage)("totalRecords",d.ic(8,11,e.pagination$).totalRecords)("pageSize",d.ic(9,13,e.pagination$).pageSize))},directives:[I.a,s.n,A.a,F.a,c.a,c.n,c.q,s.m,k.a],pipes:[s.b],encapsulation:2,data:{animation:[Object(y.k)("fadeIn",[Object(y.j)(":enter",[Object(y.i)({opacity:"0",background:"#f5fb98"}),Object(y.e)("300ms ease-out",Object(y.f)([Object(y.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(y.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(y.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(r.a)([Object(a.e)(["forums","posts"])],t.prototype,"Data$",void 0),Object(r.a)([Object(a.e)(["forums","loading"])],t.prototype,"loading$",void 0),Object(r.a)([Object(a.e)(["forums","pagination"])],t.prototype,"pagination$",void 0),Object(r.a)([Object(a.e)(["forums","selectall"])],t.prototype,"selectAll$",void 0),t})();function j(t,e){1&t&&(d.Sb(0,"div"),d.Sb(1,"h2",4),d.Gc(2,"Access Denied"),d.Rb(),d.Rb())}function T(t,e){if(1&t){const t=d.Tb();d.Sb(0,"div"),d.Sb(1,"div",0),d.Sb(2,"div",5),d.Sb(3,"app-navigation-v2",6),d.ec("Action",(function(e){return d.xc(t),d.gc().toolbaraction(e)}))("SearchSelection",(function(e){return d.xc(t),d.gc().FindRecords(e)})),d.Rb(),d.Rb(),d.Sb(4,"div",7),d.Sb(5,"app-toolbar-v2",8),d.ec("Action",(function(e){return d.xc(t),d.gc().toolbaraction(e)}))("SelectAllCard",(function(e){return d.xc(t),d.gc().selectAll(e)})),d.Rb(),d.Sb(6,"div",9),d.Sb(7,"app-list",10),d.ec("View",(function(e){return d.xc(t),d.gc().toolbaraction(e)}))("SelectedItems",(function(e){return d.xc(t),d.gc().getSelectedItems(e)})),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=d.gc();d.zb(3),d.nc("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),d.zb(2),d.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),d.zb(2),d.nc("isActionGranded",t.isActionGranded)}}let L=(()=>{class t{constructor(t,e,i,o,s,c,n){this.settingService=t,this.dataService=e,this.coreActions=i,this.actions=o,this.permission=s,this.router=c,this.route=n,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Forums",this.subheading="Management",this.IsLoaded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={}}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521395897976","1521395939384",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521395897976",t.Role)&&(this.isActionGranded=!0))}),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe(t=>{this.FilterOptions=t,t.track_filter&&(this.loadRecords(this.FilterOptions),t.track_filter=!1,this.actions.updateFilterOptions(t))}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded?this.refreshStats():this.loadRecords(this.FilterOptions)}),this.categories$.subscribe(t=>{for(const e of t)this.SearchOptions.categories.push({key:e.id,value:e.title})}),this.route.params.subscribe(t=>{void 0!==t.catname&&(this.FilterOptions.forumid=t.catname,this.FilterOptions.track_filter=!0,this.actions.updateFilterOptions(this.FilterOptions))})}selectAll(t){this.actions.selectAll(t)}loadRecords(t){this.dataService.LoadRecords(t)}toolbaraction(t){switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value);case"f_status":this.actions.applyFilter({attr:"isenabled",value:t.value});break;case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value})}}FindRecords(t){const e=t.filters;e.pagenumber=1,e.track_filter=!0,null!==e.categoryname&&""!==e.categoryname&&(e.forumid=e.categoryname),this.actions.updateFilterOptions(e)}AddRecord(){this.router.navigate(["/forums/process/0"])}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}refreshStats(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(u),d.Mb(v),d.Mb(m.a),d.Mb(f.a),d.Mb(S.a),d.Mb(n.c),d.Mb(n.a))},t.\u0275cmp=d.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&d.Kc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action","SelectAllCard"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Ec(3,j,3,0,"div",3),d.Ec(4,T,8,5,"div",3),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.zb(3),d.nc("ngIf",!e.isAccessGranted),d.zb(1),d.nc("ngIf",e.isAccessGranted))},directives:[s.n,O.a,R.a,E],encapsulation:2,data:{animation:[l.a]}}),Object(r.a)([Object(a.e)(["forums","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(r.a)([Object(a.e)(["forums","categories"])],t.prototype,"categories$",void 0),Object(r.a)([Object(a.e)(["forums","itemsselected"])],t.prototype,"isItemSelected$",void 0),Object(r.a)([Object(a.e)(["forums","isloaded"])],t.prototype,"isloaded$",void 0),Object(r.a)([Object(a.e)(["forums","records"])],t.prototype,"records$",void 0),Object(r.a)([Object(a.e)(["forums","pagination"])],t.prototype,"pagination$",void 0),Object(r.a)([Object(a.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();var N=i("dNLF");let _=(()=>{class t{constructor(t,e){this.config=t,this.coreService=e}getControls(t){const e=[];return e.push(new N.h({key:"title",label:"Title",value:t.title,required:!0,order:0,maxLength:300})),e.push(new N.i({key:"description",label:"Description",value:t.description,required:!0,tinymiceOptions:this.coreService.prepareInitEditorSettings(),order:1})),e.push(new N.h({key:"priority",label:"Priority",value:t.priority,required:!0,order:2,maxLength:4,helpblock:"Prioritize forum topics based on numbers"})),e.push(new N.d({key:"categories",label:"Select Categories",value:this.coreService.prepareSelectedItems(t.category_list),multiselectOptions:this.coreService.getMultiCategorySettings(),required:!0,helpblock:"Select one or more categories to associate blog post",order:3})),e.sort((t,e)=>t.order-e.order)}}return t.\u0275fac=function(e){return new(e||t)(d.ac(h.a),d.ac(p.a))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac}),t})();var D=i("+kG/");function P(t,e){1&t&&(d.Sb(0,"div"),d.Sb(1,"h2",1),d.Gc(2,"Access Denied"),d.Rb(),d.Rb())}function H(t,e){1&t&&d.Nb(0,"app-loader")}function B(t,e){if(1&t){const t=d.Tb();d.Sb(0,"dynamic-modal-form",9),d.ec("OnSubmit",(function(e){return d.xc(t),d.gc(2).SubmitForm(e)})),d.Rb()}if(2&t){const t=d.gc(2);d.nc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function U(t,e){if(1&t&&(d.Sb(0,"div"),d.Sb(1,"div",2),d.Sb(2,"div",3),d.Sb(3,"div",4),d.Sb(4,"div",5),d.Sb(5,"h4",6),d.Gc(6),d.Rb(),d.Rb(),d.Sb(7,"div",7),d.Ec(8,H,1,0,"app-loader",0),d.Ec(9,B,1,5,"dynamic-modal-form",8),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t){const t=d.gc();d.zb(6),d.Hc(t.formHeading),d.zb(2),d.nc("ngIf",t.showLoader),d.zb(1),d.nc("ngIf",!t.showLoader)}}let J=(()=>{class t{constructor(t,e,i,o,s,c,n,r,a){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=o,this.actions=s,this.route=c,this.formService=n,this.permission=r,this.router=a,this.RecordID=0,this.controls=[],this.showLoader=!1,this.formHeading="Add Forum",this.submitText="Submit",this.IsLoaded=!1,this.Categories=[],this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521395897976","1521395939384",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521395897976",t.Role)&&(this.isActionGranded=!0))}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded||this.router.navigate(["/forums/"])}),this.route.params.subscribe(t=>{this.RecordID=Number.parseInt(t.id,10),isNaN(this.RecordID)&&(this.RecordID=0),this.RecordID>0?(this.formHeading="Update Topic",this.submitText="Update",this.LoadInfo()):this.initializeControls(this.settingService.getInitObject())}),this.categories$.subscribe(t=>{this.Categories=t,this.updateCategories()})}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{"success"===t.status?this.initializeControls(t.post):(this.coreActions.Notify({title:t.message,text:"",css:"bg-error"}),this.initializeControls(this.settingService.getInitObject())),this.showLoader=!1})}updateCategories(){this.coreService.updateCategories(this.controls,this.Categories)}initializeControls(t){this.controls=this.formService.getControls(t),this.updateCategories()}SubmitForm(t){if(!this.isActionGranded)return void this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"});this.showLoader=!0;let e="Added";this.RecordID>0&&(t.id=this.RecordID,e="Updated"),t.categories=this.coreService.returnSelectedCategoryArray(t.categories),this.dataService.AddRecord(t).subscribe(t=>{"error"===t.status?this.coreActions.Notify({title:t.message,text:"",css:"bg-error"}):(this.coreActions.Notify({title:"Record "+e+" Successfully",text:"",css:"bg-success"}),this.actions.reloadList(),this.router.navigate(["/forums/"])),this.showLoader=!1},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(u),d.Mb(v),d.Mb(p.a),d.Mb(m.a),d.Mb(f.a),d.Mb(n.a),d.Mb(_),d.Mb(S.a),d.Mb(n.c))},t.\u0275cmp=d.Gb({type:t,selectors:[["ng-component"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(d.Ec(0,P,3,0,"div",0),d.Ec(1,U,10,3,"div",0)),2&t&&(d.nc("ngIf",!e.isAccessGranted),d.zb(1),d.nc("ngIf",e.isAccessGranted))},directives:[s.n,F.a,D.a],encapsulation:2,data:{animation:[l.a]}}),Object(r.a)([Object(a.e)(["forums","categories"])],t.prototype,"categories$",void 0),Object(r.a)([Object(a.e)(["forums","isloaded"])],t.prototype,"isloaded$",void 0),Object(r.a)([Object(a.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();var V=i("o+qO");let K=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},providers:[u,v,_,f.a],imports:[[s.c,V.a,n.f,c.i]]}),t})();i.d(e,"ForumsModule",(function(){return X}));const q=[{path:"",data:{title:"Forums Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:L},{path:"category/:catname",data:{title:"Forums Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:L},{path:"process/:id",data:{title:"Add / Update Forums",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Add / Update Forums"}]},component:J}];let X=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(e){return new(e||t)},providers:[u,v,f.a],imports:[[s.c,c.i,V.a,K,o.c,n.f.forChild(q)]]}),t})()},pdjO:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var o=i("R0Ic");const s=Object(o.k)("fadeInAnimation",[Object(o.j)(":enter",[Object(o.i)({opacity:0,background:"#ff0000"}),Object(o.e)(".8s",Object(o.i)({opacity:1}))])])}}]);