function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/H0e":function(t,e,i){"use strict";i.d(e,"a",(function(){return M}));var n=i("fXoL"),o=i("ofXK"),c=i("3Pt+"),s=i("Egam"),a=i("tyNb");function r(t,e){if(1&t){var i=n.Tb();n.Sb(0,"a",11),n.ec("click",(function(t){return n.xc(i),n.gc(3).toggleSearch(t),!1})),n.Gc(1),n.Rb()}if(2&t){var o=n.gc(3);n.zb(1),n.Hc(o.AdvanceText)}}function l(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",15),n.Sb(1,"label",16),n.Sb(2,"input",17),n.ec("ngModelChange",(function(t){return n.xc(i),e.$implicit.selected=t})),n.Rb(),n.Gc(3),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit;n.zb(2),n.nc("ngModel",o.selected),n.zb(1),n.Ic(" ",o.title," ")}}function d(t,e){if(1&t&&(n.Sb(0,"div",13),n.Ec(1,l,4,2,"div",14),n.Nb(2,"hr"),n.Rb()),2&t){var i=n.gc(4);n.zb(1),n.nc("ngForOf",i.Options.filters)}}function b(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",15),n.Sb(1,"label",16),n.Sb(2,"input",20),n.ec("change",(function(t){n.xc(i);var e=n.gc().$implicit;return n.gc(5).choose(e,t)})),n.Rb(),n.Gc(3),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit,c=n.gc().$implicit;n.zb(2),n.oc("value",o.value),n.oc("name",c.group),n.nc("checked",c.value==o.value),n.zb(1),n.Ic(" ",o.title," ")}}function u(t,e){if(1&t&&(n.Sb(0,"div",13),n.Sb(1,"div",13),n.Sb(2,"strong"),n.Gc(3),n.Rb(),n.Rb(),n.Ec(4,b,4,4,"div",19),n.Rb()),2&t){var i=e.$implicit;n.zb(3),n.Hc(i.caption),n.zb(1),n.nc("ngForOf",i.options)}}function p(t,e){if(1&t&&(n.Sb(0,"div",13),n.Ec(1,u,5,2,"div",18),n.Nb(2,"hr"),n.Rb()),2&t){var i=n.gc(4);n.zb(1),n.nc("ngForOf",i.Options.checkFilters)}}function h(t,e){if(1&t&&(n.Sb(0,"option",24),n.Gc(1),n.Rb()),2&t){var i=e.$implicit;n.nc("value",i.value),n.zb(1),n.Hc(i.title)}}function g(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div"),n.Sb(1,"div",5),n.Sb(2,"label"),n.Gc(3),n.Rb(),n.Sb(4,"select",22),n.ec("ngModelChange",(function(t){return n.xc(i),e.$implicit.value=t})),n.Ec(5,h,2,2,"option",23),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit;n.zb(3),n.Hc(o.caption),n.zb(1),n.nc("ngModel",o.value),n.zb(1),n.nc("ngForOf",o.options)}}function f(t,e){if(1&t&&(n.Sb(0,"div"),n.Ec(1,g,6,3,"div",21),n.Rb()),2&t){var i=n.gc(4);n.zb(1),n.nc("ngForOf",i.Options.dropdownFilters)}}function v(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",5),n.Sb(1,"ng-multiselect-dropdown",25),n.ec("ngModelChange",(function(t){return n.xc(i),n.gc(4).Options.selectedcategory=t})),n.Rb(),n.Rb()}if(2&t){var o=n.gc(4);n.zb(1),n.nc("placeholder",o.Options.multiselectOptions.placeholder)("data",o.Options.categories)("ngModel",o.Options.selectedcategory)("settings",o.Options.multiselectOptions.dropdownSettings)}}function S(t,e){if(1&t&&(n.Sb(0,"div"),n.Ec(1,d,3,1,"div",1),n.Ec(2,p,3,1,"div",1),n.Ec(3,f,2,1,"div",3),n.Ec(4,v,2,4,"div",12),n.Rb()),2&t){var i=n.gc(3);n.zb(1),n.nc("ngIf",i.Options.filters.length>0),n.zb(1),n.nc("ngIf",i.Options.checkFilters.length>0),n.zb(1),n.nc("ngIf",i.Options.dropdownFilters.length>0),n.zb(1),n.nc("ngIf",i.Options.categories.length>0)}}function y(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div"),n.Sb(1,"div",5),n.Sb(2,"input",6),n.ec("ngModelChange",(function(t){return n.xc(i),n.gc(2).Options.term=t})),n.Rb(),n.Ec(3,r,2,1,"a",7),n.Rb(),n.Ec(4,S,5,4,"div",3),n.Sb(5,"div",8),n.Sb(6,"button",9),n.ec("click",(function(){return n.xc(i),n.gc(2).FindRecords()})),n.Nb(7,"i",10),n.Gc(8),n.Rb(),n.Rb(),n.Nb(9,"hr"),n.Rb()}if(2&t){var o=n.gc(2);n.zb(2),n.nc("ngModel",o.Options.term),n.zb(1),n.nc("ngIf",o.Options.showAdvanceSearchLink),n.zb(1),n.nc("ngIf",o.showAdvanceOptions),n.zb(4),n.Ic(" ",o.SearchBtnText," ")}}function m(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",28),n.ec("click",(function(t){n.xc(i);var o=e.$implicit;return n.gc(3).toolbaraction(o.event,o.options,t),!1})),n.Gc(1),n.Rb()}if(2&t){var o=e.$implicit;n.Bb(o.css),n.zb(1),n.Ic(" ",o.title," ")}}function O(t,e){if(1&t&&(n.Sb(0,"div",26),n.Sb(1,"div",13),n.Gc(2,"Actions"),n.Rb(),n.Ec(3,m,2,4,"button",27),n.Rb()),2&t){var i=n.gc(2);n.zb(3),n.nc("ngForOf",i.Options.actions)}}function R(t,e){if(1&t&&n.Nb(0,"i"),2&t){var i=n.gc(2).$implicit;n.Bb(i.css)}}function k(t,e){if(1&t&&(n.Sb(0,"a",34),n.Ec(1,R,1,3,"i",35),n.Gc(2),n.Rb()),2&t){var i=n.gc().$implicit;n.oc("routerLink",i.url),n.oc("title",i.title),n.zb(1),n.nc("ngIf",""!=i.css),n.zb(1),n.Ic(" ",i.title," ")}}function A(t,e){if(1&t&&n.Nb(0,"i"),2&t){var i=n.gc(2).$implicit;n.Bb(i.css)}}function I(t,e){if(1&t){var i=n.Tb();n.Sb(0,"a",36),n.ec("click",(function(t){n.xc(i);var e=n.gc().$implicit;return n.gc(3).toolbaraction(e.event,e.options,t),!1})),n.Ec(1,A,1,3,"i",35),n.Gc(2),n.Rb()}if(2&t){var o=n.gc().$implicit;n.oc("title",o.title),n.zb(1),n.nc("ngIf",""!=o.css),n.zb(1),n.Ic(" ",o.title," ")}}function w(t,e){if(1&t&&(n.Sb(0,"li",31),n.Ec(1,k,3,4,"a",32),n.Ec(2,I,3,3,"a",33),n.Rb()),2&t){var i=e.$implicit;n.zb(1),n.nc("ngIf",!i.clickevent),n.zb(1),n.nc("ngIf",i.clickevent)}}function C(t,e){if(1&t&&(n.Sb(0,"div",26),n.Sb(1,"div",13),n.Gc(2,"Navigation"),n.Rb(),n.Sb(3,"ul",29),n.Ec(4,w,3,2,"li",30),n.Rb(),n.Rb()),2&t){var i=n.gc(2);n.zb(4),n.nc("ngForOf",i.Options.navList)}}function _(t,e){if(1&t&&(n.Sb(0,"div",2),n.Ec(1,y,10,4,"div",3),n.Ec(2,O,4,1,"div",4),n.Ec(3,C,5,1,"div",4),n.Rb()),2&t){var i=n.gc();n.zb(1),n.nc("ngIf",i.Options.showSearchPanel),n.zb(1),n.nc("ngIf",i.Options.actions.length>0),n.zb(1),n.nc("ngIf",i.Options.navList.length>0)}}function j(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",43),n.Sb(1,"input",44),n.ec("ngModelChange",(function(t){return n.xc(i),n.gc(2).Options.term=t})),n.Rb(),n.Sb(2,"div",45),n.Sb(3,"button",46),n.ec("click",(function(){return n.xc(i),n.gc(2).FindRecords()})),n.Gc(4,"Go"),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=n.gc(2);n.zb(1),n.nc("ngModel",o.Options.term)}}function z(t,e){if(1&t&&(n.Sb(0,"option",24),n.Gc(1),n.Rb()),2&t){var i=e.$implicit;n.nc("value",i.value),n.zb(1),n.Hc(i.title)}}function G(t,e){if(1&t){var i=n.Tb();n.Sb(0,"div",41),n.Sb(1,"select",47),n.ec("change",(function(){return n.xc(i),n.gc(2).FindRecords()}))("ngModelChange",(function(t){return n.xc(i),e.$implicit.value=t})),n.Ec(2,z,2,2,"option",23),n.Rb(),n.Rb()}if(2&t){var o=e.$implicit;n.zb(1),n.nc("ngModel",o.value),n.zb(1),n.nc("ngForOf",o.options)}}function x(t,e){if(1&t){var i=n.Tb();n.Sb(0,"button",48),n.ec("click",(function(t){n.xc(i);var o=e.$implicit;return n.gc(2).toolbaraction(o.event,o.options,t),!1})),n.Gc(1),n.Rb()}if(2&t){var o=e.$implicit;n.oc("title",o.tooltip),n.zb(1),n.Ic(" ",o.title," ")}}function $(t,e){if(1&t&&(n.Sb(0,"div",13),n.Sb(1,"div",37),n.Sb(2,"div",38),n.Ec(3,j,5,1,"div",39),n.Rb(),n.Ec(4,G,3,2,"div",40),n.Sb(5,"div",41),n.Ec(6,x,2,2,"button",42),n.Rb(),n.Rb(),n.Rb()),2&t){var i=n.gc();n.zb(3),n.nc("ngIf",i.Options.showSearchPanel),n.zb(1),n.nc("ngForOf",i.Options.dropdownFilters),n.zb(2),n.nc("ngForOf",i.Options.actions)}}var M=function(){var t=function(){function t(){_classCallCheck(this,t),this.ItemsSelected=!1,this.isAdmin=!0,this.SearchBtnText="Find Records",this.OnSelection=new n.n,this.Action=new n.n,this.SearchSelection=new n.n,this.AdvanceText="Advance Search",this.showAdvanceOptions=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSelect",value:function(t){this.Options.selectedcategory=t.id}},{key:"toggleSearch",value:function(t){this.showAdvanceOptions?(this.showAdvanceOptions=!1,this.AdvanceText="Advance Search"):(this.showAdvanceOptions=!0,this.AdvanceText="Hide Search"),t.stopPropagation()}},{key:"FindRecords",value:function(){if(void 0!==this.FilterOptions){if(this.FilterOptions.term=this.Options.term,this.Options.filters.length>0){var t=!0,e=!1,i=void 0;try{for(var n,o=this.Options.filters[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var c=n.value;for(var s in this.FilterOptions)s===c.attr&&(this.FilterOptions[s]=c.selected?c.value:c.default_value)}}catch(I){e=!0,i=I}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}}if(this.Options.checkFilters.length>0){var a=!0,r=!1,l=void 0;try{for(var d,b=this.Options.checkFilters[Symbol.iterator]();!(a=(d=b.next()).done);a=!0){var u=d.value;for(var s in this.FilterOptions)s===u.attr&&(this.FilterOptions[s]=u.value)}}catch(I){r=!0,l=I}finally{try{a||null==b.return||b.return()}finally{if(r)throw l}}}if(this.Options.dropdownFilters.length>0){var p=!0,h=!1,g=void 0;try{for(var f,v=this.Options.dropdownFilters[Symbol.iterator]();!(p=(f=v.next()).done);p=!0){var S=f.value;for(var s in this.FilterOptions)s===S.attr&&(this.FilterOptions[s]=S.value)}}catch(I){h=!0,g=I}finally{try{p||null==v.return||v.return()}finally{if(h)throw g}}}if(void 0!==this.Options.selectedcategory&&this.Options.selectedcategory.length>0){var y=!0,m=!1,O=void 0;try{for(var R,k=this.Options.selectedcategory[Symbol.iterator]();!(y=(R=k.next()).done);y=!0){var A=R.value;this.FilterOptions.category_ids.push(A.key)}}catch(I){m=!0,O=I}finally{try{y||null==k.return||k.return()}finally{if(m)throw O}}this.FilterOptions.category_ids=this.Options.selectedcategory}void 0!==this.Options.datefilter&&(this.FilterOptions.datefilter=this.Options.datefilter),this.SearchSelection.emit({filters:this.FilterOptions})}}},{key:"toolbaraction",value:function(t,e,i){this.Action.emit({action:t,value:e}),i.stopPropagation()}},{key:"choose",value:function(t,e){t.value=e.target.value}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["app-navigation-v2"]],inputs:{Options:"Options",ItemsSelected:"ItemsSelected",FilterOptions:"FilterOptions",isAdmin:"isAdmin",SearchBtnText:"SearchBtnText",AdvanceText:"AdvanceText"},outputs:{OnSelection:"OnSelection",Action:"Action",SearchSelection:"SearchSelection"},decls:2,vars:2,consts:[["class","card-body border-secondary",4,"ngIf"],["class","m-b-10",4,"ngIf"],[1,"card-body","border-secondary"],[4,"ngIf"],["class","m-t-10",4,"ngIf"],[1,"form-group"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],["href","#",3,"click",4,"ngIf"],[1,"form-group","m-t-10"],[1,"btn","btn-danger","m-b-5","p-10","btn-block",3,"click"],[1,"icon-search4","text-size-base","position-left"],["href","#",3,"click"],["class","form-group",4,"ngIf"],[1,"m-b-10"],["class","form-check  p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],[1,"form-check","p-l-0","p-r-0","m-b-5"],[1,"form-check-label"],["type","checkbox",3,"ngModel","ngModelChange"],["class","m-b-10",4,"ngFor","ngForOf"],["class","form-check p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],["type","radio",3,"value","name","checked","change"],[4,"ngFor","ngForOf"],[1,"form-control","form-control-line",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"placeholder","data","ngModel","settings","ngModelChange"],[1,"m-t-10"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"list-group","list-group-full"],["class","list-group-item","routerLinkActive","active",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"list-group-item"],[3,"routerLink","title",4,"ngIf"],["href","#",3,"title","click",4,"ngIf"],[3,"routerLink","title"],[3,"class",4,"ngIf"],["href","#",3,"title","click"],[1,"row"],[1,"col"],["class","input-group mb-3",4,"ngIf"],["class","col-md-auto",4,"ngFor","ngForOf"],[1,"col-md-auto"],["class","btn btn-primary m-l-5",3,"title","click",4,"ngFor","ngForOf"],[1,"input-group","mb-3"],["type","text","placeholder","Search ...","aria-label","Search ...","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"form-control",3,"ngModel","change","ngModelChange"],[1,"btn","btn-primary","m-l-5",3,"title","click"]],template:function(t,e){1&t&&(n.Ec(0,_,4,3,"div",0),n.Ec(1,$,7,3,"div",1)),2&t&&(n.nc("ngIf",e.isAdmin),n.zb(1),n.nc("ngIf",!e.isAdmin))},directives:[o.n,c.c,c.n,c.q,o.m,c.a,c.v,c.s,c.x,s.a,a.d,a.e],encapsulation:2}),t}()},pdjO:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("R0Ic"),o=Object(n.k)("fadeInAnimation",[Object(n.j)(":enter",[Object(n.i)({opacity:0,background:"#ff0000"}),Object(n.e)(".8s",Object(n.i)({opacity:1}))])])},zwdw:function(t,e,i){"use strict";i.r(e);var n,o,c,s,a,r,l,d,b,u,p,h,g,f,v,S,y,m=i("ofXK"),O=i("1kSV"),R=i("3Pt+"),k=i("tyNb"),A=i("o+qO"),I=i("fXoL"),w=((n=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:n}),n.\u0275inj=I.Jb({factory:function(t){return new(t||n)},providers:[],imports:[[m.c,A.a,R.i,k.f]]}),n),C=i("II9H"),_=i("nD3/"),j=i("1pjZ"),z=((o=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/ads/load",getinfo:n+"api/ads/getinfo",action:n+"api/ads/action",proc:n+"api/ads/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!1,showcheckAll:!0,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Adult",ismultiple:!1,icon:"",value:1,clickevent:"f_type",tooltip:"Load Adult Ads",isclick:!0},{title:"Non Adult",ismultiple:!1,icon:"",value:0,clickevent:"f_type",tooltip:"Load Adult Ads",isclick:!0}),this.toolbarOptions.right_options.push({title:"Order",ismultiple:!0,position:"right",icon:"icon-sort-by-order-alt position-left",Options:[{id:"0",title:"ID",value:"id",isclick:!0,clickevent:"orderby",tooltip:"Order by id"},{id:"1",title:"Type",value:"type",isclick:!0,clickevent:"orderby",tooltip:"Order by type"}]})}},{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!1,navList:this.coreService.getSettingsNavList(),actions:[]}}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}}]),t}()).\u0275fac=function(t){return new(t||o)(I.ac(_.a),I.ac(j.a))},o.\u0275prov=I.Ib({token:o,factory:o.\u0275fac}),o),G=i("tk/3"),x=i("DoUi"),$=i("LEd3"),M=((s=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"UpdateRecord",value:function(t){var e=this;this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe((function(t){e.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})}),(function(t){e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}()).\u0275fac=function(t){return new(t||s)(I.ac(z),I.ac(G.b),I.ac(x.a),I.ac($.a))},s.\u0275prov=I.Ib({token:s,factory:s.\u0275fac}),s),F=((c=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:c}),c.\u0275inj=I.Jb({factory:function(t){return new(t||c)},providers:[z,M,x.a],imports:[[m.c,A.a,R.i]]}),c),N=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/ip/load",getinfo:n+"api/ip/getinfo",action:n+"api/ip/action",proc:n+"api/ip/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[{id:1,title:"Add",tooltip:"Block new ip adress",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitObject",value:function(){return{id:0,ipaddress:""}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(_.a),I.ac(j.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),L=i("OMwW"),T=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"AddRecord",value:function(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}},{key:"UpdateRecord",value:function(t){var e=this;this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe((function(t){e.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})}),(function(t){e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(N),I.ac(G.b),I.ac(L.a),I.ac($.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),P=((a=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:a}),a.\u0275inj=I.Jb({factory:function(t){return new(t||a)},providers:[N,T,L.a],imports:[[m.c,A.a,R.i]]}),a),E=i("mrSG"),D=i("Usal"),V=function(){var t=function(){function t(e,i){var n=this;_classCallCheck(this,t),this.coreService=e,this.config=i,this.Configs={};var o=i.getConfig("host");this.apiOptions={load:o+"api/categories/load",load_dropdown:o+"api/categories/load_dropdown",getinfo:o+"api/categories/getinfo",action:o+"api/categories/action",proc:o+"api/categories/proc"},this.configs$.subscribe((function(t){void 0!==t.general&&(console.log("configs defined"),n.Configs=t.general.category,n.init_toolbar_options(),n.init_search_options())}))}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}},{key:"initialize_actions",value:function(){return[{id:1,title:"Add Category",tooltip:"Add new category",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});var t=[];for(var e in this.Configs)t.push({id:this.Configs[e],title:e});for(var i=0,n=t;i<n.length;i++){var o=n[i];this.toolbarOptions.left_options[0].Options.push({id:"0",title:o.title,value:o.id,isclick:!0,clickevent:"f_type",tooltip:"Load "+o.title+" templates"})}this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"1",title:"Enable",value:1,actionstatus:"enable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:C.b.SUCCESS_BUTTON,tooltip:"Enable selected records"},{id:"2",title:"Disable",value:0,actionstatus:"disable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:C.b.SUCCESS_BUTTON,tooltip:"Disable selected records"},{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitObject",value:function(){return{id:0,title:"",term:"",description:"",parentid:0,priority:0,mode:0,isenabled:1,type:0,picturename:"",icon:"",files:[],img_url:""}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(_.a),I.ac(j.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),Object(E.a)([Object(D.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t}(),U=i("t+rW"),B=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"LoadDropdownCategories",value:function(t){var e=this,i=this.settings.getApiOptions().load_dropdown;this.http.post(i,{type:t}).subscribe((function(t){e.actions.loadDropdownCategories(t)}),(function(t){e.actions.loadFailed(t)}))}},{key:"AddRecord",value:function(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(V),I.ac(G.b),I.ac(U.a),I.ac($.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),H=((r=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:r}),r.\u0275inj=I.Jb({factory:function(t){return new(t||r)},providers:[V,B,U.a],imports:[[m.c,A.a,R.i,k.f]]}),r),J=i("dNLF"),K=((d=function(){function t(e,i){_classCallCheck(this,t),this.config=e,this.coreService=i}return _createClass(t,[{key:"getControls",value:function(t,e,i){var n=[];n.push(new J.h({key:"title",label:"Title",value:t.title,required:!0,minLength:3,maxLength:150,order:1})),n.push(new J.h({key:"term",label:"Term",value:t.term,minLength:3,maxLength:150,order:2}));var o=[];for(var c in i)o.push({key:i[c].toString(),value:c});n.push(new J.b({key:"type",label:"Select Type",required:!0,value:t.type.toString(),options:o,order:3})),n.push(new J.b({key:"parentid",label:"Select Parent",required:!0,value:t.parentid.toString(),options:[],order:4})),n.push(new J.h({key:"priority",label:"Priority",value:t.priority.toString(),minLength:3,maxLength:150,order:5})),n.push(new J.i({key:"description",label:"Description",value:t.description,tinymiceOptions:this.coreService.prepareInitEditorSettings(),required:!1,order:6})),n.push(new J.b({key:"isenabled",label:"Select Status",required:!0,value:t.isenabled.toString(),options:[{key:"1",value:"Public"},{key:"0",value:"Private"}],order:7})),n.push(new J.h({key:"icon",label:"Icon",value:t.icon,minLength:1,maxLength:100,order:8,helpblock:"Place font-awsome icon to display with selected category"}));var s={cropped_picture:t.picturename,croptype:1,upload_id:"cover_upload",colcss:"col-md-8",settings:{width:e.category_thumbnail_width,height:e.category_thumbnail_height},uploadbtntext:"Upload Image",btncss:"btn btn-success"};return n.push(new J.c({key:"picturename",label:"",value:t.picturename,required:!1,cropperOptions:s,helpblock:"Cropsize: "+s.settings.width+"x"+s.settings.height,order:9})),n.sort((function(t,e){return t.order-e.order}))}}]),t}()).\u0275fac=function(t){return new(t||d)(I.ac(j.a),I.ac(_.a))},d.\u0275prov=I.Ib({token:d,factory:d.\u0275fac}),d),q=((l=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:l}),l.\u0275inj=I.Jb({factory:function(t){return new(t||l)},providers:[V,B,K,U.a],imports:[[m.c,A.a,R.i]]}),l),Y=i("noRM"),W=i("aRip"),X=i("Pfcf"),Q=i("nT4z"),Z=((b=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:b}),b.\u0275inj=I.Jb({factory:function(t){return new(t||b)},providers:[Y.a,W.a,X.a,Q.a],imports:[[m.c,A.a,R.i]]}),b),tt=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/dictionary/load",getinfo:n+"api/dictionary/getinfo",action:n+"api/dictionary/action",proc:n+"api/dictionary/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[{id:1,value:2,group:"type",caption:"Type",attr:"type",options:[{id:4,title:"Screening Word",value:0},{id:5,title:"Restricted Usernams",value:1}]}],categories:[],selectedcategory:"",singleaction:!0,actions:this.init_actions()}}},{key:"init_actions",value:function(){return[{id:1,title:"Add Value",tooltip:"Add new value in dictionary",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitObject",value:function(){return{id:0,value:"",type:0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(_.a),I.ac(j.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),et=i("6Trk"),it=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this;console.log("filter options >>>>"),console.log(t);var i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"AddRecord",value:function(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}},{key:"UpdateRecord",value:function(t){var e=this;this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe((function(t){e.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})}),(function(t){e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(tt),I.ac(G.b),I.ac(et.a),I.ac($.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),nt=((u=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:u}),u.\u0275inj=I.Jb({factory:function(t){return new(t||u)},providers:[tt,it,et.a],imports:[[m.c,A.a,R.i]]}),u),ot=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load_roles:n+"api/role/load",load_objects:n+"api/roleobject/load",getinfo:n+"api/role/getinfo",add_role:n+"api/role/proc",add_object:n+"api/roleobject/proc",delete_role:n+"api/role/action",delete_object:n+"api/roleobject/action",update_permission:n+"api/rolepermission/proc"},this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[]}}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitRoleObject",value:function(){return{id:0,rolename:""}}},{key:"getInitRoleObjectObject",value:function(){return{id:0,objectname:"",description:"",uniqueid:""}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(_.a),I.ac(j.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),ct=i("JgvU"),st=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRoles",value:function(){var t=this,e=this.settings.getApiOptions().load_roles;this.actions.loadStarted(),this.http.post(e,{}).subscribe((function(e){t.actions.loadSucceeded(e)}),(function(e){t.actions.loadFailed(e)}))}},{key:"LoadObjects",value:function(){var t=this,e=this.settings.getApiOptions().load_objects;this.actions.loadObjectStarted(),this.http.post(e,{}).subscribe((function(e){t.actions.loadObjectSucceeded(e)}),(function(e){t.actions.loadObjectFailed(e)}))}},{key:"AddRole",value:function(t){var e=this;console.log(this.settings.getApiOptions().add_role),this.http.post(this.settings.getApiOptions().add_role,JSON.stringify(t)).subscribe((function(t){e.actions.addRole(t.record)}),(function(t){e.actions.loadObjectFailed(t)}))}},{key:"AddObject",value:function(t){var e=this;this.http.post(this.settings.getApiOptions().add_object,JSON.stringify(t)).subscribe((function(i){t.id>0?e.actions.updateObject(i.record):e.actions.addObject(i.record)}),(function(t){e.actions.loadObjectFailed(t)}))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({id:t}))}},{key:"UpdatePermission",value:function(t){var e=this.settings.getApiOptions().update_permission;return this.http.post(e,JSON.stringify(t))}},{key:"DeleteRecord",value:function(t,e,i,n){t.actionstatus="delete";var o=[];o.push(t),this.ProcessActions(o,"delete",i,n)}},{key:"ProcessActions",value:function(t,e,i,n){var o=this;1===n?this.actions.applyRoleChanges({SelectedItems:t,isenabled:e}):this.actions.applyObjectChanges({SelectedItems:t,isenabled:e}),this.http.post(i,JSON.stringify(t)).subscribe((function(t){var i="Operation Performed";"delete"===e&&(i="Record Removed"),o.coreActions.Notify({title:i,text:"",css:"bg-success"})}),(function(t){o.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(ot),I.ac(G.b),I.ac(ct.a),I.ac($.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),at=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getRoleControls",value:function(t){var e=[];return e.push(new J.h({key:"rolename",label:"Role Name",value:t.rolename,required:!0,order:0,maxLength:100,placeholder:"Enter Role Name"})),e.sort((function(t,e){return t.order-e.order}))}},{key:"getObjectControls",value:function(t){var e=[];return e.push(new J.h({key:"objectname",label:"Object Name",value:t.objectname,required:!0,order:0,maxLength:100,placeholder:"Enter Object Name"})),e.push(new J.g({key:"description",label:"Description",value:t.description,order:1,maxLength:1e3,placeholder:"Enter Short Description (Optional)"})),e.sort((function(t,e){return t.order-e.order}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),rt=((p=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:p}),p.\u0275inj=I.Jb({factory:function(t){return new(t||p)},providers:[ot,st,at,ct.a],imports:[[m.c,A.a,R.i,k.f]]}),p),lt=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/languages/load",getinfo:n+"api/languages/getinfo",action:n+"api/languages/action",proc:n+"api/languages/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[]}}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!1,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]}}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(_.a),I.ac(j.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),dt=i("dmcs"),bt=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){i.coreActions.Notify({title:"Operation Performed",text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(lt),I.ac(G.b),I.ac(dt.a),I.ac($.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),ut=((h=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:h}),h.\u0275inj=I.Jb({factory:function(t){return new(t||h)},providers:[lt,bt,dt.a],imports:[[m.c,A.a,R.i]]}),h),pt=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.config=i;var n=i.getConfig("host");this.apiOptions={load:n+"api/log/load",getinfo:n+"api/log/getinfo",action:n+"api/log/action",proc:n+"api/log/proc"},this.init_toolbar_options(),this.init_search_options()}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:[{id:1,title:"Delete All",tooltip:"Delete all logs",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-danger",event:"deleteall"}]}}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(_.a),I.ac(j.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),ht=i("TgGP"),gt=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}},{key:"DeleteAllRecords",value:function(){var t=this;this.actions.removeAllRecords(),this.coreActions.refreshListStats({totalrecords:0,pagesize:20,pagenumber:1}),this.http.post(this.settings.getApiOptions().action,JSON.stringify([{id:1,actionstatus:"deleteall"}])).subscribe((function(e){t.coreActions.Notify({title:"Logs cleared out",text:"",css:"bg-success"})}),(function(e){t.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(pt),I.ac(G.b),I.ac(ht.a),I.ac($.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),ft=((g=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:g}),g.\u0275inj=I.Jb({factory:function(t){return new(t||g)},providers:[pt,gt,ht.a],imports:[[m.c,A.a,R.i]]}),g),vt=function(){var t=function(){function t(e,i){var n=this;_classCallCheck(this,t),this.coreService=e,this.config=i,this.Configs={};var o=i.getConfig("host");this.apiOptions={load:o+"api/mailtemplates/load",getinfo:o+"api/mailtemplates/getinfo",action:o+"api/mailtemplates/action",proc:o+"api/mailtemplates/proc"},this.configs$.subscribe((function(t){void 0!==t.general&&(console.log("configs defined"),n.Configs=t.general.mailtemplates,n.init_toolbar_options(),n.init_search_options())}))}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!0,actions:this.initialize_actions()}}},{key:"initialize_actions",value:function(){return[{id:1,title:"Add Template",tooltip:"Add new mail template",row:1,icon:"icon-file-plus",options:{},css:"btn m-b-5 btn-block btn-success",event:"add"}]}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:-1,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0}]});var t=[];for(var e in this.Configs)t.push({value:this.Configs[e],title:e});for(var i=0,n=t;i<n.length;i++){var o=n[i];this.toolbarOptions.left_options[0].Options.push({id:"0",title:o.title,value:o.value,isclick:!0,clickevent:"f_type",tooltip:"Load "+o.title+" templates"})}this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}},{key:"getInitObject",value:function(){return{id:0,templatekey:"",description:"",subjecttags:"",subject:"",tags:"",contents:"",type:"0"}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(_.a),I.ac(j.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),Object(E.a)([Object(D.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t}(),St=i("GrDw"),yt=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"AddRecord",value:function(t){return this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify([{id:t}]))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(vt),I.ac(G.b),I.ac(St.a),I.ac($.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),mt=((v=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:v}),v.\u0275inj=I.Jb({factory:function(t){return new(t||v)},providers:[vt,yt,St.a],imports:[[m.c,A.a,R.i,k.f]]}),v),Ot=function(){var t=function(){function t(e){_classCallCheck(this,t),this.coreService=e}return _createClass(t,[{key:"getControls",value:function(t,e){var i=[],n=!1;t.id>0&&(n=!0),i.push(new J.h({key:"templatekey",label:"Template Key",value:t.templatekey,required:!0,minLength:3,maxLength:25,order:1,disabled:n,helpblock:"Unique key used to fetch mail template within site events. e.g REGUSER for user regiration"})),i.push(new J.g({key:"description",label:"Description",value:t.description,required:!0,helpblock:"A block of help text that breaks onto a new line and may extend beyond one line.",order:2})),i.push(new J.h({key:"subjecttags",label:"Subject Tags",value:t.subjecttags,required:!0,order:3,maxLength:100,helpblock:"Enter subject tags for informative purpose e.g [username], [email], that may be used in template subject for dynamic text processing"})),i.push(new J.h({key:"subject",label:"Subject",value:t.subject,required:!0,maxLength:150,order:4})),i.push(new J.h({key:"tags",label:"Content Tags",value:t.tags,required:!0,order:5,maxLength:100,helpblock:"Enter tags for informative purpose e.g [username], [email], that may be used in template body for dynamic text processing"})),i.push(new J.i({key:"contents",label:"Contents",value:t.contents,tinymiceOptions:this.coreService.prepareInitAdvacneEditorSettings(),required:!0,order:6}));var o=[];for(var c in e)o.push({key:e[c].toString(),value:c});return i.push(new J.b({key:"type",label:"Type",value:t.type,options:o,order:7})),i.sort((function(t,e){return t.order-e.order}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(_.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),Rt=((f=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:f}),f.\u0275inj=I.Jb({factory:function(t){return new(t||f)},providers:[vt,yt,Ot,St.a],imports:[[m.c,A.a,R.i]]}),f),kt=function(){var t=function(){function t(e,i){var n=this;_classCallCheck(this,t),this.coreService=e,this.config=i,this.Configs={};var o=i.getConfig("host");this.apiOptions={load:o+"api/tags/load",getinfo:o+"api/tags/getinfo",action:o+"api/tags/action",proc:o+"api/tags/proc"},this.configs$.subscribe((function(t){void 0!==t.general&&(n.Configs=t.general.tag,n.init_toolbar_options(),n.init_search_options())}))}return _createClass(t,[{key:"init_search_options",value:function(){this.searchOptions={showpanel:!0,showSearchPanel:!0,showAdvanceSearchLink:!1,term:"",topselectioncheck:!0,navList:this.coreService.getSettingsNavList(),filters:[{id:1,title:"Inactive Tags",value:0,default_value:2,selected:!1,attr:"isenabled"}],dropdownFilters:[],checkFilters:[],categories:[],selectedcategory:"",singleaction:!1,actions:[]}}},{key:"init_toolbar_options",value:function(){this.toolbarOptions={showtoolbar:!0,showsecondarytoolbar:!0,showcheckAll:!1,navbarcss:C.d.NAVBAR_CSS,left_options:[],left_caption:"Filter:",right_caption:"",right_options:[],actions:[]},this.toolbarOptions.left_options.push({title:"Status",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:0,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0},{id:"5",title:"Active",value:1,isclick:!0,clickevent:"f_status",tooltip:"Load active tags"},{id:"6",title:"Inactive",value:0,isclick:!0,clickevent:"f_status",tooltip:"Load inactive tags"}]}),this.toolbarOptions.left_options.push({title:"Type",ismultiple:!0,icon:"",Options:[]});var t=[];for(var e in this.Configs)t.push({value:this.Configs[e],title:e});for(var i=0,n=t;i<n.length;i++){var o=n[i];this.toolbarOptions.left_options[1].Options.push({id:"0",title:o.title,value:o.value,isclick:!0,clickevent:"f_type",tooltip:"Load "+o.title+" tags"})}this.toolbarOptions.left_options.push({title:"Tag Types",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:0,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0},{id:"5",title:"Normal Tags",value:0,isclick:!0,clickevent:"f_ttype",tooltip:"Load normal tags"},{id:"6",title:"User Searches",value:1,isclick:!0,clickevent:"f_ttype",tooltip:"Load user searches"}]}),this.toolbarOptions.left_options.push({title:"Tag Level",ismultiple:!0,icon:"",Options:[{id:"1",title:"Show All",value:0,isclick:!0,clickevent:"f_reset",tooltip:"Show all items"},{id:"2",separator:!0},{id:"5",title:"High",value:0,isclick:!0,clickevent:"f_tlevel",tooltip:"Load high priority tags"},{id:"6",title:"Medium",value:1,isclick:!0,clickevent:"f_tlevel",tooltip:"Load medium priority tags"},{id:"6",title:"Low",value:2,isclick:!0,clickevent:"f_tlevel",tooltip:"Load low priority tags"}]}),this.toolbarOptions.right_options.push(this.coreService.getPaginationSettings()),this.toolbarOptions.actions.push({title:"Mark As",ismultiple:!0,icon:"",Options:[{id:"1",title:"Activate",value:1,actionstatus:"enable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:C.b.DARK_BUTTON,tooltip:"Enable selected records"},{id:"2",title:"Deactivate",value:0,actionstatus:"disable",attr:"isenabled",isclick:!0,clickevent:"m_markas",icon:"",css:C.b.DANGER_BUTTON,tooltip:"Disable selected records"},{id:"0",title:"Top Priority",value:0,actionstatus:"high",attr:"tag_level",isclick:!0,clickevent:"m_markas",icon:"",css:C.b.DARK_BUTTON,tooltip:"Mark as top priority"},{id:"1",title:"Medium",value:1,actionstatus:"medium",attr:"tag_level",isclick:!0,clickevent:"m_markas",icon:"",css:C.b.DARK_BUTTON,tooltip:"Mark as medium"},{id:"3",title:"Low Priority",value:1,actionstatus:"low",isclick:!0,attr:"tag_level",clickevent:"m_markas",icon:"",css:C.b.DARK_BUTTON,tooltip:"Mark as low priority"},{id:"2",title:"Delete",value:0,actionstatus:"delete",css:C.b.DANGER_BUTTON,attr:"",isclick:!0,clickevent:"m_markas",icon:C.c.DELETE_ICON,tooltip:"Delete selected records"}]})}},{key:"getApiOptions",value:function(){return this.apiOptions}},{key:"getUploadOptions",value:function(){return this.uploadOptions}},{key:"getToolbarOptions",value:function(){return this.toolbarOptions}},{key:"getSearchOptions",value:function(){return this.searchOptions}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(_.a),I.ac(j.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),Object(E.a)([Object(D.e)(["configuration","configs"])],t.prototype,"configs$",void 0),t}(),At=i("Ydb0"),It=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settings=e,this.http=i,this.actions=n,this.coreActions=o}return _createClass(t,[{key:"LoadRecords",value:function(t){var e=this,i=this.settings.getApiOptions().load;this.actions.loadStarted(),this.http.post(i,JSON.stringify(t)).subscribe((function(i){e.actions.loadSucceeded(i),e.coreActions.refreshListStats({totalrecords:i.records,pagesize:t.pagesize,pagenumber:t.pagenumber})}),(function(t){e.actions.loadFailed(t)}))}},{key:"GetInfo",value:function(t){var e=this.settings.getApiOptions().getinfo;return this.http.post(e,JSON.stringify({userid:t}))}},{key:"UpdateRecord",value:function(t){var e=this;this.actions.updateRecord(t),this.http.post(this.settings.getApiOptions().proc,JSON.stringify(t)).subscribe((function(t){e.coreActions.Notify({title:"Record Updated Successfully",text:"",css:"bg-success"})}),(function(t){e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}},{key:"DeleteRecord",value:function(t,e){t.actionstatus="delete";var i=[];i.push(t),this.ProcessActions(i,"delete")}},{key:"ProcessActions",value:function(t,e){var i=this;this.actions.applyChanges({SelectedItems:t,isenabled:e}),this.http.post(this.settings.getApiOptions().action,JSON.stringify(t)).subscribe((function(t){var n="Operation Performed";"delete"===e&&(n="Record Removed"),i.coreActions.Notify({title:n,text:"",css:"bg-success"})}),(function(t){i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.ac(kt),I.ac(G.b),I.ac(At.a),I.ac($.a))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),wt=((y=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:y}),y.\u0275inj=I.Jb({factory:function(t){return new(t||y)},providers:[kt,It,At.a],imports:[[m.c,A.a,R.i]]}),y),Ct=((S=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||S)},S.\u0275cmp=I.Gb({type:S,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&I.Nb(0,"router-outlet")},directives:[k.g],encapsulation:2}),S),_t=i("Hjmt");function jt(t,e){if(1&t&&I.Nb(0,"i"),2&t){var i=I.gc().$implicit;I.Bb(i.css)}}function zt(t,e){if(1&t&&(I.Sb(0,"li",8),I.Sb(1,"a",9),I.Ec(2,jt,1,3,"i",10),I.Gc(3),I.Rb(),I.Rb()),2&t){var i=e.$implicit;I.zb(1),I.oc("routerLink",i.url),I.oc("title",i.title),I.zb(1),I.nc("ngIf",""!=i.css),I.zb(1),I.Ic(" ",i.title," ")}}var Gt,xt=((Gt=function(){function t(e,i){_classCallCheck(this,t),this.coreService=e,this.permission=i,this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.NavList=this.coreService.getSettingsNavList()}}]),t}()).\u0275fac=function(t){return new(t||Gt)(I.Mb(_.a),I.Mb(_t.a))},Gt.\u0275cmp=I.Gb({type:Gt,selectors:[["ng-component"]],decls:9,vars:1,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"col-xlg-4","col-lg-6","col-md-6"],[1,"card-body","inbox-panel"],[1,"list-group","list-group-full"],["class","list-group-item","routerLinkActive","active",4,"ngFor","ngForOf"],[1,"col-xlg-8","col-lg-6","col-md-6"],["routerLinkActive","active",1,"list-group-item"],[3,"routerLink","title"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"div",1),I.Sb(2,"div",2),I.Sb(3,"div",0),I.Sb(4,"div",3),I.Sb(5,"div",4),I.Sb(6,"ul",5),I.Ec(7,zt,4,4,"li",6),I.Rb(),I.Rb(),I.Rb(),I.Nb(8,"div",7),I.Rb(),I.Rb(),I.Rb(),I.Rb()),2&t&&(I.zb(7),I.nc("ngForOf",e.NavList))},directives:[m.m,k.d,k.e,m.n],encapsulation:2}),Object(E.a)([Object(D.e)(["users","auth"])],Gt.prototype,"auth$",void 0),Gt),$t=i("/H0e"),Mt=i("4HLj"),Ft=i("QxdJ"),Nt=i("cScK"),Lt=i("RDfn");function Tt(t,e){1&t&&I.Nb(0,"app-loader")}function Pt(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",13),I.Sb(2,"div",14),I.Sb(3,"div"),I.Sb(4,"strong",15),I.Gc(5),I.Rb(),I.Nb(6,"br"),I.Sb(7,"textarea",16),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc().$implicit.adscript=t})),I.Rb(),I.Rb(),I.Sb(8,"div",17),I.Sb(9,"button",18),I.ec("click",(function(){I.xc(i);var t=I.gc().$implicit;return I.gc(3)._UpdateRecord(t)})),I.Gc(10," Save "),I.Rb(),I.Sb(11,"button",19),I.ec("click",(function(t){I.xc(i);var e=I.gc().$implicit;return I.gc(3).toggleEditView(e,t)})),I.Gc(12," Cancel "),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc().$implicit;I.zb(5),I.Hc(n.name),I.zb(2),I.nc("ngModel",n.adscript)}}function Et(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"a",20),I.ec("click",(function(t){I.xc(i);var e=I.gc().$implicit;return I.gc(3).toggleEditView(e,t),!1})),I.Gc(2),I.Rb(),I.Rb()}if(2&t){var n=I.gc().$implicit;I.zb(2),I.Hc(n.name)}}function Dt(t,e){1&t&&(I.Sb(0,"span",21),I.Gc(1,"Adult"),I.Rb())}function Vt(t,e){1&t&&(I.Sb(0,"span",22),I.Gc(1,"Non Adult"),I.Rb())}function Ut(t,e){if(1&t&&(I.Sb(0,"tr"),I.Sb(1,"td",9),I.Ec(2,Pt,13,2,"div",0),I.Ec(3,Et,3,1,"div",0),I.Rb(),I.Sb(4,"td",10),I.Ec(5,Dt,2,0,"span",11),I.Ec(6,Vt,2,0,"span",12),I.Rb(),I.Rb()),2&t){var i=e.$implicit;I.zb(2),I.nc("ngIf",i.editview),I.zb(1),I.nc("ngIf",!i.editview),I.zb(2),I.nc("ngIf",1==i.type),I.zb(1),I.nc("ngIf",0==i.type)}}function Bt(t,e){if(1&t&&(I.Sb(0,"div",6),I.Sb(1,"table",7),I.Sb(2,"thead"),I.Sb(3,"tr"),I.Sb(4,"th"),I.Gc(5,"Title"),I.Rb(),I.Sb(6,"th"),I.Gc(7,"Type"),I.Rb(),I.Rb(),I.Rb(),I.Sb(8,"tbody"),I.Ec(9,Ut,7,4,"tr",8),I.hc(10,"async"),I.Rb(),I.Rb(),I.Rb()),2&t){var i=I.gc(2);I.zb(9),I.nc("ngForOf",I.ic(10,2,i.Data$))("ngForTrackBy",i.getKey)}}function Ht(t,e){1&t&&(I.Sb(0,"div",23),I.Sb(1,"div",24),I.Sb(2,"div",25),I.Sb(3,"h3",26),I.Gc(4,"No Records Found!"),I.Rb(),I.Rb(),I.Rb(),I.Rb())}function Jt(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,Bt,11,4,"div",4),I.hc(2,"async"),I.Ec(3,Ht,5,0,"div",5),I.hc(4,"async"),I.Rb()),2&t){var i=I.gc();I.zb(1),I.nc("ngIf",I.ic(2,2,i.Data$).length>0),I.zb(2),I.nc("ngIf",0==I.ic(4,4,i.Data$).length)}}var Kt,qt=((Kt=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.dataService=i,this.coreActions=n,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"toggleEditView",value:function(t,e){t.editview=!t.editview,e.stopPropagation()}},{key:"_UpdateRecord",value:function(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"getKey",value:function(t,e){return e.id}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}}]),t}()).\u0275fac=function(t){return new(t||Kt)(I.Mb(x.a),I.Mb(M),I.Mb($.a))},Kt.\u0275cmp=I.Gb({type:Kt,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},decls:11,vars:15,consts:[[4,"ngIf"],[2,"padding","15px 10px"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],["class","row row-wrap",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","row-wrap"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],[2,"width","80%"],[2,"width","20%"],["class","badge badge-danger m-r-5 m-b-5",4,"ngIf"],["class","badge badge-success m-r-5 m-b-5",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"m-b-3"],["rows","4","placeholder","enter script here",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],["href","",3,"click"],[1,"badge","badge-danger","m-r-5","m-b-5"],[1,"badge","badge-success","m-r-5","m-b-5"],[1,"row"],[1,"col-md-12"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(I.Ec(0,Tt,1,0,"app-loader",0),I.hc(1,"async"),I.Sb(2,"div",1),I.Nb(3,"alert"),I.Ec(4,Jt,5,6,"div",0),I.hc(5,"async"),I.Rb(),I.Sb(6,"div",2),I.Sb(7,"pagination",3),I.ec("OnSelection",(function(t){return e.PaginationChange(t)})),I.hc(8,"async"),I.hc(9,"async"),I.hc(10,"async"),I.Rb(),I.Rb()),2&t&&(I.nc("ngIf",I.ic(1,5,e.loading$)),I.zb(4),I.nc("ngIf",!I.ic(5,7,e.loading$)),I.zb(3),I.nc("currentPage",I.ic(8,9,e.pagination$).currentPage)("totalRecords",I.ic(9,11,e.pagination$).totalRecords)("pageSize",I.ic(10,13,e.pagination$).pageSize))},directives:[m.n,Ft.a,Nt.a,Lt.a,m.m,R.c,R.n,R.q],pipes:[m.b],encapsulation:2}),Object(E.a)([Object(D.e)(["advertisement","posts"])],Kt.prototype,"Data$",void 0),Object(E.a)([Object(D.e)(["advertisement","loading"])],Kt.prototype,"loading$",void 0),Object(E.a)([Object(D.e)(["advertisement","pagination"])],Kt.prototype,"pagination$",void 0),Kt);function Yt(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",4),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function Wt(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",0),I.Sb(2,"div",5),I.Sb(3,"app-navigation-v2",6),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SearchSelection",(function(t){return I.xc(i),I.gc().FindRecords(t)})),I.Rb(),I.Rb(),I.Sb(4,"div",7),I.Sb(5,"app-toolbar-v2",8),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)})),I.Rb(),I.Sb(6,"div",9),I.Sb(7,"app-list",10),I.ec("View",(function(t){return I.xc(i),I.gc().toolbaraction(t)})),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc();I.zb(3),I.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),I.zb(2),I.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),I.zb(2),I.nc("isActionGranded",n.isActionGranded)}}var Xt,Qt,Zt=((Xt=function(){function t(e,i,n,o){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.permission=n,this.actions=o,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.isloaded$.subscribe((function(e){e||t.dataService.LoadRecords(t.FilterOptions)}))}},{key:"toolbaraction",value:function(t){switch(t.action){case"f_type":this.actions.applyFilter({attr:"type",value:t.value})}}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}}]),t}()).\u0275fac=function(t){return new(t||Xt)(I.Mb(z),I.Mb(M),I.Mb(_t.a),I.Mb(x.a))},Xt.\u0275cmp=I.Gb({type:Xt,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"div",1),I.Sb(2,"div",2),I.Ec(3,Yt,3,0,"div",3),I.Ec(4,Wt,8,5,"div",3),I.Rb(),I.Rb(),I.Rb()),2&t&&(I.zb(3),I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Mt.a,qt],encapsulation:2}),Object(E.a)([Object(D.e)(["advertisement","filteroptions"])],Xt.prototype,"filteroptions$",void 0),Object(E.a)([Object(D.e)(["advertisement","categories"])],Xt.prototype,"categories$",void 0),Object(E.a)([Object(D.e)(["advertisement","isloaded"])],Xt.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],Xt.prototype,"auth$",void 0),Xt),te=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getControls",value:function(t){var e=[];return e.push(new J.h({key:"ipaddress",label:"IP Address",value:t.ipaddress,required:!0,minLength:5,maxLength:40,order:1})),e.sort((function(t,e){return t.order-e.order}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),ee=i("+kG/"),ie=((Qt=function(){function t(e,i,n,o){_classCallCheck(this,t),this.activeModal=e,this.service=i,this.dataService=n,this.coreActions=o,this.showLoader=!1,this.list=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.title=this.Info.title,this.controls=this.service.getControls(this.Info.data)}},{key:"SubmitForm",value:function(t){var e=this;void 0===this.Info.isActionGranded||this.Info.isActionGranded?(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.showLoader=!0,this.dataService.AddRecord(t).subscribe((function(i){e.showLoader=!1,e.coreActions.Notify({title:"Record Added Successfully",text:"",css:"bg-success"}),e.activeModal.close({data:t})}),(function(t){e.showLoader=!1,e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"close",value:function(){this.activeModal.dismiss("Cancel Clicked")}}]),t}()).\u0275fac=function(t){return new(t||Qt)(I.Mb(O.a),I.Mb(te),I.Mb(T),I.Mb($.a))},Qt.\u0275cmp=I.Gb({type:Qt,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[I.yb([te,T])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"h4",1),I.Gc(2),I.Rb(),I.Sb(3,"button",2),I.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),I.Sb(4,"span",3),I.Gc(5,"\xd7"),I.Rb(),I.Rb(),I.Rb(),I.Sb(6,"dynamic-modal-form",4),I.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),I.Rb()),2&t&&(I.zb(2),I.Hc(e.title),I.zb(4),I.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[ee.a],encapsulation:2}),Qt),ne=i("pdjO"),oe=i("R0Ic"),ce=i("aIzJ");function se(t,e){1&t&&I.Nb(0,"app-loader")}function ae(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",21),I.Sb(2,"div",22),I.Sb(3,"div"),I.Sb(4,"input",23),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc().$implicit.ipaddress=t})),I.Rb(),I.Rb(),I.Sb(5,"div",24),I.Sb(6,"button",25),I.ec("click",(function(){I.xc(i);var t=I.gc().$implicit;return I.gc(3)._UpdateRecord(t)})),I.Gc(7," Save "),I.Rb(),I.Sb(8,"button",26),I.ec("click",(function(t){I.xc(i);var e=I.gc().$implicit;return I.gc(3).toggleEditView(e,t)})),I.Gc(9," Cancel "),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc().$implicit;I.zb(4),I.nc("ngModel",n.ipaddress)}}function re(t,e){if(1&t&&(I.Sb(0,"div"),I.Gc(1),I.Rb()),2&t){var i=I.gc().$implicit;I.zb(1),I.Ic(" ",i.ipaddress," ")}}function le(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr",11),I.Sb(1,"td",12),I.Sb(2,"div",5),I.Sb(3,"input",13),I.ec("ngModelChange",(function(t){return I.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return I.xc(i),I.gc(3).checkChange()})),I.Rb(),I.Nb(4,"label",14),I.Rb(),I.Rb(),I.Sb(5,"td"),I.Ec(6,ae,10,1,"div",0),I.Ec(7,re,2,1,"div",0),I.Rb(),I.Sb(8,"td"),I.Sb(9,"span",15),I.Nb(10,"i",16),I.Rb(),I.Gc(11),I.hc(12,"date"),I.Rb(),I.Sb(13,"td",9),I.Sb(14,"a",17),I.ec("click",(function(t){I.xc(i);var n=e.$implicit;return I.gc(3).toggleEditView(n,t),!1})),I.Nb(15,"i",18),I.Rb(),I.Sb(16,"a",19),I.ec("click",(function(t){I.xc(i);var n=e.$implicit,o=e.index;return I.gc(3).delete(n,o,t),!1})),I.Nb(17,"i",20),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit;I.nc("@fadeIn",void 0)("hidden",n.isdeleted),I.zb(3),I.oc("id",n.id),I.nc("ngModel",n.Selected),I.zb(1),I.oc("for",n.id),I.zb(2),I.nc("ngIf",n.editview),I.zb(1),I.nc("ngIf",!n.editview),I.zb(4),I.Ic(" ",I.jc(12,8,n.created_at,"fullDate")," ")}}function de(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",3),I.Sb(2,"table",4),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th"),I.Sb(6,"div",5),I.Sb(7,"input",6),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc(2).selectall=t}))("ngModelChange",(function(){return I.xc(i),I.gc(2).processChange()})),I.Rb(),I.Nb(8,"label",7),I.Rb(),I.Rb(),I.Sb(9,"th"),I.Sb(10,"span",8),I.Gc(11,"IP Address"),I.Rb(),I.Rb(),I.Sb(12,"th"),I.Sb(13,"span",8),I.Gc(14,"Date"),I.Rb(),I.Rb(),I.Sb(15,"th",9),I.Gc(16," Action "),I.Rb(),I.Rb(),I.Rb(),I.Sb(17,"tbody"),I.Ec(18,le,18,11,"tr",10),I.hc(19,"async"),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc(2);I.zb(7),I.nc("ngModel",n.selectall),I.zb(11),I.nc("ngForOf",I.ic(19,3,n.Data$))("ngForTrackBy",n.getKey)}}function be(t,e){1&t&&I.Nb(0,"app-norecord")}function ue(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,de,20,5,"div",0),I.hc(2,"async"),I.Ec(3,be,1,0,"app-norecord",0),I.hc(4,"async"),I.Rb()),2&t){var i=I.gc();I.zb(1),I.nc("ngIf",I.ic(2,2,i.Data$).length>0),I.zb(2),I.nc("ngIf",0===I.ic(4,4,i.Data$).length)}}var pe=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.dataService=i,this.coreActions=n,this.isActionGranded=!1,this.selectall=!1,this.SelectedItems=new I.n,this.View=new I.n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"toggleEditView",value:function(t,e){t.editview=!t.editview,e.stopPropagation()}},{key:"_UpdateRecord",value:function(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"getKey",value:function(t,e){return e.id}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(L.a),I.Mb(T),I.Mb($.a))},t.\u0275cmp=I.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{SelectedItems:"SelectedItems",View:"View"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"m-r-5"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"text-muted"],[1,"fa","fa-clock-o"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update IP Address",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,e){1&t&&(I.Nb(0,"alert"),I.Ec(1,se,1,0,"app-loader",0),I.hc(2,"async"),I.Ec(3,ue,5,6,"div",0),I.hc(4,"async"),I.Sb(5,"div",1),I.Sb(6,"pagination",2),I.ec("OnSelection",(function(t){return e.PaginationChange(t)})),I.hc(7,"async"),I.hc(8,"async"),I.hc(9,"async"),I.Rb(),I.Rb()),2&t&&(I.zb(1),I.nc("ngIf",I.ic(2,5,e.loading$)),I.zb(2),I.nc("ngIf",!I.ic(4,7,e.loading$)),I.zb(3),I.nc("currentPage",I.ic(7,9,e.pagination$).currentPage)("totalRecords",I.ic(8,11,e.pagination$).totalRecords)("pageSize",I.ic(9,13,e.pagination$).pageSize))},directives:[Ft.a,m.n,Nt.a,Lt.a,R.a,R.n,R.q,m.m,R.c,ce.a],pipes:[m.b,m.e],encapsulation:2,data:{animation:[Object(oe.k)("fadeIn",[Object(oe.j)(":enter",[Object(oe.i)({opacity:"0",background:"#f5fb98"}),Object(oe.e)("300ms ease-out",Object(oe.f)([Object(oe.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(oe.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(oe.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(E.a)([Object(D.e)(["blockip","posts"])],t.prototype,"Data$",void 0),Object(E.a)([Object(D.e)(["blockip","loading"])],t.prototype,"loading$",void 0),Object(E.a)([Object(D.e)(["blockip","pagination"])],t.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["blockip","selectall"])],t.prototype,"selectAll$",void 0),t}();function he(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",4),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function ge(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",0),I.Sb(2,"div",5),I.Sb(3,"app-navigation-v2",6),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SearchSelection",(function(t){return I.xc(i),I.gc().FindRecords(t)})),I.Rb(),I.Rb(),I.Sb(4,"div",7),I.Sb(5,"app-toolbar-v2",8),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)})),I.Rb(),I.Sb(6,"div",9),I.Sb(7,"app-list",10),I.ec("View",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SelectedItems",(function(t){return I.xc(i),I.gc().getSelectedItems(t)})),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc();I.zb(3),I.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),I.zb(2),I.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),I.zb(2),I.nc("isActionGranded",n.isActionGranded)}}var fe,ve=((fe=function(){function t(e,i,n,o,c,s){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.modalService=n,this.permission=o,this.coreActions=c,this.actions=s,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Block IP",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){if(this.isActionGranded)switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"AddRecord",value:function(){var t=this,e=this.modalService.open(ie,{backdrop:!1});e.componentInstance.Info={title:"Block IP Address",data:this.settingService.getInitObject()},e.result.then((function(e){t.actions.addRecord({id:0,ipaddress:e.data.ipaddress,created_at:new Date})}),(function(t){console.log("dismissed")}))}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t;var e=!1;this.SelectedItems.length>0&&(e=!0),this.actions.updateItemsSelectionStatus(e),console.log("items selected"),console.log(this.SelectedItems)}},{key:"ProcessActions",value:function(t){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)o.value.actionstatus=t.actionstatus}catch(s){i=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||fe)(I.Mb(N),I.Mb(T),I.Mb(O.b),I.Mb(_t.a),I.Mb($.a),I.Mb(L.a))},fe.\u0275cmp=I.Gb({type:fe,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"div",1),I.Sb(2,"div",2),I.Ec(3,he,3,0,"div",3),I.Ec(4,ge,8,5,"div",3),I.Rb(),I.Rb(),I.Rb()),2&t&&(I.zb(3),I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Mt.a,pe],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["blockip","filteroptions"])],fe.prototype,"filteroptions$",void 0),Object(E.a)([Object(D.e)(["blockip","itemsselected"])],fe.prototype,"isItemSelected$",void 0),Object(E.a)([Object(D.e)(["blockip","isloaded"])],fe.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["blockip","records"])],fe.prototype,"records$",void 0),Object(E.a)([Object(D.e)(["blockip","pagination"])],fe.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],fe.prototype,"auth$",void 0),fe);function Se(t,e){1&t&&I.Nb(0,"app-loader")}function ye(t,e){if(1&t&&I.Nb(0,"i"),2&t){var i=I.gc().$implicit;I.Bb(i.icon)}}function me(t,e){if(1&t&&(I.Sb(0,"span"),I.Gc(1),I.Rb()),2&t){var i=I.gc().$implicit;I.zb(1),I.Hc(i.title)}}function Oe(t,e){if(1&t&&(I.Sb(0,"span"),I.Gc(1),I.Rb()),2&t){var i=I.gc().$implicit;I.zb(1),I.Hc(i.term)}}function Re(t,e){if(1&t&&(I.Sb(0,"span",25),I.Gc(1),I.Rb()),2&t){var i=I.gc().$implicit;I.zb(1),I.Hc(i.title)}}function ke(t,e){if(1&t&&(I.Sb(0,"span"),I.Ec(1,Re,2,1,"span",17),I.Rb()),2&t){var i=e.$implicit,n=I.gc().$implicit;I.zb(1),I.nc("ngIf",n.type===i.id)}}function Ae(t,e){1&t&&(I.Sb(0,"span",26),I.Gc(1,"Normal"),I.Rb())}function Ie(t,e){1&t&&(I.Sb(0,"span",26),I.Gc(1,"Active"),I.Rb())}function we(t,e){1&t&&(I.Sb(0,"span",25),I.Gc(1,"Inactive"),I.Rb())}var Ce=function(t){return[t]};function _e(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr",9),I.Sb(1,"td",10),I.Sb(2,"div",5),I.Sb(3,"input",11),I.ec("ngModelChange",(function(t){return I.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return I.xc(i),I.gc(3).checkChange()})),I.Rb(),I.Nb(4,"label",12),I.Rb(),I.Rb(),I.Sb(5,"td"),I.Gc(6),I.Rb(),I.Sb(7,"td"),I.Ec(8,ye,1,3,"i",13),I.Gc(9),I.Sb(10,"a",14),I.Gc(11),I.Rb(),I.Rb(),I.Sb(12,"td"),I.Ec(13,me,2,1,"span",0),I.Ec(14,Oe,2,1,"span",0),I.Rb(),I.Sb(15,"td"),I.Ec(16,ke,2,1,"span",15),I.Rb(),I.Sb(17,"td"),I.Ec(18,Ae,2,0,"span",16),I.Rb(),I.Sb(19,"td"),I.Ec(20,Ie,2,0,"span",16),I.Ec(21,we,2,0,"span",17),I.Rb(),I.Sb(22,"td",18),I.Sb(23,"a",19),I.Nb(24,"i",20),I.Rb(),I.Sb(25,"a",21),I.Nb(26,"i",22),I.Rb(),I.Sb(27,"a",23),I.ec("click",(function(t){I.xc(i);var n=e.$implicit,o=e.index;return I.gc(3).delete(n,o,t),!1})),I.Nb(28,"i",24),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit,o=I.gc(3);I.nc("@fadeIn",void 0)("hidden",n.isdeleted),I.zb(3),I.oc("id",n.id),I.nc("ngModel",n.Selected),I.zb(1),I.oc("for",n.id),I.zb(2),I.Ic(" ",n.id," "),I.zb(2),I.nc("ngIf",""!=n.icon),I.zb(1),I.Ic(" ",n.clevel," "),I.zb(1),I.nc("routerLink",I.rc(18,Ce,"/settings/categories/process/"+n.id)),I.zb(1),I.Hc(n.title),I.zb(2),I.nc("ngIf",""==n.term),I.zb(1),I.nc("ngIf",""!=n.term),I.zb(2),I.nc("ngForOf",o.category_types),I.zb(2),I.nc("ngIf",0==n.mode),I.zb(2),I.nc("ngIf",1==n.isenabled),I.zb(1),I.nc("ngIf",0==n.isenabled),I.zb(2),I.nc("routerLink",I.rc(20,Ce,"/settings/categories/process/add/"+n.id)),I.zb(2),I.nc("routerLink",I.rc(22,Ce,"/settings/categories/process/"+n.id))}}function je(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",3),I.Sb(2,"table",4),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th"),I.Sb(6,"div",5),I.Sb(7,"input",6),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc(2).selectall=t}))("ngModelChange",(function(){return I.xc(i),I.gc(2).processChange()})),I.Rb(),I.Nb(8,"label",7),I.Rb(),I.Rb(),I.Sb(9,"th"),I.Gc(10,"ID"),I.Rb(),I.Sb(11,"th"),I.Gc(12,"Name"),I.Rb(),I.Sb(13,"th"),I.Gc(14,"Term"),I.Rb(),I.Sb(15,"th"),I.Gc(16,"Type"),I.Rb(),I.Sb(17,"th"),I.Gc(18,"Mode"),I.Rb(),I.Sb(19,"th"),I.Gc(20,"Status"),I.Rb(),I.Sb(21,"th"),I.Gc(22,"Action"),I.Rb(),I.Rb(),I.Rb(),I.Sb(23,"tbody"),I.Ec(24,_e,29,24,"tr",8),I.hc(25,"async"),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc(2);I.zb(7),I.nc("ngModel",n.selectall),I.zb(17),I.nc("ngForOf",I.ic(25,3,n.Data$))("ngForTrackBy",n.getKey)}}function ze(t,e){1&t&&I.Nb(0,"app-norecord")}function Ge(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,je,26,5,"div",0),I.hc(2,"async"),I.Ec(3,ze,1,0,"app-norecord",0),I.hc(4,"async"),I.Rb()),2&t){var i=I.gc();I.zb(1),I.nc("ngIf",I.ic(2,2,i.Data$).length>0),I.zb(2),I.nc("ngIf",0===I.ic(4,4,i.Data$).length)}}var xe=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.category_types=[],this.View=new I.n,this.SelectedItems=new I.n,this.selectall=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"viewRecord",value:function(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}},{key:"getKey",value:function(t,e){return e.id}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(U.a),I.Mb($.a),I.Mb(B))},t.\u0275cmp=I.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",category_types:"category_types"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"class",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"text-nowrap"],["data-toggle","tooltip","title","Add child category","data-original-title","Add",3,"routerLink"],[1,"fa","fa-plus","text-inverse","m-r-10"],["data-toggle","tooltip","title","Edit category","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"badge","badge-danger"],[1,"badge","badge-success"]],template:function(t,e){1&t&&(I.Nb(0,"alert"),I.Ec(1,Se,1,0,"app-loader",0),I.hc(2,"async"),I.Ec(3,Ge,5,6,"div",0),I.hc(4,"async"),I.Sb(5,"div",1),I.Sb(6,"pagination",2),I.ec("OnSelection",(function(t){return e.PaginationChange(t)})),I.hc(7,"async"),I.hc(8,"async"),I.hc(9,"async"),I.Rb(),I.Rb()),2&t&&(I.zb(1),I.nc("ngIf",I.ic(2,5,e.loading$)),I.zb(2),I.nc("ngIf",!I.ic(4,7,e.loading$)),I.zb(3),I.nc("currentPage",I.ic(7,9,e.pagination$).currentPage)("totalRecords",I.ic(8,11,e.pagination$).totalRecords)("pageSize",I.ic(9,13,e.pagination$).pageSize))},directives:[Ft.a,m.n,Nt.a,Lt.a,R.a,R.n,R.q,m.m,k.e,ce.a],pipes:[m.b],encapsulation:2,data:{animation:[Object(oe.k)("fadeIn",[Object(oe.j)(":enter",[Object(oe.i)({opacity:"0",background:"#f5fb98"}),Object(oe.e)("300ms ease-out",Object(oe.f)([Object(oe.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(oe.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(oe.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(E.a)([Object(D.e)(["categories","posts"])],t.prototype,"Data$",void 0),Object(E.a)([Object(D.e)(["categories","loading"])],t.prototype,"loading$",void 0),Object(E.a)([Object(D.e)(["categories","pagination"])],t.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["categories","selectall"])],t.prototype,"selectAll$",void 0),t}();function $e(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",2),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function Me(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",3),I.Sb(2,"div",4),I.Sb(3,"app-navigation-v2",5),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SearchSelection",(function(t){return I.xc(i),I.gc().FindRecords(t)})),I.Rb(),I.Rb(),I.Sb(4,"div",6),I.Sb(5,"app-toolbar-v2",7),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)})),I.Rb(),I.Sb(6,"div",8),I.Sb(7,"app-list",9),I.ec("View",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SelectedItems",(function(t){return I.xc(i),I.gc().getSelectedItems(t)})),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc();I.zb(3),I.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),I.zb(2),I.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),I.zb(2),I.nc("category_types",n.CategoryTypes)("isActionGranded",n.isActionGranded)}}var Fe,Ne=((Fe=function(){function t(e,i,n,o,c,s,a){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.router=n,this.permission=o,this.coreService=c,this.coreActions=s,this.actions=a,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Categories",this.subheading="Management",this.isItemsSelected=!1,this.CategoryCaption="",this.Records=0,this.Pagination={},this.Configs={},this.CategoryTypes=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.configs$.subscribe((function(e){if(t.Configs=e,void 0!==e.general)for(var i in e.general.category)t.CategoryTypes.push({id:e.general.category[i],title:i})})),this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!0,this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){if(t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e)),void 0!==t.Configs.general)for(var i in t.Configs.general.category)t.Configs.general.category[i]===e.type&&(t.CategoryCaption=i,t.ToolbarOptions.left_options[0].title="["+i+"]")})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value);case"f_type":this.actions.applyFilter({attr:"type",value:t.value});break;case"f_status":this.actions.applyFilter({attr:"isenabled",value:t.value});break;case"f_adult":this.actions.applyFilter({attr:"isadult",value:t.value});break;case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value})}}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"AddRecord",value:function(){this.router.navigate(["/settings/categories/process/"])}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(this.isActionGranded){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)o.value.actionstatus=t.actionstatus}catch(s){i=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||Fe)(I.Mb(V),I.Mb(B),I.Mb(k.c),I.Mb(_t.a),I.Mb(_.a),I.Mb($.a),I.Mb(U.a))},Fe.\u0275cmp=I.Gb({type:Fe,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:3,vars:2,consts:[[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"category_types","isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Ec(1,$e,3,0,"div",1),I.Ec(2,Me,8,6,"div",1),I.Rb()),2&t&&(I.zb(1),I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Mt.a,xe],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["categories","filteroptions"])],Fe.prototype,"filteroptions$",void 0),Object(E.a)([Object(D.e)(["categories","categories"])],Fe.prototype,"categories$",void 0),Object(E.a)([Object(D.e)(["categories","itemsselected"])],Fe.prototype,"isItemSelected$",void 0),Object(E.a)([Object(D.e)(["categories","isloaded"])],Fe.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["categories","records"])],Fe.prototype,"records$",void 0),Object(E.a)([Object(D.e)(["categories","pagination"])],Fe.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],Fe.prototype,"auth$",void 0),Object(E.a)([Object(D.e)(["configuration","configs"])],Fe.prototype,"configs$",void 0),Fe);function Le(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",1),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function Te(t,e){1&t&&I.Nb(0,"app-loader")}function Pe(t,e){if(1&t){var i=I.Tb();I.Sb(0,"dynamic-modal-form",11),I.ec("OnSubmit",(function(t){return I.xc(i),I.gc(2).SubmitForm(t)}))("OnDropdownSelection",(function(t){return I.xc(i),I.gc(2).OnDropdownSelection(t)}))("FileRemoved",(function(t){return I.xc(i),I.gc(2).FileRemoved(t)})),I.Rb()}if(2&t){var n=I.gc(2);I.nc("controls",n.controls)("showLoader",n.showLoader)("showCancel",!1)("showModal",!1)("submitText",n.submitText)}}function Ee(t,e){if(1&t&&(I.Sb(0,"div"),I.Sb(1,"div",2),I.Sb(2,"div",3),I.Sb(3,"div",4),I.Nb(4,"app-navigation-v2",5),I.Rb(),I.Rb(),I.Sb(5,"div",6),I.Sb(6,"div",4),I.Sb(7,"div",7),I.Sb(8,"h4",8),I.Gc(9),I.Rb(),I.Rb(),I.Sb(10,"div",9),I.Ec(11,Te,1,0,"app-loader",0),I.Ec(12,Pe,1,5,"dynamic-modal-form",10),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()),2&t){var i=I.gc();I.zb(4),I.nc("Options",i.SearchOptions),I.zb(5),I.Hc(i.formHeading),I.zb(2),I.nc("ngIf",i.showLoader),I.zb(1),I.nc("ngIf",!i.showLoader)}}var De,Ve=((De=function(){function t(e,i,n,o,c,s,a,r,l){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.actions=c,this.route=s,this.formService=a,this.permission=r,this.router=l,this.CategoryID=0,this.CategoryType=0,this.CategoryList=[],this.controls=[],this.showLoader=!1,this.formHeading="Add Category",this.submitText="Add Category",this.ParentAdd=!1,this.ParentID=0,this.IsLoaded=!1,this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isloaded$.subscribe((function(e){t.IsLoaded=e,console.log("isload called"),t.IsLoaded||t.router.navigate(["/settings/categories/"])})),this.configs$.subscribe((function(e){t.Configs=e})),this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1539515099045","1539515144335",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1539515099045",e.Role)&&(t.isActionGranded=!0))})),this.route.params.subscribe((function(e){t.ParentID=Number.parseInt(e.parentid,10),isNaN(t.ParentID)&&(t.ParentID=0),t.CategoryID=Number.parseInt(e.id,10),isNaN(t.CategoryID)&&(t.CategoryID=0),t.CategoryID>0?(t.formHeading="Update Category",t.submitText="Update",t.LoadInfo(t.CategoryID,!1)):t.ParentID>0?t.LoadInfo(t.ParentID,!0):(t.initializeControls(t.settingService.getInitObject()),t.LoadDropdownCategories(t.CategoryType))})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.dropdownCategories$.subscribe((function(e){t.CategoryList=e,t.CategoryList.length>0?t.LoadDropdownCategories(t.CategoryType):t.dataService.LoadDropdownCategories(t.CategoryType)}))}},{key:"LoadDropdownCategories",value:function(t){var e=[],i=!0,n=!1,o=void 0;try{for(var c,s=this.CategoryList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var a=c.value;console.log(a.type),a.type==t&&e.push({value:a.title,key:a.id.toString()})}}catch(r){n=!0,o=r}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}e.unshift({value:"No Parent",key:"0"}),this.PoupulateParentCategories(e)}},{key:"OnDropdownSelection",value:function(t){"type"===t.key&&this.LoadDropdownCategories(t.value)}},{key:"PoupulateParentCategories",value:function(t){var e=!0,i=!1,n=void 0;try{for(var o,c=this.controls[Symbol.iterator]();!(e=(o=c.next()).done);e=!0){var s=o.value;"parentid"===s.key&&(s.options=t,this.ParentID>0&&(s.value=this.ParentID.toString()))}}catch(a){i=!0,n=a}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}}},{key:"FileRemoved",value:function(t){console.log(t)}},{key:"LoadInfo",value:function(t,e){var i=this;this.showLoader=!0,this.dataService.GetInfo(t).subscribe((function(t){if("success"===t.status){if(e){var n=i.settingService.getInitObject();n.type=t.post.type,n.parentid=t.post.parentid,n.priority=t.post.priority+1,n.isenabled=t.post.isenabled,i.initializeControls(n),i.LoadDropdownCategories(n.type)}else i.initializeControls(t.post),i.ParentID=t.post.parentid,i.LoadDropdownCategories(t.post.type);i.showLoader=!1}else i.coreActions.Notify({title:t.message,text:"",css:"bg-error"}),i.initializeControls(i.settingService.getInitObject())}))}},{key:"initializeControls",value:function(t){this.controls=this.formService.getControls(t,this.Configs.general.media,this.Configs.general.category)}},{key:"SubmitForm",value:function(t){var e=this;if(null===t.priority&&(t.priority=0),this.isActionGranded){this.showLoader=!0;var i="Added";this.CategoryID>0&&(t.id=this.CategoryID,i="Updated"),this.dataService.AddRecord(t).subscribe((function(t){"error"===t.status?e.coreActions.Notify({title:t.message,text:"",css:"bg-success"}):(e.coreActions.Notify({title:"Record "+i+" Successfully",text:"",css:"bg-success"}),e.actions.reloadList(),e.router.navigate(["/settings/categories/"])),e.showLoader=!1}),(function(t){e.showLoader=!1,e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||De)(I.Mb(V),I.Mb(B),I.Mb(_.a),I.Mb($.a),I.Mb(U.a),I.Mb(k.a),I.Mb(K),I.Mb(_t.a),I.Mb(k.c))},De.\u0275cmp=I.Gb({type:De,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit","OnDropdownSelection","FileRemoved",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit","OnDropdownSelection","FileRemoved"]],template:function(t,e){1&t&&(I.Ec(0,Le,3,0,"div",0),I.Ec(1,Ee,13,4,"div",0)),2&t&&(I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Lt.a,ee.a],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["categories","isloaded"])],De.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["categories","dropdown_categories"])],De.prototype,"dropdownCategories$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],De.prototype,"auth$",void 0),Object(E.a)([Object(D.e)(["configuration","configs"])],De.prototype,"configs$",void 0),De);function Ue(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",4),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function Be(t,e){1&t&&I.Nb(0,"app-loader")}function He(t,e){if(1&t){var i=I.Tb();I.Sb(0,"a",20),I.ec("click",(function(t){I.xc(i);var n=e.$implicit,o=I.gc(2).$implicit;return I.gc(2).renderNav(o,n,t),!1})),I.Gc(1),I.Rb()}if(2&t){var n=e.$implicit;I.zb(1),I.Hc(n.title)}}function Je(t,e){if(1&t&&(I.Sb(0,"div",18),I.Ec(1,He,2,1,"a",19),I.Rb()),2&t){var i=I.gc().$implicit;I.zb(1),I.nc("ngForOf",i.child_nav)}}function Ke(t,e){if(1&t&&(I.Sb(0,"li",14),I.Sb(1,"a",15),I.Gc(2),I.Nb(3,"span",16),I.Rb(),I.Ec(4,Je,2,1,"div",17),I.Rb()),2&t){var i=e.$implicit,n=I.gc(2);I.nc("ngClass",n.ConfigType===i.id?"nav-item dropdown active":"nav-item dropdown"),I.zb(2),I.Ic(" ",i.title," "),I.zb(2),I.nc("ngIf",i.child_nav.length>0)}}function qe(t,e){1&t&&I.Nb(0,"app-loader")}function Ye(t,e){if(1&t){var i=I.Tb();I.Sb(0,"dynamic-modal-form",27),I.ec("OnSubmit",(function(t){return I.xc(i),I.gc(3).SubmitForm(t)})),I.Rb()}if(2&t){var n=I.gc(3);I.nc("controls",n.controls)("showCancel",!1)("showModal",!1)("submitText",n.submitText)}}function We(t,e){if(1&t&&(I.Sb(0,"div",21),I.Sb(1,"div",22),I.Sb(2,"div",23),I.Sb(3,"div",24),I.Sb(4,"h4",25),I.Gc(5),I.Rb(),I.Rb(),I.Ec(6,qe,1,0,"app-loader",3),I.Ec(7,Ye,1,4,"dynamic-modal-form",26),I.Rb(),I.Rb(),I.Rb()),2&t){var i=I.gc(2);I.zb(5),I.Hc(i.formHeading),I.zb(1),I.nc("ngIf",i.showProcessing),I.zb(1),I.nc("ngIf",!i.showProcessing&&i.controls.length>0)}}function Xe(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,Be,1,0,"app-loader",3),I.hc(2,"async"),I.Sb(3,"div",5),I.Sb(4,"div",6),I.Sb(5,"nav",7),I.Sb(6,"button",8),I.Nb(7,"span",9),I.Rb(),I.Sb(8,"div",10),I.Sb(9,"ul",11),I.Ec(10,Ke,5,3,"li",12),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Ec(11,We,8,3,"div",13),I.hc(12,"async"),I.Rb()),2&t){var i=I.gc();I.zb(1),I.nc("ngIf",I.ic(2,3,i.loading$)),I.zb(9),I.nc("ngForOf",i.SearchOptions.navList),I.zb(1),I.nc("ngIf",!I.ic(12,5,i.loading$))}}var Qe,Ze=((Qe=function(){function t(e,i,n,o,c,s,a,r){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.permission=c,this.actions=s,this.route=a,this.formService=r,this.isAccessGranted=!1,this.isActionGranded=!1,this.navTabs=[],this.IsLoaded=!1,this.Configs=[],this.Configurations={},this.ConfigType=0,this.ChildConfigType=0,this.controls=[],this.showProcessing=!1,this.formHeading="",this.submitText="Save Changes",this.primay_prop="",this.child_prop=""}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.route.params.subscribe((function(e){t.ConfigType=Number.parseInt(e.type,10),isNaN(t.ConfigType)&&(t.ConfigType=0)})),this.isloaded$.subscribe((function(e){t.IsLoaded=e,t.IsLoaded||t.loadRecords()})),this.Configurations$.subscribe((function(e){t.Configurations=e,t.InitializeMainNavigation()}))}},{key:"loadRecords",value:function(){this.dataService.LoadRecords()}},{key:"InitializeMainNavigation",value:function(){var t=[],e=0;for(var i in this.Configurations)t.push({id:e,title:i[0].toUpperCase()+i.slice(1),child_nav:[]}),e++;this.SearchOptions=this.settingService.getSearchOptions(t),this.attachSubNavItems()}},{key:"attachSubNavItems",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this.SearchOptions.navList[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var c=n.value;for(var s in this.Configurations)if(s===c.title.toLowerCase()){var a=0;for(var r in this.Configurations[s])c.child_nav.push({id:a,title:r[0].toUpperCase()+r.slice(1),parent_attr:s,child_attr:r}),a++}}}catch(l){e=!0,i=l}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}this.Initialize()}},{key:"Initialize",value:function(){if(this.SearchOptions.navList.length>0){var t=this.SearchOptions.navList[0];t.child_nav.length>0&&this.renderForm(t.child_nav[0].parent_attr,t.child_nav[0].child_attr)}}},{key:"renderNav",value:function(t,e,i){this.ConfigType=t.id,this.ChildConfigType=e.id,this.renderForm(e.parent_attr,e.child_attr),i.stopPropagation()}},{key:"renderForm",value:function(t,e){this.formHeading=e[0].toUpperCase()+e.slice(1)+" Settings",this.primay_prop=t,this.child_prop=e,this.controls=this.formService.getControls(this.Configurations[t][e],t,e)}},{key:"SubmitForm",value:function(t){var e=this;if(this.isActionGranded){var i=this.Configurations[this.primay_prop][this.child_prop];for(var n in i)for(var o in t)o===n&&(i[n]=t[o]);console.log(i),this.showProcessing=!0,this.dataService.UpdateConfigurations(i,this.primay_prop,this.child_prop).subscribe((function(t){e.coreActions.Notify("error"===t.status?{title:t.message,text:"",css:"bg-success"}:{title:"Settings Updated",text:"",css:"bg-success"}),e.showProcessing=!1}),(function(t){e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"}),e.showProcessing=!1}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||Qe)(I.Mb(Y.a),I.Mb(W.a),I.Mb(_.a),I.Mb($.a),I.Mb(_t.a),I.Mb(Q.a),I.Mb(k.a),I.Mb(X.a))},Qe.\u0275cmp=I.Gb({type:Qe,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row","m-b-10"],[1,"col-md-12"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["type","button","data-toggle","collapse","data-target","#configurationSettings","aria-controls","configurationSettings","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","configurationSettings",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[3,"ngClass",4,"ngFor","ngForOf"],["class","row justify-content-md-center",4,"ngIf"],[3,"ngClass"],["data-toggle","dropdown","href","#",1,"nav-link","dropdown-toggle"],[1,"caret"],["class","dropdown-menu",4,"ngIf"],[1,"dropdown-menu"],["class","dropdown-item","href","#",3,"click",4,"ngFor","ngForOf"],["href","#",1,"dropdown-item",3,"click"],[1,"row","justify-content-md-center"],[1,"col-md-8","col-sm-10","col-xs-12"],[1,"card-body","card-outline-inverse"],[1,"card-header"],[1,"m-b-0"],[3,"controls","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"div",1),I.Sb(2,"div",2),I.Ec(3,Ue,3,0,"div",3),I.Ec(4,Xe,13,7,"div",3),I.Rb(),I.Rb(),I.Rb()),2&t&&(I.zb(3),I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,m.m,Lt.a,m.l,ee.a],pipes:[m.b],encapsulation:2}),Object(E.a)([Object(D.e)(["configurations","configurations"])],Qe.prototype,"Configurations$",void 0),Object(E.a)([Object(D.e)(["configurations","loading"])],Qe.prototype,"loading$",void 0),Object(E.a)([Object(D.e)(["configurations","isloaded"])],Qe.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],Qe.prototype,"auth$",void 0),Qe),ti=i("/4iV"),ei=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.activeModal=e,this.coreActions=i,this.service=n,this.dataService=o,this.ViewType=1,this.showLoader=!1,this.list=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.title=this.Info.title,this.ViewType=this.Info.viewtype,this.controls=1===this.Info.viewtype?this.service.getRoleControls(this.Info.data):this.service.getObjectControls(this.Info.data),console.log(this.controls)}},{key:"SubmitForm",value:function(t){void 0===this.Info.isActionGranded||this.Info.isActionGranded?(t.id=this.Info.data.id,t.uniqueid=0===t.id?(new Date).valueOf():"",this.activeModal.close({data:t,viewtype:this.Info.viewtype})):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"close",value:function(){this.activeModal.dismiss("Cancel Clicked")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(O.a),I.Mb($.a),I.Mb(at),I.Mb(st))},t.\u0275cmp=I.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[I.yb([at,st])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"h4",1),I.Gc(2),I.Rb(),I.Sb(3,"button",2),I.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),I.Sb(4,"span",3),I.Gc(5,"\xd7"),I.Rb(),I.Rb(),I.Rb(),I.Sb(6,"dynamic-modal-form",4),I.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),I.Rb()),2&t&&(I.zb(2),I.Hc(e.title),I.zb(4),I.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[ee.a],encapsulation:2}),t}();function ii(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",1),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}var ni=function(t){return{active:t}};function oi(t,e){if(1&t){var i=I.Tb();I.Sb(0,"li",11),I.Sb(1,"a",12),I.ec("click",(function(t){I.xc(i);var n=e.$implicit;return I.gc(2).filterCategories(n,t),!1})),I.Gc(2),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit,o=I.gc(2);I.nc("ngClass",I.rc(3,ni,o.RoleType==n.value)),I.zb(1),I.oc("title",n.title),I.zb(1),I.Ic(" ",n.title," ")}}function ci(t,e){1&t&&I.Nb(0,"app-loader")}function si(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr",24),I.Sb(1,"td"),I.Sb(2,"h4"),I.Gc(3),I.Rb(),I.Rb(),I.Sb(4,"td",25),I.Sb(5,"a",26),I.ec("click",(function(t){I.xc(i);var n=e.$implicit;return I.gc(5).editRole(n,t),!1})),I.Nb(6,"i",27),I.Rb(),I.Sb(7,"a",28),I.ec("click",(function(t){I.xc(i);var n=e.$implicit,o=e.index;return I.gc(5).delete(n,o,t),!1})),I.Nb(8,"i",29),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit;I.nc("hidden",n.isdeleted),I.zb(3),I.Hc(n.rolename)}}function ai(t,e){if(1&t&&(I.Sb(0,"div"),I.Sb(1,"div",19),I.Sb(2,"table",20),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th",21),I.Gc(6," Name "),I.Rb(),I.Sb(7,"th",22),I.Gc(8," Action "),I.Rb(),I.Rb(),I.Rb(),I.Sb(9,"tbody"),I.Ec(10,si,9,2,"tr",23),I.Rb(),I.Rb(),I.Rb(),I.Rb()),2&t){var i=I.gc(4);I.zb(10),I.nc("ngForOf",i.RoleList)}}function ri(t,e){1&t&&I.Nb(0,"app-norecord")}function li(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",16),I.Sb(2,"button",17),I.ec("click",(function(){return I.xc(i),I.gc(3).addRole()})),I.Nb(3,"i",18),I.Gc(4," Add Role "),I.Rb(),I.Rb(),I.Ec(5,ai,11,1,"div",0),I.Ec(6,ri,1,0,"app-norecord",0),I.Rb()}if(2&t){var n=I.gc(3);I.zb(5),I.nc("ngIf",n.RoleList.length>0),I.zb(1),I.nc("ngIf",0===n.RoleList.length)}}function di(t,e){if(1&t&&(I.Sb(0,"div",4),I.Sb(1,"div",13),I.Sb(2,"h4",14),I.Gc(3),I.Rb(),I.Rb(),I.Sb(4,"div",15),I.Ec(5,ci,1,0,"app-loader",0),I.Ec(6,li,7,2,"div",0),I.Rb(),I.Rb()),2&t){var i=I.gc(2);I.zb(3),I.Hc(i.formHeading),I.zb(2),I.nc("ngIf",i.showLoader),I.zb(1),I.nc("ngIf",!i.showLoader)}}function bi(t,e){1&t&&I.Nb(0,"app-loader")}function ui(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr",24),I.Sb(1,"td"),I.Sb(2,"h4"),I.Gc(3),I.Rb(),I.Nb(4,"div",30),I.Rb(),I.Sb(5,"td"),I.Gc(6),I.Rb(),I.Sb(7,"td",25),I.Sb(8,"a",26),I.ec("click",(function(t){I.xc(i);var n=e.$implicit;return I.gc(5).editObject(n,t),!1})),I.Nb(9,"i",27),I.Rb(),I.Sb(10,"a",28),I.ec("click",(function(t){I.xc(i);var n=e.$implicit,o=e.index;return I.gc(5).deleteObject(n,o,t),!1})),I.Nb(11,"i",29),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit;I.nc("hidden",n.isdeleted),I.zb(3),I.Hc(n.objectname),I.zb(1),I.nc("innerHTML",n.description,I.yc),I.zb(2),I.Ic(" ",n.uniqueid," ")}}function pi(t,e){if(1&t&&(I.Sb(0,"div"),I.Sb(1,"div",19),I.Sb(2,"table",20),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th",25),I.Gc(6," Name "),I.Rb(),I.Sb(7,"th",25),I.Gc(8," Key "),I.Rb(),I.Sb(9,"th",25),I.Gc(10," Action "),I.Rb(),I.Rb(),I.Rb(),I.Sb(11,"tbody"),I.Ec(12,ui,12,4,"tr",23),I.Rb(),I.Rb(),I.Rb(),I.Rb()),2&t){var i=I.gc(4);I.zb(12),I.nc("ngForOf",i.ObjectList)}}function hi(t,e){1&t&&I.Nb(0,"app-norecord")}function gi(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",16),I.Sb(2,"button",17),I.ec("click",(function(){return I.xc(i),I.gc(3).addObject()})),I.Nb(3,"i",18),I.Gc(4," Add Object "),I.Rb(),I.Rb(),I.Ec(5,pi,13,1,"div",0),I.Ec(6,hi,1,0,"app-norecord",0),I.Rb()}if(2&t){var n=I.gc(3);I.zb(5),I.nc("ngIf",n.ObjectList.length>0),I.zb(1),I.nc("ngIf",0===n.ObjectList.length)}}function fi(t,e){if(1&t&&(I.Sb(0,"div",4),I.Sb(1,"div",13),I.Sb(2,"h4",14),I.Gc(3),I.Rb(),I.Rb(),I.Sb(4,"div",15),I.Ec(5,bi,1,0,"app-loader",0),I.Ec(6,gi,7,2,"div",0),I.Rb(),I.Rb()),2&t){var i=I.gc(2);I.zb(3),I.Hc(i.formHeading),I.zb(2),I.nc("ngIf",i.showLoader),I.zb(1),I.nc("ngIf",!i.showLoader)}}function vi(t,e){if(1&t&&(I.Sb(0,"div"),I.Sb(1,"div",2),I.Sb(2,"div",3),I.Sb(3,"div",4),I.Sb(4,"div",5),I.Sb(5,"ul",6),I.Ec(6,oi,3,5,"li",7),I.Rb(),I.Rb(),I.Rb(),I.Sb(7,"div",4),I.Nb(8,"app-navigation-v2",8),I.Rb(),I.Rb(),I.Sb(9,"div",9),I.Ec(10,di,7,3,"div",10),I.Ec(11,fi,7,3,"div",10),I.Rb(),I.Rb(),I.Rb()),2&t){var i=I.gc();I.zb(6),I.nc("ngForOf",i.RoleTypes),I.zb(2),I.nc("FilterOptions",i.FilterOptions)("Options",i.SearchOptions),I.zb(2),I.nc("ngIf",1==i.RoleType),I.zb(1),I.nc("ngIf",2==i.RoleType)}}var Si,yi=((Si=function(){function t(e,i,n,o,c,s,a,r,l,d){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.actions=c,this.route=s,this.formService=a,this.permission=r,this.router=l,this.modalService=d,this.controls=[],this.showLoader=!1,this.formHeading="Manage Roles",this.RoleTypes=ti.b.ROLE_TYPES,this.RoleList=[],this.ObjectList=[],this.RoleType=1,this.IsRoleLoaded=!1,this.isObjectLoaded=!1,this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[],this.roles$.subscribe((function(e){t.RoleList=e})),this.objects$.subscribe((function(e){t.ObjectList=e})),this.isroleloaded$.subscribe((function(e){t.IsRoleLoaded=e,t.IsRoleLoaded||t.dataService.LoadRoles()})),this.isobjectloaded$.subscribe((function(e){t.isObjectLoaded=e,t.isObjectLoaded||t.dataService.LoadObjects()}))}},{key:"filterCategories",value:function(t,e){this.RoleType=t.value,console.log("obj value "+t.value),this.formHeading=1===this.RoleType?"Manage Roles":"Manage Role Objects",e.stopPropagation()}},{key:"editObject",value:function(t,e){this.isActionGranded?(this._triggleModal(t,2,"Update Role Object"),e.stopPropagation()):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"editRole",value:function(t,e){this.router.navigate(["/settings/roles/process/"+t.id]),e.stopPropagation()}},{key:"addRole",value:function(){this.isActionGranded?this._triggleModal(this.settingService.getInitRoleObject(),1,"Add Role"):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"addObject",value:function(){this.isActionGranded?this._triggleModal(this.settingService.getInitRoleObjectObject(),2,"Add Role Object"):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"_triggleModal",value:function(t,e,i){var n=this,o=this.modalService.open(ei,{backdrop:!1});o.componentInstance.Info={title:i,viewtype:e,data:t},o.result.then((function(t){if(console.log(t),1===t.viewtype)n.dataService.AddRole(t.data);else if(n.dataService.AddObject(t.data),t.data.id>0){var e=!0,i=!1,o=void 0;try{for(var c,s=n.ObjectList[Symbol.iterator]();!(e=(c=s.next()).done);e=!0){var a=c.value;a.id===t.data.id&&(a.objectname=t.data.objectname,a.description=t.data.description)}}catch(r){i=!0,o=r}finally{try{e||null==s.return||s.return()}finally{if(i)throw o}}}}),(function(t){console.log("dismissed")}))}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e,this.settingService.getApiOptions().delete_role,1):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"deleteObject",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e,this.settingService.getApiOptions().delete_object,2):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||Si)(I.Mb(ot),I.Mb(st),I.Mb(_.a),I.Mb($.a),I.Mb(ct.a),I.Mb(k.a),I.Mb(at),I.Mb(_t.a),I.Mb(k.c),I.Mb(O.b))},Si.\u0275cmp=I.Gb({type:Si,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body","inbox-panel"],[1,"list-group","list-group-full"],["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],[3,"FilterOptions","Options"],[1,"col-md-9"],["class","card",4,"ngIf"],[1,"list-group-item",3,"ngClass"],["href","#",3,"title","click"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[1,"m-b-10","m-t-10"],["type","button",1,"btn","btn-dark","m-r-5",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"text-nowrap",2,"width","90%"],[1,"text-nowrap",2,"width","10%"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[1,"text-nowrap"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[3,"innerHTML"]],template:function(t,e){1&t&&(I.Ec(0,ii,3,0,"div",0),I.Ec(1,vi,12,5,"div",0)),2&t&&(I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,m.m,$t.a,m.l,Lt.a,ce.a],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["roles","roles"])],Si.prototype,"roles$",void 0),Object(E.a)([Object(D.e)(["roles","objects"])],Si.prototype,"objects$",void 0),Object(E.a)([Object(D.e)(["roles","isroleloaded"])],Si.prototype,"isroleloaded$",void 0),Object(E.a)([Object(D.e)(["roles","isobjectloaded"])],Si.prototype,"isobjectloaded$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],Si.prototype,"auth$",void 0),Si);function mi(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",1),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function Oi(t,e){1&t&&I.Nb(0,"app-loader")}function Ri(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr"),I.Sb(1,"td",12),I.Sb(2,"div",13),I.Sb(3,"input",21),I.ec("ngModelChange",(function(t){return I.xc(i),e.$implicit.Selected=t})),I.Rb(),I.Nb(4,"label",22),I.Rb(),I.Rb(),I.Sb(5,"td"),I.Gc(6),I.Rb(),I.Sb(7,"td",23),I.Gc(8),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit,o=e.index;I.zb(3),I.oc("id",o),I.nc("ngModel",n.Selected),I.zb(1),I.oc("for",o),I.zb(2),I.Ic(" ",n.objectname," "),I.zb(2),I.Ic(" ",n.description," ")}}function ki(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",10),I.Sb(2,"table",11),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th",12),I.Sb(6,"div",13),I.Sb(7,"input",14),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc(3).selectall=t}))("ngModelChange",(function(){return I.xc(i),I.gc(3).processChange()})),I.Rb(),I.Nb(8,"label",15),I.Rb(),I.Rb(),I.Sb(9,"th",16),I.Gc(10," Permission "),I.Rb(),I.Sb(11,"th",17),I.Gc(12," Detail "),I.Rb(),I.Rb(),I.Rb(),I.Sb(13,"tbody"),I.Ec(14,Ri,9,5,"tr",18),I.Rb(),I.Rb(),I.Rb(),I.Sb(15,"div",19),I.Sb(16,"button",20),I.ec("click",(function(){return I.xc(i),I.gc(3).updatePermission()})),I.Gc(17," Update Permission "),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc(3);I.zb(7),I.nc("ngModel",n.selectall),I.zb(7),I.nc("ngForOf",n.ObjectList)}}function Ai(t,e){1&t&&I.Nb(0,"app-norecord")}function Ii(t,e){if(1&t&&(I.Sb(0,"div"),I.Sb(1,"h2"),I.Gc(2),I.Rb(),I.Nb(3,"hr"),I.Sb(4,"h3"),I.Gc(5,"Permission List"),I.Rb(),I.Ec(6,ki,18,2,"div",0),I.Ec(7,Ai,1,0,"app-norecord",0),I.Rb()),2&t){var i=I.gc(2);I.zb(2),I.Ic("Role: ",i.Info.rolename,""),I.zb(4),I.nc("ngIf",i.ObjectList.length>0),I.zb(1),I.nc("ngIf",0===i.ObjectList.length)}}function wi(t,e){if(1&t&&(I.Sb(0,"div"),I.Sb(1,"div",2),I.Sb(2,"div",3),I.Sb(3,"div",4),I.Nb(4,"app-navigation-v2",5),I.Rb(),I.Rb(),I.Sb(5,"div",6),I.Sb(6,"div",4),I.Sb(7,"div",7),I.Sb(8,"h4",8),I.Gc(9),I.Rb(),I.Rb(),I.Sb(10,"div",9),I.Ec(11,Oi,1,0,"app-loader",0),I.Ec(12,Ii,8,3,"div",0),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()),2&t){var i=I.gc();I.zb(4),I.nc("Options",i.SearchOptions),I.zb(5),I.Hc(i.formHeading),I.zb(2),I.nc("ngIf",i.showLoader),I.zb(1),I.nc("ngIf",!i.showLoader&&i.Info)}}var Ci,_i=((Ci=function(){function t(e,i,n,o,c,s,a,r,l){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.actions=c,this.route=s,this.permission=a,this.formService=r,this.router=l,this.RecordID=0,this.showLoader=!1,this.formHeading="Add Role",this.submitText="Add Role",this.ObjectList=[],this.selectall=!1,this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1539516299310","1539516260338",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1539516299310",e.Role)&&(t.isActionGranded=!0))})),this.isroleloaded$.subscribe((function(e){e||t.router.navigate(["/settings/roles/"])})),this.objects$.subscribe((function(e){t.ObjectList=e})),this.route.params.subscribe((function(e){t.RecordID=Number.parseInt(e.id,10),t.RecordID>0?(t.formHeading="Update Role Permissions",t.submitText="Update Role",t.LoadInfo()):t.router.navigate(["/settings/roles/"])})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[]}},{key:"LoadInfo",value:function(){var t=this;this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe((function(e){t.Info=e.posts,t.showLoader=!1;var i=!0,n=!1,o=void 0;try{for(var c,s=t.ObjectList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)c.value.Selected=!1}catch(S){n=!0,o=S}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}var a=!0,r=!1,l=void 0;try{for(var d,b=t.ObjectList[Symbol.iterator]();!(a=(d=b.next()).done);a=!0){var u=d.value,p=!0,h=!1,g=void 0;try{for(var f,v=t.Info.permissions[Symbol.iterator]();!(p=(f=v.next()).done);p=!0)f.value.objectid===u.id&&(u.Selected=!0)}catch(S){h=!0,g=S}finally{try{p||null==v.return||v.return()}finally{if(h)throw g}}}}catch(S){r=!0,l=S}finally{try{a||null==b.return||b.return()}finally{if(r)throw l}}}))}},{key:"processChange",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this.ObjectList[Symbol.iterator]();!(t=(n=o.next()).done);t=!0)n.value.Selected=this.selectall}catch(c){e=!0,i=c}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}}},{key:"checkChange",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this.ObjectList[Symbol.iterator]();!(t=(n=o.next()).done);t=!0)n.value}catch(c){e=!0,i=c}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}}},{key:"updatePermission",value:function(){var t=this;if(this.isActionGranded){var e=[],i=!0,n=!1,o=void 0;try{for(var c,s=this.ObjectList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var a=c.value;a.Selected&&e.push({roleid:this.Info.id,objectid:a.id})}}catch(r){n=!0,o=r}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}console.log(e),this.showLoader=!0,this.dataService.UpdatePermission(e).subscribe((function(e){"error"===e.status?t.coreActions.Notify({title:e.message,text:"",css:"bg-success"}):(t.coreActions.Notify({title:"Permission Updated Successfully",text:"",css:"bg-success"}),t.router.navigate(["/settings/roles/"])),t.showLoader=!1}),(function(e){t.showLoader=!1,t.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||Ci)(I.Mb(ot),I.Mb(st),I.Mb(_.a),I.Mb($.a),I.Mb(ct.a),I.Mb(k.a),I.Mb(_t.a),I.Mb(at),I.Mb(k.c))},Ci.\u0275cmp=I.Gb({type:Ci,selectors:[["ng-component"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[2,"width","5%"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap",2,"width","45%"],[1,"text-nowrap",2,"width","50%"],[4,"ngFor","ngForOf"],[1,"m-b-5","m-t-5"],[1,"btn","btn-primary",3,"click"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[1,"text-nowrap"]],template:function(t,e){1&t&&(I.Ec(0,mi,3,0,"div",0),I.Ec(1,wi,13,4,"div",0)),2&t&&(I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Lt.a,R.a,R.n,R.q,m.m,ce.a],encapsulation:2}),Object(E.a)([Object(D.e)(["roles","objects"])],Ci.prototype,"objects$",void 0),Object(E.a)([Object(D.e)(["roles","isroleloaded"])],Ci.prototype,"isroleloaded$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],Ci.prototype,"auth$",void 0),Ci),ji=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getControls",value:function(t){var e=[];return e.push(new J.h({key:"value",label:"Value",value:t.value,required:!0,minLength:5,maxLength:40,order:1})),e.push(new J.b({key:"type",label:"Type",value:t.type.toString(),required:!0,options:[{key:"0",value:"Screening Worlds"},{key:"1",value:"Restricted Usernams"}],order:2})),e.sort((function(t,e){return t.order-e.order}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac}),t}(),zi=function(){var t=function(){function t(e,i,n,o){_classCallCheck(this,t),this.activeModal=e,this.service=i,this.dataService=n,this.coreActions=o,this.showLoader=!1,this.list=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.title=this.Info.title,this.controls=this.service.getControls(this.Info.data),console.log(this.controls)}},{key:"SubmitForm",value:function(t){var e=this;void 0===this.Info.isActionGranded||this.Info.isActionGranded?(this.showLoader=!0,this.dataService.AddRecord(t).subscribe((function(t){e.showLoader=!1,"success"===t.status?(e.coreActions.Notify({title:"Record Added Successfully",text:"",css:"bg-success"}),e.activeModal.close({data:t.record})):e.coreActions.Notify({title:t.message,text:"",css:"bg-danger"})}),(function(t){e.showLoader=!1,e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"close",value:function(){this.activeModal.dismiss("Cancel Clicked")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(O.a),I.Mb(ji),I.Mb(it),I.Mb($.a))},t.\u0275cmp=I.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[I.yb([ji,it])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"h4",1),I.Gc(2),I.Rb(),I.Sb(3,"button",2),I.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),I.Sb(4,"span",3),I.Gc(5,"\xd7"),I.Rb(),I.Rb(),I.Rb(),I.Sb(6,"dynamic-modal-form",4),I.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),I.Rb()),2&t&&(I.zb(2),I.Hc(e.title),I.zb(4),I.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[ee.a],encapsulation:2}),t}();function Gi(t,e){1&t&&I.Nb(0,"app-loader")}function xi(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",23),I.Sb(2,"div",24),I.Sb(3,"div"),I.Sb(4,"input",25),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc().$implicit.value=t})),I.Rb(),I.Rb(),I.Sb(5,"div",26),I.Sb(6,"button",27),I.ec("click",(function(){I.xc(i);var t=I.gc().$implicit;return I.gc(3)._UpdateRecord(t)})),I.Gc(7," Save "),I.Rb(),I.Sb(8,"button",28),I.ec("click",(function(t){I.xc(i);var e=I.gc().$implicit;return I.gc(3).toggleEditView(e,t)})),I.Gc(9," Cancel "),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc().$implicit;I.zb(4),I.nc("ngModel",n.value)}}function $i(t,e){if(1&t&&(I.Sb(0,"div"),I.Gc(1),I.Rb()),2&t){var i=I.gc().$implicit;I.zb(1),I.Ic(" ",i.value," ")}}function Mi(t,e){1&t&&(I.Sb(0,"span",29),I.Gc(1,"Screening Word"),I.Rb())}function Fi(t,e){1&t&&(I.Sb(0,"span",30),I.Gc(1,"Restricted UserName"),I.Rb())}function Ni(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr",13),I.Sb(1,"td",14),I.Sb(2,"div",5),I.Sb(3,"input",15),I.ec("ngModelChange",(function(t){return I.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return I.xc(i),I.gc(3).checkChange()})),I.Rb(),I.Nb(4,"label",16),I.Rb(),I.Rb(),I.Sb(5,"td"),I.Ec(6,xi,10,1,"div",0),I.Ec(7,$i,2,1,"div",0),I.Rb(),I.Sb(8,"td"),I.Ec(9,Mi,2,0,"span",17),I.Ec(10,Fi,2,0,"span",18),I.Rb(),I.Sb(11,"td",11),I.Sb(12,"a",19),I.ec("click",(function(t){I.xc(i);var n=e.$implicit;return I.gc(3).toggleEditView(n,t),!1})),I.Nb(13,"i",20),I.Rb(),I.Sb(14,"a",21),I.ec("click",(function(t){I.xc(i);var n=e.$implicit,o=e.index;return I.gc(3).delete(n,o,t),!1})),I.Nb(15,"i",22),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit;I.nc("@fadeIn",void 0)("hidden",n.isdeleted),I.zb(3),I.oc("id",n.id),I.nc("ngModel",n.Selected),I.zb(1),I.oc("for",n.id),I.zb(2),I.nc("ngIf",n.editview),I.zb(1),I.nc("ngIf",!n.editview),I.zb(2),I.nc("ngIf",0==n.type),I.zb(1),I.nc("ngIf",1==n.type)}}function Li(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",3),I.Sb(2,"table",4),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th"),I.Sb(6,"div",5),I.Sb(7,"input",6),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc(2).selectall=t}))("ngModelChange",(function(){return I.xc(i),I.gc(2).processChange()})),I.Rb(),I.Nb(8,"label",7),I.Rb(),I.Rb(),I.Sb(9,"th",8),I.ec("click",(function(){return I.xc(i),I.gc(2).Sort("value")})),I.Sb(10,"span",9),I.Gc(11,"Value"),I.Rb(),I.Nb(12,"i",10),I.Rb(),I.Sb(13,"th",8),I.ec("click",(function(){return I.xc(i),I.gc(2).Sort("type")})),I.Sb(14,"span",9),I.Gc(15,"Type"),I.Rb(),I.Nb(16,"i",10),I.Rb(),I.Sb(17,"th",11),I.Gc(18," Action "),I.Rb(),I.Rb(),I.Rb(),I.Sb(19,"tbody"),I.Ec(20,Ni,16,9,"tr",12),I.hc(21,"async"),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc(2);I.zb(7),I.nc("ngModel",n.selectall),I.zb(2),I.nc("ngClass",n.fieldstates.value?"selected-sort-option":""),I.zb(3),I.nc("ngClass",n.fieldstates.value&&"asc"===n.sortedFields.value.direction?"fa fa-sort-asc":n.fieldstates.value&&"desc"===n.sortedFields.value.direction?"fa fa-sort-desc":"fa fa-sort"),I.zb(1),I.nc("ngClass",n.fieldstates.type?"selected-sort-option":""),I.zb(3),I.nc("ngClass",n.fieldstates.type&&"asc"===n.sortedFields.type.direction?"fa fa-sort-asc":n.fieldstates.type&&"desc"===n.sortedFields.type.direction?"fa fa-sort-desc":"fa fa-sort"),I.zb(4),I.nc("ngForOf",I.ic(21,7,n.Data$))("ngForTrackBy",n.getKey)}}function Ti(t,e){1&t&&I.Nb(0,"app-norecord")}function Pi(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,Li,22,9,"div",0),I.hc(2,"async"),I.Ec(3,Ti,1,0,"app-norecord",0),I.hc(4,"async"),I.Rb()),2&t){var i=I.gc();I.zb(1),I.nc("ngIf",I.ic(2,2,i.Data$).length>0),I.zb(2),I.nc("ngIf",0===I.ic(4,4,i.Data$).length)}}var Ei=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.View=new I.n,this.SelectedItems=new I.n,this.sortedFields={value:{sort:"value",direction:"desc"},type:{sort:"type",direction:"desc"}},this.selectall=!1,this.fieldstates={value:!1,type:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"Sort",value:function(t){for(var e in void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc",this.fieldstates)this.fieldstates[e]=e===t;this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}},{key:"viewRecord",value:function(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}},{key:"getKey",value:function(t,e){return e.id}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}},{key:"toggleEditView",value:function(t,e){t.editview=!t.editview,e.stopPropagation()}},{key:"_UpdateRecord",value:function(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(et.a),I.Mb($.a),I.Mb(it))},t.\u0275cmp=I.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[2,"cursor","pointer",3,"ngClass","click"],[1,"m-r-5"],["aria-hidden","true",3,"ngClass"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update Value",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"badge","badge-danger"],[1,"badge","badge-warning"]],template:function(t,e){1&t&&(I.Nb(0,"alert"),I.Ec(1,Gi,1,0,"app-loader",0),I.hc(2,"async"),I.Ec(3,Pi,5,6,"div",0),I.hc(4,"async"),I.Sb(5,"div",1),I.Sb(6,"pagination",2),I.ec("OnSelection",(function(t){return e.PaginationChange(t)})),I.hc(7,"async"),I.hc(8,"async"),I.hc(9,"async"),I.Rb(),I.Rb()),2&t&&(I.zb(1),I.nc("ngIf",I.ic(2,5,e.loading$)),I.zb(2),I.nc("ngIf",!I.ic(4,7,e.loading$)),I.zb(3),I.nc("currentPage",I.ic(7,9,e.pagination$).currentPage)("totalRecords",I.ic(8,11,e.pagination$).totalRecords)("pageSize",I.ic(9,13,e.pagination$).pageSize))},directives:[Ft.a,m.n,Nt.a,Lt.a,R.a,R.n,R.q,m.l,m.m,R.c,ce.a],pipes:[m.b],encapsulation:2,data:{animation:[Object(oe.k)("fadeIn",[Object(oe.j)(":enter",[Object(oe.i)({opacity:"0",background:"#f5fb98"}),Object(oe.e)("300ms ease-out",Object(oe.f)([Object(oe.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(oe.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(oe.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(E.a)([Object(D.e)(["dictionary","posts"])],t.prototype,"Data$",void 0),Object(E.a)([Object(D.e)(["dictionary","loading"])],t.prototype,"loading$",void 0),Object(E.a)([Object(D.e)(["dictionary","pagination"])],t.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["dictionary","selectall"])],t.prototype,"selectAll$",void 0),t}();function Di(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",4),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function Vi(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",0),I.Sb(2,"div",5),I.Sb(3,"app-navigation-v2",6),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SearchSelection",(function(t){return I.xc(i),I.gc().FindRecords(t)})),I.Rb(),I.Rb(),I.Sb(4,"div",7),I.Sb(5,"app-toolbar-v2",8),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)})),I.Rb(),I.Sb(6,"div",9),I.Sb(7,"app-list",10),I.ec("View",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SelectedItems",(function(t){return I.xc(i),I.gc().getSelectedItems(t)})),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc();I.zb(3),I.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),I.zb(2),I.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),I.zb(2),I.nc("isActionGranded",n.isActionGranded)}}var Ui,Bi=((Ui=function(){function t(e,i,n,o,c,s,a){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.modalService=n,this.coreService=o,this.coreActions=c,this.permission=s,this.actions=a,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Dictionary",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){if(this.isActionGranded)switch(t.action){case"add":return void this.AddRecord();case"m_markas":return void this.ProcessActions(t.value)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"AddRecord",value:function(){var t=this,e=this.modalService.open(zi,{backdrop:!1});e.componentInstance.Info={title:"Add new Value",data:this.settingService.getInitObject()},e.result.then((function(e){console.log("back result"),console.log(e),t.actions.addRecord(e.data)}),(function(t){console.log("dismissed")}))}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)o.value.actionstatus=t.actionstatus}catch(s){i=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||Ui)(I.Mb(tt),I.Mb(it),I.Mb(O.b),I.Mb(_.a),I.Mb($.a),I.Mb(_t.a),I.Mb(et.a))},Ui.\u0275cmp=I.Gb({type:Ui,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","View","SelectedItems"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"div",1),I.Sb(2,"div",2),I.Ec(3,Di,3,0,"div",3),I.Ec(4,Vi,8,5,"div",3),I.Rb(),I.Rb(),I.Rb()),2&t&&(I.zb(3),I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Mt.a,Ei],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["dictionary","filteroptions"])],Ui.prototype,"filteroptions$",void 0),Object(E.a)([Object(D.e)(["dictionary","itemsselected"])],Ui.prototype,"isItemSelected$",void 0),Object(E.a)([Object(D.e)(["dictionary","isloaded"])],Ui.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["dictionary","records"])],Ui.prototype,"records$",void 0),Object(E.a)([Object(D.e)(["dictionary","pagination"])],Ui.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],Ui.prototype,"auth$",void 0),Ui);function Hi(t,e){1&t&&I.Nb(0,"app-loader")}function Ji(t,e){1&t&&(I.Sb(0,"span"),I.Gc(1,"On"),I.Rb())}function Ki(t,e){1&t&&(I.Sb(0,"span"),I.Gc(1,"Off"),I.Rb())}function qi(t,e){1&t&&(I.Sb(0,"span"),I.Gc(1,"On"),I.Rb())}function Yi(t,e){1&t&&(I.Sb(0,"span"),I.Gc(1,"Off"),I.Rb())}function Wi(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr",10),I.Sb(1,"td"),I.Gc(2),I.Rb(),I.Sb(3,"td"),I.Gc(4),I.Rb(),I.Sb(5,"td"),I.Sb(6,"button",11),I.ec("click",(function(){I.xc(i);var t=e.$implicit;return I.gc(3).triggleAction(t,"default")})),I.Ec(7,Ji,2,0,"span",0),I.Ec(8,Ki,2,0,"span",0),I.Rb(),I.Rb(),I.Sb(9,"td"),I.Sb(10,"button",11),I.ec("click",(function(){I.xc(i);var t=e.$implicit;return I.gc(3).triggleAction(t,"selected")})),I.Ec(11,qi,2,0,"span",0),I.Ec(12,Yi,2,0,"span",0),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit;I.nc("@fadeIn",void 0)("hidden",n.isdeleted),I.zb(2),I.Ic(" ",n.culturename," "),I.zb(2),I.Ic(" ",n.region," "),I.zb(2),I.nc("ngClass",1===n.isdefault?"btn-success":"btn-danger"),I.zb(1),I.nc("ngIf",1===n.isdefault),I.zb(1),I.nc("ngIf",0===n.isdefault),I.zb(2),I.nc("ngClass",1===n.isselected?"btn-success":"btn-danger"),I.zb(1),I.nc("ngIf",1===n.isselected),I.zb(1),I.nc("ngIf",0===n.isselected)}}function Xi(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",3),I.Sb(2,"table",4),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th",5),I.ec("click",(function(){return I.xc(i),I.gc(2).Sort("culturename")})),I.Sb(6,"span",6),I.Gc(7,"Culture"),I.Rb(),I.Nb(8,"i",7),I.Rb(),I.Sb(9,"th",5),I.ec("click",(function(){return I.xc(i),I.gc(2).Sort("region")})),I.Sb(10,"span",6),I.Gc(11,"Region"),I.Rb(),I.Nb(12,"i",7),I.Rb(),I.Sb(13,"th",8),I.Gc(14," Default "),I.Rb(),I.Sb(15,"th",8),I.Gc(16," Selected "),I.Rb(),I.Rb(),I.Rb(),I.Sb(17,"tbody"),I.Ec(18,Wi,13,10,"tr",9),I.hc(19,"async"),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc(2);I.zb(5),I.nc("ngClass",n.fieldstates.culturename?"selected-sort-option":""),I.zb(3),I.nc("ngClass",n.fieldstates.culturename&&"asc"===n.sortedFields.culturename.direction?"fa fa-sort-asc":n.fieldstates.culturename&&"desc"===n.sortedFields.culturename.direction?"fa fa-sort-desc":"fa fa-sort"),I.zb(1),I.nc("ngClass",n.fieldstates.region?"selected-sort-option":""),I.zb(3),I.nc("ngClass",n.fieldstates.region&&"asc"===n.sortedFields.region.direction?"fa fa-sort-asc":"fa fa-sort"),I.zb(6),I.nc("ngForOf",I.ic(19,6,n.Data$))("ngForTrackBy",n.getKey)}}function Qi(t,e){1&t&&I.Nb(0,"app-norecord")}function Zi(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,Xi,20,8,"div",0),I.hc(2,"async"),I.Ec(3,Qi,1,0,"app-norecord",0),I.hc(4,"async"),I.Rb()),2&t){var i=I.gc();I.zb(1),I.nc("ngIf",I.ic(2,2,i.Data$).length>0),I.zb(2),I.nc("ngIf",0===I.ic(4,4,i.Data$).length)}}var tn=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.View=new I.n,this.SelectedItems=new I.n,this.sortedFields={culturename:{sort:"culturename",direction:"desc"},region:{sort:"region",direction:"desc"}},this.selectall=!1,this.fieldstates={culturename:!1,region:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e}))}},{key:"Sort",value:function(t){for(var e in void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc",this.fieldstates)this.fieldstates[e]=e===t;console.log(this.fieldstates),this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}},{key:"triggleAction",value:function(t,e){this.View.emit({action:e,value:t})}},{key:"getKey",value:function(t,e){return e.id}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(dt.a),I.Mb($.a),I.Mb(bt))},t.\u0275cmp=I.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[2,"cursor","pointer",3,"ngClass","click"],[1,"m-r-5"],["aria-hidden","true",3,"ngClass"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[1,"btn",3,"ngClass","click"]],template:function(t,e){1&t&&(I.Nb(0,"alert"),I.Ec(1,Hi,1,0,"app-loader",0),I.hc(2,"async"),I.Ec(3,Zi,5,6,"div",0),I.hc(4,"async"),I.Sb(5,"div",1),I.Sb(6,"pagination",2),I.ec("OnSelection",(function(t){return e.PaginationChange(t)})),I.hc(7,"async"),I.hc(8,"async"),I.hc(9,"async"),I.Rb(),I.Rb()),2&t&&(I.zb(1),I.nc("ngIf",I.ic(2,5,e.loading$)),I.zb(2),I.nc("ngIf",!I.ic(4,7,e.loading$)),I.zb(3),I.nc("currentPage",I.ic(7,9,e.pagination$).currentPage)("totalRecords",I.ic(8,11,e.pagination$).totalRecords)("pageSize",I.ic(9,13,e.pagination$).pageSize))},directives:[Ft.a,m.n,Nt.a,Lt.a,m.l,m.m,ce.a],pipes:[m.b],encapsulation:2,data:{animation:[Object(oe.k)("fadeIn",[Object(oe.j)(":enter",[Object(oe.i)({opacity:"0",background:"#f5fb98"}),Object(oe.e)("300ms ease-out",Object(oe.f)([Object(oe.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(oe.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(oe.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(E.a)([Object(D.e)(["language","posts"])],t.prototype,"Data$",void 0),Object(E.a)([Object(D.e)(["language","loading"])],t.prototype,"loading$",void 0),Object(E.a)([Object(D.e)(["language","pagination"])],t.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["language","selectall"])],t.prototype,"selectAll$",void 0),t}();function en(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",4),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function nn(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",0),I.Sb(2,"div",5),I.Sb(3,"app-navigation-v2",6),I.ec("SearchSelection",(function(t){return I.xc(i),I.gc().FindRecords(t)})),I.Rb(),I.Rb(),I.Sb(4,"div",7),I.Nb(5,"app-toolbar-v2",8),I.Sb(6,"div",9),I.Sb(7,"app-list",10),I.ec("View",(function(t){return I.xc(i),I.gc().ProcessActions(t)})),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc();I.zb(3),I.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),I.zb(2),I.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),I.zb(2),I.nc("isActionGranded",n.isActionGranded)}}var on,cn=((on=function(){function t(e,i,n,o,c){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreActions=n,this.permission=o,this.actions=c,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)}))}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"ProcessActions",value:function(t){if(this.isActionGranded){t.value.actionstatus=t.action;var e=[];e.push(t.value),this.dataService.ProcessActions(e,t)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||on)(I.Mb(lt),I.Mb(bt),I.Mb($.a),I.Mb(_t.a),I.Mb(dt.a))},on.\u0275cmp=I.Gb({type:on,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected"],[1,"card-body"],[3,"isActionGranded","View"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"div",1),I.Sb(2,"div",2),I.Ec(3,en,3,0,"div",3),I.Ec(4,nn,8,5,"div",3),I.Rb(),I.Rb(),I.Rb()),2&t&&(I.zb(3),I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Mt.a,tn],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["language","filteroptions"])],on.prototype,"filteroptions$",void 0),Object(E.a)([Object(D.e)(["language","isloaded"])],on.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["language","records"])],on.prototype,"records$",void 0),Object(E.a)([Object(D.e)(["language","pagination"])],on.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],on.prototype,"auth$",void 0),on);function sn(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div",6),I.Sb(1,"button",7),I.ec("click",(function(){return I.xc(i),I.gc().close()})),I.Nb(2,"i",8),I.Gc(3," Cancel "),I.Rb(),I.Rb()}}var an=function(){var t=function(){function t(e,i){_classCallCheck(this,t),this.activeModal=e,this.dataService=i,this.showLoader=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.title=this.Info.title,console.log(this.Info)}},{key:"close",value:function(){this.activeModal.dismiss("Cancel Clicked")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(O.a),I.Mb(gt))},t.\u0275cmp=I.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[I.yb([gt])],decls:17,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","modal-footer",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"icon-cross"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"h4",1),I.Gc(2),I.Rb(),I.Sb(3,"button",2),I.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),I.Sb(4,"span",3),I.Gc(5,"\xd7"),I.Rb(),I.Rb(),I.Rb(),I.Sb(6,"div",4),I.Sb(7,"h4"),I.Gc(8),I.Rb(),I.Sb(9,"p"),I.Gc(10),I.Rb(),I.Sb(11,"p"),I.Gc(12),I.hc(13,"date"),I.Rb(),I.Sb(14,"p"),I.Gc(15),I.Rb(),I.Rb(),I.Ec(16,sn,4,0,"div",5)),2&t&&(I.zb(2),I.Hc(e.title),I.zb(6),I.Hc(e.Info.data.description),I.zb(2),I.Ic("URL: ",e.Info.data.url,""),I.zb(2),I.Hc(I.jc(13,6,e.Info.data.created_at,"fullDate")),I.zb(3),I.Hc(e.Info.data.stack_trace),I.zb(1),I.nc("ngIf",!e.showLoader))},directives:[m.n],pipes:[m.e],encapsulation:2}),t}();function rn(t,e){1&t&&I.Nb(0,"app-loader")}function ln(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr",13),I.Sb(1,"td",14),I.Sb(2,"div",5),I.Sb(3,"input",15),I.ec("ngModelChange",(function(t){return I.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return I.xc(i),I.gc(3).checkChange()})),I.Rb(),I.Nb(4,"label",16),I.Rb(),I.Rb(),I.Sb(5,"td"),I.Nb(6,"div",17),I.Rb(),I.Sb(7,"td"),I.Sb(8,"span",18),I.Nb(9,"i",19),I.Rb(),I.Gc(10),I.hc(11,"date"),I.Rb(),I.Sb(12,"td",11),I.Sb(13,"a",20),I.ec("click",(function(t){I.xc(i);var n=e.$implicit;return I.gc(3).viewRecord(n,t),!1})),I.Nb(14,"i",21),I.Rb(),I.Sb(15,"a",22),I.ec("click",(function(t){I.xc(i);var n=e.$implicit,o=e.index;return I.gc(3).delete(n,o,t),!1})),I.Nb(16,"i",23),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit;I.nc("@fadeIn",void 0)("hidden",n.isdeleted),I.zb(3),I.oc("id",n.id),I.nc("ngModel",n.Selected),I.zb(1),I.oc("for",n.id),I.zb(2),I.nc("innerHTML",n.description,I.yc),I.zb(4),I.Ic(" ",I.jc(11,7,n.created_at,"fullDate")," ")}}function dn(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",3),I.Sb(2,"table",4),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th"),I.Sb(6,"div",5),I.Sb(7,"input",6),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc(2).selectall=t}))("ngModelChange",(function(){return I.xc(i),I.gc(2).processChange()})),I.Rb(),I.Nb(8,"label",7),I.Rb(),I.Rb(),I.Sb(9,"th",8),I.ec("click",(function(){return I.xc(i),I.gc(2).Sort("ipaddress")})),I.Sb(10,"span",9),I.Gc(11,"Description"),I.Rb(),I.Nb(12,"i",10),I.Rb(),I.Sb(13,"th",8),I.ec("click",(function(){return I.xc(i),I.gc(2).Sort("created_at")})),I.Sb(14,"span",9),I.Gc(15,"Date"),I.Rb(),I.Nb(16,"i",10),I.Rb(),I.Sb(17,"th",11),I.Gc(18," Action "),I.Rb(),I.Rb(),I.Rb(),I.Sb(19,"tbody"),I.Ec(20,ln,17,10,"tr",12),I.hc(21,"async"),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc(2);I.zb(7),I.nc("ngModel",n.selectall),I.zb(2),I.nc("ngClass",n.fieldstates.description?"selected-sort-option":""),I.zb(3),I.nc("ngClass",n.fieldstates.description&&"asc"===n.sortedFields.description.direction?"fa fa-sort-asc":n.fieldstates.description&&"desc"===n.sortedFields.description.direction?"fa fa-sort-desc":"fa fa-sort"),I.zb(1),I.nc("ngClass",n.fieldstates.created_at?"selected-sort-option":""),I.zb(3),I.nc("ngClass",n.fieldstates.created_at&&"asc"===n.sortedFields.created_at.direction?"fa fa-sort-asc":"fa fa-sort"),I.zb(4),I.nc("ngForOf",I.ic(21,7,n.Data$))("ngForTrackBy",n.getKey)}}function bn(t,e){1&t&&I.Nb(0,"app-norecord")}function un(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,dn,22,9,"div",0),I.hc(2,"async"),I.Ec(3,bn,1,0,"app-norecord",0),I.hc(4,"async"),I.Rb()),2&t){var i=I.gc();I.zb(1),I.nc("ngIf",I.ic(2,2,i.Data$).length>0),I.zb(2),I.nc("ngIf",0===I.ic(4,4,i.Data$).length)}}var pn=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.View=new I.n,this.SelectedItems=new I.n,this.sortedFields={description:{sort:"description",direction:"desc"},created_at:{sort:"created_at",direction:"desc"}},this.selectall=!1,this.fieldstates={description:!1,created_at:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"Sort",value:function(t){for(var e in void 0===this.sortedFields[t]?this.sortedFields[t]={sort:t,direction:"desc"}:this.sortedFields[t].direction="desc"===this.sortedFields[t].direction?"asc":"desc",this.fieldstates)this.fieldstates[e]=e===t;console.log(this.fieldstates),this.actions.applyFilter({attr:"order",value:this.sortedFields[t].sort+" "+this.sortedFields[t].direction})}},{key:"viewRecord",value:function(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}},{key:"getKey",value:function(t,e){return e.id}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(ht.a),I.Mb($.a),I.Mb(gt))},t.\u0275cmp=I.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[2,"cursor","pointer",3,"ngClass","click"],[1,"m-r-5"],["aria-hidden","true",3,"ngClass"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"innerHTML"],[1,"text-muted"],[1,"fa","fa-clock-o"],["href","#","data-toggle","tooltip","data-original-title","View",3,"click"],[1,"fa","fa-eye","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(t,e){1&t&&(I.Nb(0,"alert"),I.Ec(1,rn,1,0,"app-loader",0),I.hc(2,"async"),I.Ec(3,un,5,6,"div",0),I.hc(4,"async"),I.Sb(5,"div",1),I.Sb(6,"pagination",2),I.ec("OnSelection",(function(t){return e.PaginationChange(t)})),I.hc(7,"async"),I.hc(8,"async"),I.hc(9,"async"),I.Rb(),I.Rb()),2&t&&(I.zb(1),I.nc("ngIf",I.ic(2,5,e.loading$)),I.zb(2),I.nc("ngIf",!I.ic(4,7,e.loading$)),I.zb(3),I.nc("currentPage",I.ic(7,9,e.pagination$).currentPage)("totalRecords",I.ic(8,11,e.pagination$).totalRecords)("pageSize",I.ic(9,13,e.pagination$).pageSize))},directives:[Ft.a,m.n,Nt.a,Lt.a,R.a,R.n,R.q,m.l,m.m,ce.a],pipes:[m.b,m.e],encapsulation:2,data:{animation:[Object(oe.k)("fadeIn",[Object(oe.j)(":enter",[Object(oe.i)({opacity:"0",background:"#f5fb98"}),Object(oe.e)("300ms ease-out",Object(oe.f)([Object(oe.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(oe.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(oe.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(E.a)([Object(D.e)(["log","posts"])],t.prototype,"Data$",void 0),Object(E.a)([Object(D.e)(["log","loading"])],t.prototype,"loading$",void 0),Object(E.a)([Object(D.e)(["log","pagination"])],t.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["log","selectall"])],t.prototype,"selectAll$",void 0),t}();function hn(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",4),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function gn(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",0),I.Sb(2,"div",5),I.Sb(3,"app-navigation-v2",6),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SearchSelection",(function(t){return I.xc(i),I.gc().FindRecords(t)})),I.Rb(),I.Rb(),I.Sb(4,"div",7),I.Sb(5,"app-toolbar-v2",8),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)})),I.Rb(),I.Sb(6,"div",9),I.Sb(7,"app-list",10),I.ec("SelectedItems",(function(t){return I.xc(i),I.gc().getSelectedItems(t)}))("View",(function(t){return I.xc(i),I.gc().toolbaraction(t)})),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc();I.zb(3),I.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),I.zb(2),I.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),I.zb(2),I.nc("isActionGranded",n.isActionGranded)}}var fn,vn=((fn=function(){function t(e,i,n,o,c,s,a){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.modalService=n,this.coreService=o,this.permission=c,this.coreActions=s,this.actions=a,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Log",this.subheading="Management",this.isItemsSelected=!1,this.Records=0,this.Pagination={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e))})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){if(this.isActionGranded)switch(t.action){case"view":return console.log(t.value),void this.ViewRecord(t.value);case"deleteall":return void this.DeleteAll();case"m_markas":return void this.ProcessActions(t.value)}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"DeleteAll",value:function(){this.dataService.DeleteAllRecords()}},{key:"ViewRecord",value:function(t){console.log("view record triggered");var e=this.modalService.open(an,{backdrop:!1});e.componentInstance.Info={title:"View Log Detail",data:t},e.result.then((function(t){}),(function(t){console.log("dismissed")}))}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0)o.value.actionstatus=t.actionstatus}catch(s){i=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||fn)(I.Mb(pt),I.Mb(gt),I.Mb(O.b),I.Mb(_.a),I.Mb(_t.a),I.Mb($.a),I.Mb(ht.a))},fn.\u0275cmp=I.Gb({type:fn,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"isActionGranded","SelectedItems","View"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"div",1),I.Sb(2,"div",2),I.Ec(3,hn,3,0,"div",3),I.Ec(4,gn,8,5,"div",3),I.Rb(),I.Rb(),I.Rb()),2&t&&(I.zb(3),I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Mt.a,pn],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["log","filteroptions"])],fn.prototype,"filteroptions$",void 0),Object(E.a)([Object(D.e)(["log","itemsselected"])],fn.prototype,"isItemSelected$",void 0),Object(E.a)([Object(D.e)(["log","isloaded"])],fn.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["log","records"])],fn.prototype,"records$",void 0),Object(E.a)([Object(D.e)(["log","pagination"])],fn.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],fn.prototype,"auth$",void 0),fn);function Sn(t,e){1&t&&I.Nb(0,"app-loader")}function yn(t,e){if(1&t&&(I.Sb(0,"span",21),I.Gc(1),I.Rb()),2&t){var i=I.gc().$implicit;I.zb(1),I.Hc(i.title)}}function mn(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,yn,2,1,"span",20),I.Rb()),2&t){var i=e.$implicit,n=I.gc().$implicit;I.zb(1),I.nc("ngIf",n.type===i.id)}}var On=function(t){return[t]};function Rn(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr",10),I.Sb(1,"td",11),I.Sb(2,"div",5),I.Sb(3,"input",12),I.ec("ngModelChange",(function(t){return I.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return I.xc(i),I.gc(3).checkChange()})),I.Rb(),I.Nb(4,"label",13),I.Rb(),I.Rb(),I.Sb(5,"td"),I.Gc(6),I.Rb(),I.Sb(7,"td"),I.Nb(8,"div",14),I.Rb(),I.Sb(9,"td"),I.Ec(10,mn,2,1,"div",15),I.Rb(),I.Sb(11,"td",8),I.Sb(12,"a",16),I.Nb(13,"i",17),I.Rb(),I.Sb(14,"a",18),I.ec("click",(function(t){I.xc(i);var n=e.$implicit,o=e.index;return I.gc(3).delete(n,o,t),!1})),I.Nb(15,"i",19),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit,o=I.gc(3);I.nc("@fadeIn",void 0)("hidden",n.isdeleted),I.zb(3),I.oc("id",n.id),I.nc("ngModel",n.Selected),I.zb(1),I.oc("for",n.id),I.zb(2),I.Ic(" ",n.templatekey," "),I.zb(2),I.nc("innerHTML",n.description,I.yc),I.zb(2),I.nc("ngForOf",o.MailTypes),I.zb(2),I.nc("routerLink",I.rc(9,On,"/settings/mailtemplates/process/"+n.id))}}function kn(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",3),I.Sb(2,"table",4),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th"),I.Sb(6,"div",5),I.Sb(7,"input",6),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc(2).selectall=t}))("ngModelChange",(function(){return I.xc(i),I.gc(2).processChange()})),I.Rb(),I.Nb(8,"label",7),I.Rb(),I.Rb(),I.Sb(9,"th"),I.Gc(10," Template Key "),I.Rb(),I.Sb(11,"th"),I.Gc(12," Description "),I.Rb(),I.Sb(13,"th"),I.Gc(14," Status "),I.Rb(),I.Sb(15,"th",8),I.Gc(16," Action "),I.Rb(),I.Rb(),I.Rb(),I.Sb(17,"tbody"),I.Ec(18,Rn,16,11,"tr",9),I.hc(19,"async"),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc(2);I.zb(7),I.nc("ngModel",n.selectall),I.zb(11),I.nc("ngForOf",I.ic(19,3,n.Data$))("ngForTrackBy",n.getKey)}}function An(t,e){1&t&&I.Nb(0,"app-norecord")}function In(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,kn,20,5,"div",0),I.hc(2,"async"),I.Ec(3,An,1,0,"app-norecord",0),I.hc(4,"async"),I.Rb()),2&t){var i=I.gc();I.zb(1),I.nc("ngIf",I.ic(2,2,i.Data$).length>0),I.zb(2),I.nc("ngIf",0===I.ic(4,4,i.Data$).length)}}var wn=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.MailTypes=[],this.SelectedItems=new I.n,this.selectall=!1,this.fieldstates={templatekey:!1,description:!1,type:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"getKey",value:function(t,e){return e.id}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"edit",value:function(t,e){console.log("edit clicked")}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"checkChange",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(St.a),I.Mb($.a),I.Mb(yt))},t.\u0275cmp=I.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",MailTypes:"MailTypes"},outputs:{SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],[3,"innerHTML"],[4,"ngFor","ngForOf"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(I.Nb(0,"alert"),I.Ec(1,Sn,1,0,"app-loader",0),I.hc(2,"async"),I.Ec(3,In,5,6,"div",0),I.hc(4,"async"),I.Sb(5,"div",1),I.Sb(6,"pagination",2),I.ec("OnSelection",(function(t){return e.PaginationChange(t)})),I.hc(7,"async"),I.hc(8,"async"),I.hc(9,"async"),I.Rb(),I.Rb()),2&t&&(I.zb(1),I.nc("ngIf",I.ic(2,5,e.loading$)),I.zb(2),I.nc("ngIf",!I.ic(4,7,e.loading$)),I.zb(3),I.nc("currentPage",I.ic(7,9,e.pagination$).currentPage)("totalRecords",I.ic(8,11,e.pagination$).totalRecords)("pageSize",I.ic(9,13,e.pagination$).pageSize))},directives:[Ft.a,m.n,Nt.a,Lt.a,R.a,R.n,R.q,m.m,k.e,ce.a],pipes:[m.b],encapsulation:2,data:{animation:[Object(oe.k)("fadeIn",[Object(oe.j)(":enter",[Object(oe.i)({opacity:"0",background:"#f5fb98"}),Object(oe.e)("300ms ease-out",Object(oe.f)([Object(oe.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(oe.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(oe.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(E.a)([Object(D.e)(["mailtemplates","posts"])],t.prototype,"Data$",void 0),Object(E.a)([Object(D.e)(["mailtemplates","loading"])],t.prototype,"loading$",void 0),Object(E.a)([Object(D.e)(["mailtemplates","pagination"])],t.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["mailtemplates","selectall"])],t.prototype,"selectAll$",void 0),t}();function Cn(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",2),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function _n(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",3),I.Sb(2,"div",4),I.Sb(3,"app-navigation-v2",5),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SearchSelection",(function(t){return I.xc(i),I.gc().FindRecords(t)})),I.Rb(),I.Rb(),I.Sb(4,"div",6),I.Sb(5,"app-toolbar-v2",7),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)})),I.Rb(),I.Sb(6,"div",8),I.Sb(7,"app-list",9),I.ec("SelectedItems",(function(t){return I.xc(i),I.gc().getSelectedItems(t)})),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc();I.zb(3),I.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),I.zb(2),I.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),I.zb(2),I.nc("MailTypes",n.MailTypes)("isActionGranded",n.isActionGranded)}}var jn,zn=((jn=function(){function t(e,i,n,o,c,s,a,r){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.modalService=n,this.coreService=o,this.coreActions=c,this.permission=s,this.actions=a,this.router=r,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={},this.Configs={},this.MailTypes=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.configs$.subscribe((function(e){if(t.Configs=e,void 0!==e.general)for(var i in e.general.mailtemplates)t.MailTypes.push({id:e.general.mailtemplates[i],title:i})})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!0,this.SearchOptions.actions=this.settingService.initialize_actions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){if(t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e)),void 0!==t.Configs.general)for(var i in t.Configs.general.mailtemplates)"-1"===e.type.toString()?t.ToolbarOptions.left_options[0].title="[All]":t.Configs.general.mailtemplates[i]===e.type&&(t.ToolbarOptions.left_options[1].title="["+i+"]")})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){switch(t.action){case"add":return void this.AddRecord();case"f_type":this.actions.applyFilter({attr:"type",value:t.value});break;case"m_markas":return void this.ProcessActions(t.value);case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value})}}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"AddRecord",value:function(){this.router.navigate(["/settings/mailtemplates/process/"])}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(this.isActionGranded){if(this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0){var s=o.value;s.actionstatus=t.actionstatus,"delete"!==t.value&&"deleteall"!==t.value||(s.isdeleted=!0)}}catch(a){i=!0,n=a}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}()).\u0275fac=function(t){return new(t||jn)(I.Mb(vt),I.Mb(yt),I.Mb(O.b),I.Mb(_.a),I.Mb($.a),I.Mb(_t.a),I.Mb(St.a),I.Mb(k.c))},jn.\u0275cmp=I.Gb({type:jn,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:3,vars:2,consts:[[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"MailTypes","isActionGranded","SelectedItems"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Ec(1,Cn,3,0,"div",1),I.Ec(2,_n,8,6,"div",1),I.Rb()),2&t&&(I.zb(1),I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Mt.a,wn],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["mailtemplates","filteroptions"])],jn.prototype,"filteroptions$",void 0),Object(E.a)([Object(D.e)(["mailtemplates","itemsselected"])],jn.prototype,"isItemSelected$",void 0),Object(E.a)([Object(D.e)(["mailtemplates","isloaded"])],jn.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["mailtemplates","records"])],jn.prototype,"records$",void 0),Object(E.a)([Object(D.e)(["mailtemplates","pagination"])],jn.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],jn.prototype,"auth$",void 0),Object(E.a)([Object(D.e)(["configuration","configs"])],jn.prototype,"configs$",void 0),jn);function Gn(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",1),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function xn(t,e){1&t&&I.Nb(0,"app-loader")}function $n(t,e){if(1&t){var i=I.Tb();I.Sb(0,"dynamic-modal-form",11),I.ec("OnSubmit",(function(t){return I.xc(i),I.gc(2).SubmitForm(t)})),I.Rb()}if(2&t){var n=I.gc(2);I.nc("controls",n.controls)("showLoader",n.showLoader)("showCancel",!1)("showModal",!1)("submitText",n.submitText)}}function Mn(t,e){if(1&t&&(I.Sb(0,"div"),I.Sb(1,"div",2),I.Sb(2,"div",3),I.Sb(3,"div",4),I.Nb(4,"app-navigation-v2",5),I.Rb(),I.Rb(),I.Sb(5,"div",6),I.Sb(6,"div",4),I.Sb(7,"div",7),I.Sb(8,"h4",8),I.Gc(9),I.Rb(),I.Rb(),I.Sb(10,"div",9),I.Ec(11,xn,1,0,"app-loader",0),I.Ec(12,$n,1,5,"dynamic-modal-form",10),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()),2&t){var i=I.gc();I.zb(4),I.nc("Options",i.SearchOptions),I.zb(5),I.Hc(i.formHeading),I.zb(2),I.nc("ngIf",i.showLoader),I.zb(1),I.nc("ngIf",!i.showLoader)}}var Fn,Nn=((Fn=function(){function t(e,i,n,o,c,s,a,r,l){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.actions=c,this.route=s,this.formService=a,this.permission=r,this.router=l,this.MailTemplateID=0,this.controls=[],this.showLoader=!1,this.formHeading="Add Mail Tempalte",this.submitText="Add Template",this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1539516196296","1539516133459",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1539516196296",e.Role)&&(t.isActionGranded=!0))})),this.configs$.subscribe((function(e){t.Configs=e})),this.route.params.subscribe((function(e){t.MailTemplateID=Number.parseInt(e.id,10),t.MailTemplateID>0?(t.formHeading="Update Mail Template",t.submitText="Update Template",t.LoadInfo()):t.initializeControls(t.settingService.getInitObject())})),this.SearchOptions=this.settingService.getSearchOptions(),this.SearchOptions.showSearchPanel=!1,this.SearchOptions.actions=[]}},{key:"LoadInfo",value:function(){var t=this;this.showLoader=!0,this.dataService.GetInfo(this.MailTemplateID).subscribe((function(e){t.initializeControls(e.posts),t.showLoader=!1}))}},{key:"initializeControls",value:function(t){this.controls=this.formService.getControls(t,this.Configs.general.mailtemplates)}},{key:"SubmitForm",value:function(t){var e=this;if(this.isActionGranded){this.showLoader=!0;var i="Added";this.MailTemplateID>0&&(t.id=this.MailTemplateID,i="Updated"),this.dataService.AddRecord(t).subscribe((function(t){console.log("returned data is "),console.log(t),"error"===t.status?e.coreActions.Notify({title:t.message,text:"",css:"bg-success"}):(e.coreActions.Notify({title:"Record "+i+" Successfully",text:"",css:"bg-success"}),e.actions.reloadList(),e.router.navigate(["/settings/mailtemplates/"])),e.showLoader=!1}),(function(t){e.showLoader=!1,e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||Fn)(I.Mb(vt),I.Mb(yt),I.Mb(_.a),I.Mb($.a),I.Mb(St.a),I.Mb(k.a),I.Mb(Ot),I.Mb(_t.a),I.Mb(k.c))},Fn.\u0275cmp=I.Gb({type:Fn,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-3"],[1,"card"],[3,"Options"],[1,"col-md-9"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,e){1&t&&(I.Ec(0,Gn,3,0,"div",0),I.Ec(1,Mn,13,4,"div",0)),2&t&&(I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Lt.a,ee.a],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["users","auth"])],Fn.prototype,"auth$",void 0),Object(E.a)([Object(D.e)(["configuration","configs"])],Fn.prototype,"configs$",void 0),Fn);function Ln(t,e){1&t&&I.Nb(0,"app-loader")}function Tn(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",23),I.Sb(2,"div",24),I.Sb(3,"div"),I.Sb(4,"input",25),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc().$implicit.title=t})),I.Rb(),I.Rb(),I.Sb(5,"div",26),I.Sb(6,"button",27),I.ec("click",(function(){I.xc(i);var t=I.gc().$implicit;return I.gc(3)._UpdateRecord(t)})),I.Gc(7," Save "),I.Rb(),I.Sb(8,"button",28),I.ec("click",(function(t){I.xc(i);var e=I.gc().$implicit;return I.gc(3).toggleEditView(e,t)})),I.Gc(9," Cancel "),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc().$implicit;I.zb(4),I.nc("ngModel",n.title)}}function Pn(t,e){if(1&t&&(I.Sb(0,"div"),I.Gc(1),I.Rb()),2&t){var i=I.gc().$implicit;I.zb(1),I.Ic(" ",i.title," ")}}function En(t,e){1&t&&(I.Sb(0,"span",29),I.Gc(1,"High"),I.Rb())}function Dn(t,e){1&t&&(I.Sb(0,"span",30),I.Gc(1,"Medium"),I.Rb())}function Vn(t,e){1&t&&(I.Sb(0,"span",31),I.Gc(1,"Low"),I.Rb())}function Un(t,e){if(1&t&&(I.Sb(0,"span",33),I.Gc(1),I.Rb()),2&t){var i=I.gc().$implicit;I.zb(1),I.Hc(i.title)}}function Bn(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,Un,2,1,"span",32),I.Rb()),2&t){var i=e.$implicit,n=I.gc().$implicit;I.zb(1),I.nc("ngIf",n.type===i.id)}}function Hn(t,e){1&t&&(I.Sb(0,"span",29),I.Gc(1,"Normal"),I.Rb())}function Jn(t,e){1&t&&(I.Sb(0,"span",30),I.Gc(1,"User Search"),I.Rb())}function Kn(t,e){1&t&&(I.Sb(0,"span"),I.Gc(1,"Active"),I.Rb())}function qn(t,e){1&t&&(I.Sb(0,"span"),I.Gc(1,"InActive"),I.Rb())}function Yn(t,e){if(1&t){var i=I.Tb();I.Sb(0,"tr",10),I.Sb(1,"td",11),I.Sb(2,"div",5),I.Sb(3,"input",12),I.ec("ngModelChange",(function(t){return I.xc(i),e.$implicit.Selected=t}))("ngModelChange",(function(){return I.xc(i),I.gc(3).checkChange()})),I.Rb(),I.Nb(4,"label",13),I.Rb(),I.Rb(),I.Sb(5,"td"),I.Ec(6,Tn,10,1,"div",0),I.Ec(7,Pn,2,1,"div",0),I.Rb(),I.Sb(8,"td"),I.Ec(9,En,2,0,"span",14),I.Ec(10,Dn,2,0,"span",15),I.Ec(11,Vn,2,0,"span",16),I.Rb(),I.Sb(12,"td"),I.Ec(13,Bn,2,1,"div",17),I.Rb(),I.Sb(14,"td"),I.Ec(15,Hn,2,0,"span",14),I.Ec(16,Jn,2,0,"span",15),I.Rb(),I.Sb(17,"td"),I.Sb(18,"button",18),I.ec("click",(function(){I.xc(i);var t=e.$implicit;return I.gc(3).triggleAction(t,"togglestatus")})),I.Ec(19,Kn,2,0,"span",0),I.Ec(20,qn,2,0,"span",0),I.Rb(),I.Rb(),I.Sb(21,"td",8),I.Sb(22,"a",19),I.ec("click",(function(t){I.xc(i);var n=e.$implicit;return I.gc(3).toggleEditView(n,t),!1})),I.Nb(23,"i",20),I.Rb(),I.Sb(24,"a",21),I.ec("click",(function(t){I.xc(i);var n=e.$implicit,o=e.index;return I.gc(3).delete(n,o,t),!1})),I.Nb(25,"i",22),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=e.$implicit,o=I.gc(3);I.nc("@fadeIn",void 0)("hidden",n.isdeleted),I.zb(3),I.oc("id",n.id),I.nc("ngModel",n.Selected),I.zb(1),I.oc("for",n.id),I.zb(2),I.nc("ngIf",n.editview),I.zb(1),I.nc("ngIf",!n.editview),I.zb(2),I.nc("ngIf",0==n.tag_level),I.zb(1),I.nc("ngIf",1==n.tag_level),I.zb(1),I.nc("ngIf",2==n.tag_level),I.zb(2),I.nc("ngForOf",o.TagTypes),I.zb(2),I.nc("ngIf",0==n.tag_type),I.zb(1),I.nc("ngIf",1==n.tag_type),I.zb(2),I.nc("ngClass",1===n.isenabled?"btn-success":"btn-danger"),I.zb(1),I.nc("ngIf",1===n.isenabled),I.zb(1),I.nc("ngIf",0===n.isenabled)}}function Wn(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",3),I.Sb(2,"table",4),I.Sb(3,"thead"),I.Sb(4,"tr"),I.Sb(5,"th"),I.Sb(6,"div",5),I.Sb(7,"input",6),I.ec("ngModelChange",(function(t){return I.xc(i),I.gc(2).selectall=t}))("ngModelChange",(function(){return I.xc(i),I.gc(2).processChange()})),I.Rb(),I.Nb(8,"label",7),I.Rb(),I.Rb(),I.Sb(9,"th"),I.Gc(10," Title "),I.Rb(),I.Sb(11,"th"),I.Gc(12," Priority "),I.Rb(),I.Sb(13,"th"),I.Gc(14," Type "),I.Rb(),I.Sb(15,"th"),I.Gc(16," Tag Type "),I.Rb(),I.Sb(17,"th"),I.Gc(18," Status "),I.Rb(),I.Sb(19,"th",8),I.Gc(20," Action "),I.Rb(),I.Rb(),I.Rb(),I.Sb(21,"tbody"),I.Ec(22,Yn,26,16,"tr",9),I.hc(23,"async"),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc(2);I.zb(7),I.nc("ngModel",n.selectall),I.zb(15),I.nc("ngForOf",I.ic(23,3,n.Data$))("ngForTrackBy",n.getKey)}}function Xn(t,e){1&t&&I.Nb(0,"app-norecord")}function Qn(t,e){if(1&t&&(I.Sb(0,"div"),I.Ec(1,Wn,24,5,"div",0),I.hc(2,"async"),I.Ec(3,Xn,1,0,"app-norecord",0),I.hc(4,"async"),I.Rb()),2&t){var i=I.gc();I.zb(1),I.nc("ngIf",I.ic(2,2,i.Data$).length>0),I.zb(2),I.nc("ngIf",0===I.ic(4,4,i.Data$).length)}}var Zn=function(){var t=function(){function t(e,i,n){_classCallCheck(this,t),this.actions=e,this.coreActions=i,this.dataService=n,this.isActionGranded=!1,this.TagTypes=[],this.View=new I.n,this.SelectedItems=new I.n,this.selectall=!1,this.fieldstates={tagname:!1,tag_level:!1,type:!1,tag_type:!1,isenabled:!1}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.selectAll$.subscribe((function(e){t.selectall=e,t.checkChange()}))}},{key:"viewRecord",value:function(t,e){this.View.emit({action:"view",value:t}),e.stopPropagation()}},{key:"triggleAction",value:function(t,e){var i=this;this.Data$.subscribe((function(e){var n=[],o=!0,c=!1,s=void 0;try{for(var a,r=e[Symbol.iterator]();!(o=(a=r.next()).done);o=!0){var l=a.value;l.Selected=t.id===l.id}}catch(f){c=!0,s=f}finally{try{o||null==r.return||r.return()}finally{if(c)throw s}}var d=!0,b=!1,u=void 0;try{for(var p,h=e[Symbol.iterator]();!(d=(p=h.next()).done);d=!0){var g=p.value;g.Selected&&n.push(g)}}catch(f){b=!0,u=f}finally{try{d||null==h.return||h.return()}finally{if(b)throw u}}i.SelectedItems.emit(n)})),this.View.emit({action:e,actionstatus:e,value:t})}},{key:"getKey",value:function(t,e){return e.id}},{key:"toggleEditView",value:function(t,e){t.editview=!t.editview,e.stopPropagation()}},{key:"_UpdateRecord",value:function(t){this.isActionGranded?(t.editview=!1,this.dataService.UpdateRecord(t)):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"PaginationChange",value:function(t){this.actions.applyFilter({attr:"pagenumber",value:t}),this.actions.updatePaginationCurrentPage({currentpage:t})}},{key:"delete",value:function(t,e,i){this.isActionGranded?!0===confirm("Are you sure you want to delete selected record?")&&this.dataService.DeleteRecord(t,e):this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"processChange",value:function(){this.actions.selectAll(this.selectall)}},{key:"checkChange",value:function(){this.ProcessSelection()}},{key:"ProcessSelection",value:function(){var t=this;this.Data$.subscribe((function(e){var i=[],n=!0,o=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.Selected&&i.push(r)}}catch(l){o=!0,c=l}finally{try{n||null==a.return||a.return()}finally{if(o)throw c}}t.SelectedItems.emit(i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(I.Mb(At.a),I.Mb($.a),I.Mb(It))},t.\u0275cmp=I.Gb({type:t,selectors:[["app-list"]],inputs:{isActionGranded:"isActionGranded",TagTypes:"TagTypes"},outputs:{View:"View",SelectedItems:"SelectedItems"},decls:10,vars:15,consts:[[4,"ngIf"],[1,"text-center","content-group-lg","pt-20"],[3,"currentPage","totalRecords","pageSize","OnSelection"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","no-wrap"],[1,"checkbox"],["id","selectall","type","checkbox",3,"ngModel","ngModelChange"],["for","selectall",1,"p-b-0","p-t-0"],[1,"text-nowrap"],[3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"hidden"],[2,"width","5%"],["type","checkbox",3,"ngModel","id","ngModelChange"],[3,"for"],["class","badge badge-success",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-info",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"ngClass","click"],["href","#","data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["href","#","data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger"],[1,"card"],[1,"card-body"],["type","text","placeholder","Update Tag",1,"form-control",3,"ngModel","ngModelChange"],[1,"m-t-5"],[1,"btn","btn-xs","btn-success",3,"click"],[1,"btn","btn-xs","btn-danger",3,"click"],[1,"badge","badge-success"],[1,"badge","badge-warning"],[1,"badge","badge-info"],["class","badge badge-danger",4,"ngIf"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(I.Nb(0,"alert"),I.Ec(1,Ln,1,0,"app-loader",0),I.hc(2,"async"),I.Ec(3,Qn,5,6,"div",0),I.hc(4,"async"),I.Sb(5,"div",1),I.Sb(6,"pagination",2),I.ec("OnSelection",(function(t){return e.PaginationChange(t)})),I.hc(7,"async"),I.hc(8,"async"),I.hc(9,"async"),I.Rb(),I.Rb()),2&t&&(I.zb(1),I.nc("ngIf",I.ic(2,5,e.loading$)),I.zb(2),I.nc("ngIf",!I.ic(4,7,e.loading$)),I.zb(3),I.nc("currentPage",I.ic(7,9,e.pagination$).currentPage)("totalRecords",I.ic(8,11,e.pagination$).totalRecords)("pageSize",I.ic(9,13,e.pagination$).pageSize))},directives:[Ft.a,m.n,Nt.a,Lt.a,R.a,R.n,R.q,m.m,m.l,R.c,ce.a],pipes:[m.b],encapsulation:2,data:{animation:[Object(oe.k)("fadeIn",[Object(oe.j)(":enter",[Object(oe.i)({opacity:"0",background:"#f5fb98"}),Object(oe.e)("300ms ease-out",Object(oe.f)([Object(oe.i)({opacity:0,transform:"translateY(-75%)",offset:0}),Object(oe.i)({opacity:.5,transform:"translateY(35px)",offset:.5}),Object(oe.i)({opacity:1,transform:"translateY(0)",offset:1})]))])])]}}),Object(E.a)([Object(D.e)(["tags","posts"])],t.prototype,"Data$",void 0),Object(E.a)([Object(D.e)(["tags","loading"])],t.prototype,"loading$",void 0),Object(E.a)([Object(D.e)(["tags","pagination"])],t.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["tags","selectall"])],t.prototype,"selectAll$",void 0),t}();function to(t,e){1&t&&(I.Sb(0,"div"),I.Sb(1,"h2",4),I.Gc(2,"Access Denied"),I.Rb(),I.Rb())}function eo(t,e){if(1&t){var i=I.Tb();I.Sb(0,"div"),I.Sb(1,"div",0),I.Sb(2,"div",5),I.Sb(3,"app-navigation-v2",6),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)}))("SearchSelection",(function(t){return I.xc(i),I.gc().FindRecords(t)})),I.Rb(),I.Rb(),I.Sb(4,"div",7),I.Sb(5,"app-toolbar-v2",8),I.ec("Action",(function(t){return I.xc(i),I.gc().toolbaraction(t)})),I.Rb(),I.Sb(6,"div",9),I.Sb(7,"app-list",10),I.ec("SelectedItems",(function(t){return I.xc(i),I.gc().getSelectedItems(t)}))("View",(function(t){return I.xc(i),I.gc().ProcessActions(t)})),I.Rb(),I.Rb(),I.Rb(),I.Rb(),I.Rb()}if(2&t){var n=I.gc();I.zb(3),I.nc("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),I.zb(2),I.nc("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),I.zb(2),I.nc("TagTypes",n.TagTypes)("isActionGranded",n.isActionGranded)}}var io,no,oo,co=[{path:"",component:Ct,data:{title:"Settings Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Management"}]},children:[{path:"",component:xt},{path:"blockip",children:[{path:"",component:ve}],data:{title:"BlockIP Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Block IP",url:"/settings/blockip"},{title:"Management"}]}},{path:"categories",children:[{path:"",component:Ne},{path:"process/:id",component:Ve},{path:"process/add/:parentid",component:Ve},{path:"process",component:Ve}],data:{title:"Categories Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Categories",url:"/settings/categories"},{title:"Management"}]}},{path:"configurations",children:[{path:"",component:Ze},{path:"filter/:type",component:Ze}],data:{title:"Configuration Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Configurations",url:"/settings/configurations"},{title:"Management"}]}},{path:"dictionary",children:[{path:"",component:Bi}],data:{title:"Dictionary Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Dictionary",url:"/settings/dictionary"},{title:"Management"}]}},{path:"roles",children:[{path:"",component:yi},{path:"process/:id",component:_i}],data:{title:"Roles Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Roles",url:"/settings/roles"},{title:"Management"}]}},{path:"language",children:[{path:"",component:cn}],data:{title:"Language Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Language",url:"/settings/language"},{title:"Management"}]}},{path:"log",children:[{path:"",component:vn}],data:{title:"Log Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Log",url:"/settings/log"},{title:"Management"}]}},{path:"mailtemplates",children:[{path:"",component:zn},{path:"process/:id",component:Nn},{path:"process",component:Nn}],data:{title:"Mailtemplates Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Mail Templates",url:"/settings/mailtemplates"},{title:"Management"}]}},{path:"tags",children:[{path:"",component:(io=function(){function t(e,i,n,o,c,s){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=n,this.coreActions=o,this.permission=c,this.actions=s,this.isAccessGranted=!1,this.isActionGranded=!1,this.isItemsSelected=!1,this.Records=0,this.Pagination={},this.Configs={},this.TagTypes=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396255768","1521396280060",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396255768",e.Role)&&(t.isActionGranded=!0))})),this.configs$.subscribe((function(e){if(t.Configs=e,void 0!==e.general)for(var i in e.general.tag)t.TagTypes.push({id:e.general.tag[i],title:i})})),this.SearchOptions=this.settingService.getSearchOptions(),this.ToolbarOptions=this.settingService.getToolbarOptions(),this.filteroptions$.subscribe((function(e){if(t.FilterOptions=e,e.track_filter&&(t.dataService.LoadRecords(e),e.track_filter=!1,t.actions.updateFilterOptions(e)),void 0!==t.Configs.general)for(var i in t.Configs.general.tag)t.Configs.general.tag[i]===e.type&&(t.ToolbarOptions.left_options[1].title="["+i+"]")})),this.records$.subscribe((function(e){t.Records=e})),this.pagination$.subscribe((function(e){t.Pagination=e})),this.isloaded$.subscribe((function(e){e?t.refreshStats():t.dataService.LoadRecords(t.FilterOptions)})),this.isItemSelected$.subscribe((function(e){t.isItemsSelected=e}))}},{key:"toolbaraction",value:function(t){if(this.isActionGranded)switch(t.action){case"m_markas":return void this.ProcessActions(t.value);case"f_type":this.actions.applyFilter({attr:"type",value:t.value});break;case"f_ttype":this.actions.applyFilter({attr:"tag_type",value:t.value});break;case"f_tlevel":this.actions.applyFilter({attr:"tag_level",value:t.value});break;case"f_status":this.actions.applyFilter({attr:"isenabled",value:t.value});break;case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value})}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"FindRecords",value:function(t){var e=t.filters;e.pagenumber=1,e.track_filter=!0,this.actions.updateFilterOptions(e)}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(console.log("process action triggered"),console.log(t),this.SelectedItems.length>0){var e=!0,i=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(e=(o=c.next()).done);e=!0){var s=o.value;s.actionstatus=t.actionstatus,"delete"!==t.value&&"deleteall"!==t.value||(s.isdeleted=!0)}}catch(a){i=!0,n=a}finally{try{e||null==c.return||c.return()}finally{if(i)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({type:0,totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}(),io.\u0275fac=function(t){return new(t||io)(I.Mb(kt),I.Mb(It),I.Mb(_.a),I.Mb($.a),I.Mb(_t.a),I.Mb(At.a))},io.\u0275cmp=I.Gb({type:io,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&I.Kc("@fadeInAnimation",void 0)},decls:5,vars:2,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"Options","isItemsSelected","Action"],[1,"card-body"],[3,"TagTypes","isActionGranded","SelectedItems","View"]],template:function(t,e){1&t&&(I.Sb(0,"div",0),I.Sb(1,"div",1),I.Sb(2,"div",2),I.Ec(3,to,3,0,"div",3),I.Ec(4,eo,8,6,"div",3),I.Rb(),I.Rb(),I.Rb()),2&t&&(I.zb(3),I.nc("ngIf",!e.isAccessGranted),I.zb(1),I.nc("ngIf",e.isAccessGranted))},directives:[m.n,$t.a,Mt.a,Zn],encapsulation:2,data:{animation:[ne.a]}}),Object(E.a)([Object(D.e)(["tags","filteroptions"])],io.prototype,"filteroptions$",void 0),Object(E.a)([Object(D.e)(["tags","itemsselected"])],io.prototype,"isItemSelected$",void 0),Object(E.a)([Object(D.e)(["tags","isloaded"])],io.prototype,"isloaded$",void 0),Object(E.a)([Object(D.e)(["tags","records"])],io.prototype,"records$",void 0),Object(E.a)([Object(D.e)(["tags","pagination"])],io.prototype,"pagination$",void 0),Object(E.a)([Object(D.e)(["users","auth"])],io.prototype,"auth$",void 0),Object(E.a)([Object(D.e)(["configuration","configs"])],io.prototype,"configs$",void 0),io)}],data:{title:"Tags Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Tags",url:"/settings/tags"},{title:"Management"}]}},{path:"advertisements",data:{title:"Advertisement Management",urls:[{title:"Dashboard",url:"/"},{title:"Settings",url:"/settings"},{title:"Advertisement",url:"/settings/advertisements"},{title:"Management"}]},children:[{path:"",component:Zt}]}]}],so=((oo=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:oo}),oo.\u0275inj=I.Jb({factory:function(t){return new(t||oo)},imports:[[k.f.forChild(co)],k.f]}),oo),ao=((no=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:no}),no.\u0275inj=I.Jb({factory:function(t){return new(t||no)},providers:[ot,st,at,ct.a],imports:[[m.c,A.a,R.i]]}),no);i.d(e,"SettingsModule",(function(){return lo}));var ro,lo=((ro=function t(){_classCallCheck(this,t)}).\u0275mod=I.Kb({type:ro}),ro.\u0275inj=I.Jb({factory:function(t){return new(t||ro)},imports:[[m.c,O.c,w,F,P,H,Z,nt,ut,ft,mt,wt,so,rt,Rt,q,ao]]}),ro)}}]);