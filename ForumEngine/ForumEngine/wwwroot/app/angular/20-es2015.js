(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{rwzO:function(t,e,i){"use strict";i.r(e);var o=i("1kSV"),s=i("ofXK"),r=i("3Pt+"),n=i("tyNb"),a=i("fXoL"),c=i("JJ5z");let l=(()=>{class t{constructor(){this.isAdmin=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"isAdmin"]],template:function(t,e){1&t&&a.Nb(0,"app-mainforum-list",0),2&t&&a.nc("isAdmin",e.isAdmin)},directives:[c.a],encapsulation:2}),t})();var h=i("o+qO"),u=i("pJ0w");let p=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[s.c,h.a,n.f,r.i,u.a]]}),t})();var d=i("xp6A");let m=(()=>{class t{constructor(){this.isAdmin=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"isAdmin"]],template:function(t,e){1&t&&a.Nb(0,"app-forumtopic-process",0),2&t&&a.nc("isAdmin",e.isAdmin)},directives:[d.a],encapsulation:2}),t})();var b=i("dSJ/"),f=i("xnmw"),g=i("SeUu"),v=i("mTle");let y=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[b.a,f.a,g.a,v.a],imports:[[s.c,h.a,n.f,r.i]]}),t})();var w=i("mrSG"),T=i("Usal"),O=i("pdjO"),S=i("nD3/"),I=i("LEd3"),C=i("Hjmt"),R=i("RDfn"),A=i("4HLj"),L=i("+kG/");let M=(()=>{class t{constructor(t,e,i,o){this.activeModal=t,this.service=e,this.dataService=i,this.coreActions=o,this.showLoader=!1,this.list=[]}ngOnInit(){this.title=this.Info.title,this.controls=this.service.getReplyControls(this.Info.data)}SubmitForm(t){if(void 0!==this.Info.isActionGranded&&!this.Info.isActionGranded)return void this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"});t.replyid=this.Info.data.replyid,t.title=this.Info.data.title,t.userid=this.Info.data.userid,t.forumid=this.Info.data.forumid,t.id=this.Info.data.id;let e="Added";this.Info.data.id>0&&(t.id=this.Info.data.id,e="Updated"),this.showLoader=!0,console.log(t),this.dataService.AddRecord(t).subscribe(t=>{"error"===t.status?this.coreActions.Notify({title:t.message,text:"",css:"bg-error"}):(this.coreActions.Notify({title:"Record "+e+" Successfully",text:"",css:"bg-success"}),this.activeModal.close({data:t.record,isenabled:e})),this.showLoader=!1},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}close(){this.activeModal.dismiss("Cancel Clicked")}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(o.a),a.Mb(g.a),a.Mb(f.a),a.Mb(I.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[a.yb([g.a,f.a])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(a.Sb(0,"div",0),a.Sb(1,"h4",1),a.Gc(2),a.Rb(),a.Sb(3,"button",2),a.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),a.Sb(4,"span",3),a.Gc(5,"\xd7"),a.Rb(),a.Rb(),a.Rb(),a.Sb(6,"dynamic-modal-form",4),a.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),a.Rb()),2&t&&(a.zb(2),a.Hc(e.title),a.zb(4),a.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[L.a],encapsulation:2}),t})();function k(t,e){if(1&t&&(a.Sb(0,"div"),a.Sb(1,"h2"),a.Gc(2),a.Rb(),a.Nb(3,"hr"),a.Rb()),2&t){const t=a.gc().$implicit;a.zb(2),a.Hc(t.title)}}function G(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",3),a.Sb(1,"div",4),a.Sb(2,"div",5),a.Sb(3,"div",6),a.Ec(4,k,4,1,"div",7),a.Sb(5,"div",3),a.Sb(6,"div",4),a.Sb(7,"p"),a.Gc(8," Posted: "),a.Sb(9,"span",8),a.Nb(10,"i",9),a.Rb(),a.Gc(11),a.hc(12,"date"),a.Rb(),a.Nb(13,"hr"),a.Nb(14,"div",10),a.Rb(),a.Sb(15,"div",11),a.Sb(16,"a",12),a.ec("click",(function(i){a.xc(t);const o=e.$implicit;return a.gc().edit(o,i),!1})),a.Nb(17,"i",13),a.Rb(),a.Sb(18,"a",12),a.ec("click",(function(i){a.xc(t);const o=e.$implicit,s=e.index;return a.gc().delete(o,s,i),!1})),a.Nb(19,"i",14),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=e.$implicit,i=e.index;a.zb(4),a.nc("ngIf",0===i),a.zb(7),a.Ic(" ",a.jc(12,3,t.created_at,"fullDate")," "),a.zb(3),a.nc("innerHTML",t.description,a.yc)}}let F=(()=>{class t{constructor(t,e,i){this.modalService=t,this.settingService=e,this.dataService=i,this.Info={},this.Author_FullName="",this.Auth={}}ngOnInit(){this.auth$.subscribe(t=>{this.Auth=t})}PostReply(){if(this.Info.length>0){const t=this.settingService.getInitObject();t.userid=this.Auth.User.id,t.forumid=this.Info[0].forumid,t.replyid=this.Info[0].id,t.title="Re - "+this.Info[0].title,this.TriggleModal(t)}}edit(t,e){this.TriggleModal(t),e.stopPropagation()}TriggleModal(t){let e="Post Reply";t.id>0&&(e="Update Post");const i=this.modalService.open(M,{backdrop:!1});i.componentInstance.Info={title:e,data:t,viewType:0},i.result.then(t=>{if("Added"===t.isenabled)this.Info.push(t.data);else for(const e of this.Info)e.id===t.data.id&&(e.description=t.data.description)},t=>{console.log("dismissed")})}delete(t,e,i){!0===confirm("Are you sure you want to delete selected post?")&&(e>-1&&this.Info.splice(e,1),this.dataService.DeleteRecord(t,e)),i.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(o.b),a.Mb(b.a),a.Mb(f.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-forumtopics-info"]],inputs:{Info:"Info",Author_FullName:"Author_FullName"},decls:5,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"m-b-10","m-t-10"],[1,"btn","btn-primary",3,"click"],[1,"row"],[1,"col-md-10"],[1,"card"],[1,"card-body"],[4,"ngIf"],[1,"text-muted"],[1,"fa","fa-clock-o"],[1,"card-text","m-b-5",3,"innerHTML"],[1,"col-md-2"],["href","#",1,"m-l-5",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],[1,"fa","fa-close","text-danger"]],template:function(t,e){1&t&&(a.Ec(0,G,20,6,"div",0),a.Nb(1,"hr"),a.Sb(2,"div",1),a.Sb(3,"button",2),a.ec("click",(function(){return e.PostReply()})),a.Gc(4,"Post Reply"),a.Rb(),a.Rb()),2&t&&a.nc("ngForOf",e.Info)},directives:[s.m,s.n],pipes:[s.e],encapsulation:2}),Object(w.a)([Object(T.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();function E(t,e){1&t&&(a.Sb(0,"div"),a.Sb(1,"h2",1),a.Gc(2,"Access Denied"),a.Rb(),a.Rb())}function D(t,e){1&t&&a.Nb(0,"app-loader")}function z(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div"),a.Sb(1,"div",4),a.Sb(2,"app-toolbar-v2",5),a.ec("Action",(function(e){return a.xc(t),a.gc(2).toolbaraction(e)})),a.Rb(),a.Rb(),a.Sb(3,"div",6),a.Sb(4,"div",7),a.Nb(5,"app-forumtopics-info",8),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=a.gc(2);a.zb(2),a.nc("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),a.zb(3),a.nc("Author_FullName",t.Author_FullName)("Info",t.Info)}}function P(t,e){if(1&t&&(a.Sb(0,"div"),a.Sb(1,"div",2),a.Sb(2,"div",3),a.Ec(3,D,1,0,"app-loader",0),a.Ec(4,z,6,4,"div",0),a.Rb(),a.Rb(),a.Rb()),2&t){const t=a.gc();a.zb(3),a.nc("ngIf",t.showLoader),a.zb(1),a.nc("ngIf",!t.showLoader)}}let N=(()=>{class t{constructor(t,e,i,o,s,r,n,a,c){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=o,this.actions=s,this.route=r,this.formService=n,this.permission=a,this.router=c,this.isItemsSelected=!0,this.RecordID=0,this.FilterOptions={},this.controls=[],this.showLoader=!1,this.formHeading="Blog Detail",this.submitText="Submit",this.Info={},this.uploadedFiles=[],this.SelectedItems=[],this.Author_FullName="",this.isAccessGranted=!1,this.isActionGranded=!1}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521395897976","1521395939384",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521395897976",t.Role)&&(this.isActionGranded=!0))}),this.ToolbarOptions=this.settingService.getToolbarOptions(!0),this.ToolbarOptions.showtoolbar=!1,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!0,this.ToolbarOptions.ProfileView=!0,this.route.params.subscribe(t=>{this.RecordID=this.coreService.decrypt(t.id),isNaN(this.RecordID)&&(this.RecordID=0),this.RecordID>0&&this.LoadInfo()})}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{if("error"===t.status)this.coreActions.Notify({title:t.message,text:"",css:"bg-success"}),this.router.navigate(["/forumtopics"]);else{this.Info=t.posts,this.SelectedItems=[];for(const t of this.Info)this.SelectedItems.push(t)}this.showLoader=!1})}toolbaraction(t){switch(t.action){case"m_markas":this.ProcessActions(t.value);break;case"add":return void this.router.navigate(["/forumtopics/process/0"]);case"edit":return void this.router.navigate(["/forumtopics/process/"+this.Info.id])}}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const e of this.SelectedItems)e.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t),"delete"===t.actionstatus&&this.router.navigate(["/forumtopics/"])}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(b.a),a.Mb(f.a),a.Mb(S.a),a.Mb(I.a),a.Mb(v.a),a.Mb(n.a),a.Mb(g.a),a.Mb(C.a),a.Mb(n.c))},t.\u0275cmp=a.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&a.Kc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-12"],[1,"m-b-10"],[3,"Options","isItemsSelected","Action"],[1,"card"],[1,"card-body"],[3,"Author_FullName","Info"]],template:function(t,e){1&t&&(a.Ec(0,E,3,0,"div",0),a.Ec(1,P,5,2,"div",0)),2&t&&(a.nc("ngIf",!e.isAccessGranted),a.zb(1),a.nc("ngIf",e.isAccessGranted))},directives:[s.n,R.a,A.a,F],encapsulation:2,data:{animation:[O.a]}}),Object(w.a)([Object(T.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();var x=function(){function t(t,e,i){this.googleChartsVersion=e,this.mapsApiKey=i,this.googleScriptLoadingNotifier=new a.n,this.googleScriptIsLoading=!1,this.localeId=t,null===this.googleChartsVersion&&(this.googleChartsVersion="46")}return t.prototype.load=function(t){var e=this;return new Promise((function(i,o){void 0===i&&(i=Function.prototype),void 0===o&&(o=Function.prototype),e.loadGoogleChartsScript().then((function(){var o={language:e.localeId,callback:i,packages:t};e.mapsApiKey&&(o.mapsApiKey=e.mapsApiKey),google.charts.load(e.googleChartsVersion,o)})).catch((function(t){return o()}))}))},t.prototype.loadGoogleChartsScript=function(){var t=this;return new Promise((function(e,i){if(void 0===e&&(e=Function.prototype),void 0===i&&(i=Function.prototype),"undefined"!=typeof google&&google.charts)e();else if(t.googleScriptIsLoading)t.googleScriptLoadingNotifier.subscribe((function(t){t?e():i()}));else{t.googleScriptIsLoading=!0;var o=document.createElement("script");o.type="text/javascript",o.src="https://www.gstatic.com/charts/loader.js",o.async=!0,o.defer=!0,o.onload=function(){t.googleScriptIsLoading=!1,t.googleScriptLoadingNotifier.emit(!0),e()},o.onerror=function(){t.googleScriptIsLoading=!1,t.googleScriptLoadingNotifier.emit(!1),i()},document.getElementsByTagName("head")[0].appendChild(o)}}))},t.\u0275fac=function(e){return new(e||t)(a.ac(a.u),a.ac("googleChartsVersion",8),a.ac("mapsApiKey",8))},t.\u0275prov=a.Ib({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),_=function(){function t(t){this.tooltipDOMElement=t}return t.prototype.setPosition=function(e,i){this.tooltipDOMElement.nativeElement.style.left=e+t.PIXELS,this.tooltipDOMElement.nativeElement.style.top=i+t.PIXELS},t.prototype.getDOMElement=function(){return this.tooltipDOMElement},t.PIXELS="px",t}(),B=function(){function t(t,e){var i=this;this.mouseOverListener=function(t){var e=i.parseMouseEvent(t);return e.tooltip=i.getHTMLTooltip(),e},this.mouseOutListener=function(t){return i.parseMouseEvent(t)},this.selectListener=function(){var t={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},e=i.wrapper.visualization.getSelection(),o=e[e.length-1];if(!o)return t.message="deselect",t;var s=o;if(null!=o.row){t.row=s.row;for(var r=[],n=[],a=i.wrapper.getDataTable(),c=a.getNumberOfColumns(),l=0;l<c;l++)r.push(a.getValue(s.row,l)),n.push(a.getFormattedValue(s.row,l));t.selectedRowValues=r,t.selectedRowFormattedValues=n}return null!=s.column&&(t.column=s.column,t.columnLabel=i.getColumnLabelAtPosition(s)),o.name&&(t.columnLabel=o.name),t},this.el=t,this.loaderService=e,this.chartSelect=new a.n,this.chartSelectOneTime=new a.n,this.chartReady=new a.n,this.chartReadyOneTime=new a.n,this.chartError=new a.n,this.chartErrorOneTime=new a.n,this.mouseOver=new a.n,this.mouseOverOneTime=new a.n,this.mouseOut=new a.n,this.mouseOutOneTime=new a.n,this.regionClick=new a.n,this.regionClickOneTime=new a.n}return t.prototype.ngOnChanges=function(t){var e=this;if(t.data){if(!this.data)return;this.options=this.data.options,this.options||(this.options={}),this.data.component=this,this.loaderService.load().then((function(){void 0!==e.wrapper&&e.wrapper.getChartType()===e.data.chartType||(e.convertOptions(),e.data.firstRowIsData&&Array.isArray(e.data.dataTable)&&(e.data.dataTable=google.visualization.arrayToDataTable(e.data.dataTable,!0)),e.wrapper=new google.visualization.ChartWrapper(e.data),e.registerChartWrapperEvents()),e.draw()}))}},t.prototype.draw=function(){var t=this;if(this.data.dataTable)this.wrapper.setDataTable(this.data.dataTable),this._draw();else if(this.data.dataSourceUrl){var e=new google.visualization.Query(this.data.dataSourceUrl);this.data.refreshInterval&&e.setRefreshInterval(this.data.refreshInterval),this.data.query&&e.setQuery(this.data.query),e.send((function(e){if(!e.isError()){var i=e.getDataTable();t.wrapper.setDataTable(i),t.data.dataTable=i,t._draw()}}))}},t.prototype._draw=function(){this.convertOptions(),this.wrapper.setOptions(this.options),this.reformat(),this.wrapper.draw(this.el.nativeElement.querySelector("div"))},t.prototype.reformat=function(){if(this.data&&void 0!==this.data.formatters)for(var t=this.wrapper.getDataTable(),e=0,i=this.data.formatters;e<i.length;e++){var o=i[e],s=void 0;if("PatternFormat"!==o.type){var r=google.visualization[o.type],n=o.options;if(s=new r(n),"ColorFormat"===o.type&&n)for(var a=0,c=(p=n).ranges;a<c.length;a++){var l=c[a];void 0!==l.fromBgColor&&void 0!==l.toBgColor?s.addGradientRange(l.from,l.to,l.color,l.fromBgColor,l.toBgColor):s.addRange(l.from,l.to,l.color,l.bgcolor)}for(var h=0,u=o.columns;h<u.length;h++)s.format(t,u[h])}else{var p=o.options;(s=new google.visualization.PatternFormat(p.pattern)).format(t,o.columns,p.dstColumnIndex)}}},t.prototype.getSelectorBySeriesType=function(t){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[t]},t.prototype.getSeriesByColumn=function(t){for(var e=0,i=this.wrapper.getDataTable(),o=t-1;o>=0;o--){var s=i.getColumnRole(o),r=i.getColumnType(o);"data"!==s&&"number"!==r||e++}return e},t.prototype.getBoundingBoxForItem=function(t){var e={top:0,left:0,width:0,height:0};if(this.cli){var i=t.column,o=this.getSeriesByColumn(i),s=t.row,r=this.options.seriesType;if(this.options.series&&this.options.series[o]&&this.options.series[o].type&&(r=this.options.series[o].type),r){var n=this.getSelectorBySeriesType(r);if(n){n=n.replace("%s",o+"").replace("%c",i+"").replace("%r",s+"");var a=this.cli.getBoundingBox(n);a&&(e=a)}}}return e},t.prototype.getValueAtPosition=function(t){return null==t.row?null:this.wrapper.getDataTable().getValue(t.row,t.column)},t.prototype.getColumnTypeAtPosition=function(t){return this.wrapper.getDataTable().getColumnType(t.column)||""},t.prototype.getColumnLabelAtPosition=function(t){return this.wrapper.getDataTable().getColumnLabel(t.column)||""},t.prototype.getHTMLTooltip=function(){var t=new a.l(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new _(t)},t.prototype.parseMouseEvent=function(t){var e=this.wrapper.getChartType(),i=t.column;if(null==i)switch(e){case"Timeline":i=3===this.wrapper.getDataTable().getNumberOfColumns()?0:1;break;default:i=0}var o={row:t.row,column:i};return{position:t,boundingBox:this.getBoundingBoxForItem(o),value:this.getValueAtPosition(o),columnType:this.getColumnTypeAtPosition(o),columnLabel:this.getColumnLabelAtPosition(o)}},t.prototype.unregisterEvents=function(){google.visualization.events.removeAllListeners(this.wrapper.getChart()),google.visualization.events.removeAllListeners(this.wrapper)},t.prototype.registerChartEvents=function(){var t=this,e=this.wrapper.getChart();this.cli=e.getChartLayoutInterface?e.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(e,"onmouseover",(function(e){var i=t.parseMouseEvent(e);i.tooltip=t.getHTMLTooltip(),t.mouseOver.emit(i)})),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseover",(function(e){var i=t.parseMouseEvent(e);i.tooltip=t.getHTMLTooltip(),t.mouseOverOneTime.emit(i)})),this.mouseOut.observers.length>0&&google.visualization.events.addListener(e,"onmouseout",(function(e){var i=t.parseMouseEvent(e);t.mouseOut.emit(i)})),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseout",(function(e){var i=t.parseMouseEvent(e);t.mouseOutOneTime.emit(i)})),"GeoChart"===this.data.chartType&&(this.regionClick.observers.length>0&&google.visualization.events.addListener(e,"regionClick",(function(e){t.regionClick.emit(e)})),this.regionClickOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"regionClick",(function(e){t.regionClick.emit(e)})))},t.prototype.registerChartWrapperEvents=function(){var t=this;google.visualization.events.addListener(this.wrapper,"ready",(function(){t.chartReady.emit({message:"Chart ready"})})),google.visualization.events.addOneTimeListener(this.wrapper,"ready",(function(){t.chartReadyOneTime.emit({message:"Chart ready (one time)"}),t.registerChartEvents()})),google.visualization.events.addListener(this.wrapper,"error",(function(e){t.chartError.emit(e)})),google.visualization.events.addOneTimeListener(this.wrapper,"error",(function(e){t.chartErrorOneTime.emit(e)})),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)},t.prototype.addListener=function(t,e,i,o){google.visualization.events.addListener(t,e,(function(){o.emit(i())}))},t.prototype.addOneTimeListener=function(t,e,i,o){google.visualization.events.addOneTimeListener(t,e,(function(){o.emit(i())}))},t.prototype.convertOptions=function(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(t){return}},t.\u0275fac=function(e){return new(e||t)(a.Mb(a.l),a.Mb(x))},t.\u0275cmp=a.Gb({type:t,selectors:[["google-chart"]],inputs:{data:"data"},outputs:{chartSelect:"chartSelect",chartSelectOneTime:"chartSelectOneTime",chartReady:"chartReady",chartReadyOneTime:"chartReadyOneTime",chartError:"chartError",chartErrorOneTime:"chartErrorOneTime",mouseOver:"mouseOver",mouseOverOneTime:"mouseOverOneTime",mouseOut:"mouseOut",mouseOutOneTime:"mouseOutOneTime",regionClick:"regionClick",regionClickOneTime:"regionClickOneTime"},features:[a.xb],decls:1,vars:0,template:function(t,e){1&t&&a.Nb(0,"div")},encapsulation:2,changeDetection:0}),t}(),j=function(){function t(){}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[x]}),t}();let V=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[b.a,f.a,g.a,v.a],imports:[[s.c,h.a,n.f,r.i,j]]}),t})();function K(t,e){1&t&&(a.Sb(0,"div"),a.Sb(1,"h2",1),a.Gc(2,"Access Denied"),a.Rb(),a.Rb())}function H(t,e){1&t&&a.Nb(0,"app-loader")}function $(t,e){if(1&t&&(a.Sb(0,"div"),a.Nb(1,"google-chart",5),a.Rb()),2&t){const t=a.gc(2);a.zb(1),a.nc("data",t.tooltipChart)}}function J(t,e){if(1&t&&(a.Sb(0,"div"),a.Sb(1,"div",6),a.Sb(2,"h3",7),a.Gc(3),a.Rb(),a.Rb(),a.Rb()),2&t){const t=a.gc(2);a.zb(3),a.Ic(" ",t.message," ")}}function U(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div"),a.Sb(1,"div",2),a.Sb(2,"div",3),a.Sb(3,"app-toolbar-v2",4),a.ec("Action",(function(e){return a.xc(t),a.gc().toolbaraction(e)})),a.Rb(),a.Ec(4,H,1,0,"app-loader",0),a.Ec(5,$,2,1,"div",0),a.Ec(6,J,4,1,"div",0),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=a.gc();a.zb(3),a.nc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions),a.zb(1),a.nc("ngIf",t.showLoader),a.zb(1),a.nc("ngIf",!t.showLoader&&t.optionSelected),a.zb(1),a.nc("ngIf",!t.showLoader&&!t.optionSelected)}}let q=(()=>{class t{constructor(t,e,i,o,s,r,n,a,c){this.settingService=t,this.dataService=e,this.coreService=i,this.coreActions=o,this.actions=s,this.route=r,this.formService=n,this.permission=a,this.router=c,this.FilterOptions={},this.showLoader=!1,this.formHeading="Forum Topic Reports",this.isAdmin=!0,this.optionSelected=!1,this.ChartType="ColumnChart",this.message="Please select report type to generate!",this.isAccessGranted=!1,this.isActionGranded=!1,this.tooltipChart={chartType:"ColumnChart",dataTable:[],options:{title:"Forum Topics Posted",legend:"none",width:1e3,height:500,is3D:!0}}}ngOnInit(){this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521396112858","1521396141248",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521396112858",t.Role)&&(this.isActionGranded=!0))}),this.filteroptions$.subscribe(t=>{this.FilterOptions=t}),this.ToolbarOptions=this.settingService.getToolbarOptions(!0),this.ToolbarOptions.showtoolbar=!0,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!1,this.ToolbarOptions.left_options=this.prepareLeftOptions(),this.ToolbarOptions.right_options=this.prepareRightOptions(),this.ToolbarOptions.right_options[0].title=this.ChartType}prepareLeftOptions(){return[{title:"Select Type",ismultiple:!0,Options:[{id:1,title:"Yearly",value:0,isclick:!0,clickevent:"reporty_type",tooltip:"Generate yearly report"},{id:2,title:"Monthly (Last 12 Months)",value:1,isclick:!0,clickevent:"reporty_type",tooltip:"Generate monthly report"},{id:3,title:"Daily (Current Month)",value:2,isclick:!0,clickevent:"reporty_type",tooltip:"Generate daily report"}]}]}prepareRightOptions(){return[{title:"Chart Type",ismultiple:!0,Options:[{id:1,title:"ColumnChart",value:"ColumnChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Column Chart"},{id:2,title:"BarChart",value:"BarChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Bar Chart"},{id:3,title:"LineChart",value:"LineChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Line Chart"},{id:3,title:"PieChart",value:"PieChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Pie Chart"}]}]}toolbaraction(t){if(this.isActionGranded){switch(t.action){case"chart_type":this.ChartType=t.value,this.showLoader=!0,this.ToolbarOptions.right_options[0].title=this.ChartType,this.FilterOptions.chartType=this.ChartType,this.showLoader=!1;break;case"reporty_type":this.FilterOptions.reporttype=t.value}this.LoadReports()}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}LoadReports(){this.showLoader=!0,this.dataService.LoadReports(this.FilterOptions).subscribe(t=>{this.tooltipChart.chartType=this.ChartType,t.data.dataTable.length>1?(this.tooltipChart.dataTable=t.data.dataTable,this.optionSelected=!0):(this.message="No Data Available!",this.optionSelected=!1),this.showLoader=!1})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(b.a),a.Mb(f.a),a.Mb(S.a),a.Mb(I.a),a.Mb(v.a),a.Mb(n.a),a.Mb(g.a),a.Mb(C.a),a.Mb(n.c))},t.\u0275cmp=a.Gb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&a.Kc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-12"],[3,"isAdmin","Options","Action"],[3,"data"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(a.Ec(0,K,3,0,"div",0),a.Ec(1,U,7,5,"div",0)),2&t&&(a.nc("ngIf",!e.isAccessGranted),a.zb(1),a.nc("ngIf",e.isAccessGranted))},directives:[s.n,A.a,R.a,B],encapsulation:2,data:{animation:[O.a]}}),Object(w.a)([Object(T.e)(["forumtopics","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(w.a)([Object(T.e)(["users","auth"])],t.prototype,"auth$",void 0),t})();i.d(e,"ForumTopicsModule",(function(){return W}));const X=[{path:"",data:{title:"Forums Topics Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:l},{path:"forum/:id",data:{title:"Forums Topics Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:l},{path:"tag/:tagname",data:{title:"Forums Topics Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:l},{path:"user/:uname",data:{title:"Forums Topics Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:l},{path:"filter/:abuse",data:{title:"Forums Topics Management (Reported)",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Reported Topics"}]},component:l},{path:"profile/:id",data:{title:"Forum Topic Information",urls:[{title:"Dashboard",url:"/"},{title:"Forum Topics",url:"/forumtopics"},{title:"Forum Topics Information"}]},component:N},{path:"reports",data:{title:"Reports Overview",urls:[{title:"Dashboard",url:"/"},{title:"Forum Topics",url:"/forumtopics"},{title:"Reports Overview"}]},component:q},{path:"process/:id",data:{title:"Process Post",urls:[{title:"Dashboard",url:"/"},{title:"Forum Topics",url:"/forumtopics"},{title:"Process Post"}]},component:m}];let W=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[s.c,r.i,h.a,y,p,o.c,u.a,V,n.f.forChild(X)]]}),t})()}}]);