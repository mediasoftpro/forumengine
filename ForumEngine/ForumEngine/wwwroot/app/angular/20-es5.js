function _defineProperties(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{rwzO:function(t,e,i){"use strict";i.r(e);var o,n,r,a,s,c=i("1kSV"),l=i("ofXK"),u=i("3Pt+"),d=i("tyNb"),p=i("fXoL"),h=i("JJ5z"),f=((o=function t(){_classCallCheck(this,t),this.isAdmin=!0}).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=p.Gb({type:o,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"isAdmin"]],template:function(t,e){1&t&&p.Nb(0,"app-mainforum-list",0),2&t&&p.nc("isAdmin",e.isAdmin)},directives:[h.a],encapsulation:2}),o),m=i("o+qO"),b=i("pJ0w"),v=((n=function t(){_classCallCheck(this,t)}).\u0275mod=p.Kb({type:n}),n.\u0275inj=p.Jb({factory:function(t){return new(t||n)},imports:[[l.c,m.a,d.f,u.i,b.a]]}),n),g=i("xp6A"),y=((r=function t(){_classCallCheck(this,t),this.isAdmin=!0}).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=p.Gb({type:r,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"isAdmin"]],template:function(t,e){1&t&&p.Nb(0,"app-forumtopic-process",0),2&t&&p.nc("isAdmin",e.isAdmin)},directives:[g.a],encapsulation:2}),r),w=i("dSJ/"),T=i("xnmw"),O=i("SeUu"),S=i("mTle"),C=((a=function t(){_classCallCheck(this,t)}).\u0275mod=p.Kb({type:a}),a.\u0275inj=p.Jb({factory:function(t){return new(t||a)},providers:[w.a,T.a,O.a,S.a],imports:[[l.c,m.a,d.f,u.i]]}),a),I=i("mrSG"),R=i("Usal"),A=i("pdjO"),L=i("nD3/"),k=i("LEd3"),M=i("Hjmt"),G=i("RDfn"),E=i("4HLj"),F=i("+kG/"),D=((s=function(){function t(e,i,o,n){_classCallCheck(this,t),this.activeModal=e,this.service=i,this.dataService=o,this.coreActions=n,this.showLoader=!1,this.list=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.title=this.Info.title,this.controls=this.service.getReplyControls(this.Info.data)}},{key:"SubmitForm",value:function(t){var e=this;if(void 0===this.Info.isActionGranded||this.Info.isActionGranded){t.replyid=this.Info.data.replyid,t.title=this.Info.data.title,t.userid=this.Info.data.userid,t.forumid=this.Info.data.forumid,t.id=this.Info.data.id;var i="Added";this.Info.data.id>0&&(t.id=this.Info.data.id,i="Updated"),this.showLoader=!0,console.log(t),this.dataService.AddRecord(t).subscribe((function(t){"error"===t.status?e.coreActions.Notify({title:t.message,text:"",css:"bg-error"}):(e.coreActions.Notify({title:"Record "+i+" Successfully",text:"",css:"bg-success"}),e.activeModal.close({data:t.record,isenabled:i})),e.showLoader=!1}),(function(t){e.showLoader=!1,e.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"close",value:function(){this.activeModal.dismiss("Cancel Clicked")}}]),t}()).\u0275fac=function(t){return new(t||s)(p.Mb(c.a),p.Mb(O.a),p.Mb(T.a),p.Mb(k.a))},s.\u0275cmp=p.Gb({type:s,selectors:[["viewmodal"]],inputs:{Info:"Info"},features:[p.yb([O.a,T.a])],decls:7,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"controls","showLoader","OnSubmit","OnClose"]],template:function(t,e){1&t&&(p.Sb(0,"div",0),p.Sb(1,"h4",1),p.Gc(2),p.Rb(),p.Sb(3,"button",2),p.ec("click",(function(){return e.activeModal.dismiss("Cross click")})),p.Sb(4,"span",3),p.Gc(5,"\xd7"),p.Rb(),p.Rb(),p.Rb(),p.Sb(6,"dynamic-modal-form",4),p.ec("OnSubmit",(function(t){return e.SubmitForm(t)}))("OnClose",(function(){return e.close()})),p.Rb()),2&t&&(p.zb(2),p.Hc(e.title),p.zb(4),p.nc("controls",e.controls)("showLoader",e.showLoader))},directives:[F.a],encapsulation:2}),s);function P(t,e){if(1&t&&(p.Sb(0,"div"),p.Sb(1,"h2"),p.Gc(2),p.Rb(),p.Nb(3,"hr"),p.Rb()),2&t){var i=p.gc().$implicit;p.zb(2),p.Hc(i.title)}}function _(t,e){if(1&t){var i=p.Tb();p.Sb(0,"div",3),p.Sb(1,"div",4),p.Sb(2,"div",5),p.Sb(3,"div",6),p.Ec(4,P,4,1,"div",7),p.Sb(5,"div",3),p.Sb(6,"div",4),p.Sb(7,"p"),p.Gc(8," Posted: "),p.Sb(9,"span",8),p.Nb(10,"i",9),p.Rb(),p.Gc(11),p.hc(12,"date"),p.Rb(),p.Nb(13,"hr"),p.Nb(14,"div",10),p.Rb(),p.Sb(15,"div",11),p.Sb(16,"a",12),p.ec("click",(function(t){p.xc(i);var o=e.$implicit;return p.gc().edit(o,t),!1})),p.Nb(17,"i",13),p.Rb(),p.Sb(18,"a",12),p.ec("click",(function(t){p.xc(i);var o=e.$implicit,n=e.index;return p.gc().delete(o,n,t),!1})),p.Nb(19,"i",14),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Rb()}if(2&t){var o=e.$implicit,n=e.index;p.zb(4),p.nc("ngIf",0===n),p.zb(7),p.Ic(" ",p.jc(12,3,o.created_at,"fullDate")," "),p.zb(3),p.nc("innerHTML",o.description,p.yc)}}var z,N=((z=function(){function t(e,i,o){_classCallCheck(this,t),this.modalService=e,this.settingService=i,this.dataService=o,this.Info={},this.Author_FullName="",this.Auth={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.Auth=e}))}},{key:"PostReply",value:function(){if(this.Info.length>0){var t=this.settingService.getInitObject();t.userid=this.Auth.User.id,t.forumid=this.Info[0].forumid,t.replyid=this.Info[0].id,t.title="Re - "+this.Info[0].title,this.TriggleModal(t)}}},{key:"edit",value:function(t,e){this.TriggleModal(t),e.stopPropagation()}},{key:"TriggleModal",value:function(t){var e=this,i="Post Reply";t.id>0&&(i="Update Post");var o=this.modalService.open(D,{backdrop:!1});o.componentInstance.Info={title:i,data:t,viewType:0},o.result.then((function(t){if("Added"===t.isenabled)e.Info.push(t.data);else{var i=!0,o=!1,n=void 0;try{for(var r,a=e.Info[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var s=r.value;s.id===t.data.id&&(s.description=t.data.description)}}catch(c){o=!0,n=c}finally{try{i||null==a.return||a.return()}finally{if(o)throw n}}}}),(function(t){console.log("dismissed")}))}},{key:"delete",value:function(t,e,i){!0===confirm("Are you sure you want to delete selected post?")&&(e>-1&&this.Info.splice(e,1),this.dataService.DeleteRecord(t,e)),i.stopPropagation()}}]),t}()).\u0275fac=function(t){return new(t||z)(p.Mb(c.b),p.Mb(w.a),p.Mb(T.a))},z.\u0275cmp=p.Gb({type:z,selectors:[["app-forumtopics-info"]],inputs:{Info:"Info",Author_FullName:"Author_FullName"},decls:5,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"m-b-10","m-t-10"],[1,"btn","btn-primary",3,"click"],[1,"row"],[1,"col-md-10"],[1,"card"],[1,"card-body"],[4,"ngIf"],[1,"text-muted"],[1,"fa","fa-clock-o"],[1,"card-text","m-b-5",3,"innerHTML"],[1,"col-md-2"],["href","#",1,"m-l-5",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10"],[1,"fa","fa-close","text-danger"]],template:function(t,e){1&t&&(p.Ec(0,_,20,6,"div",0),p.Nb(1,"hr"),p.Sb(2,"div",1),p.Sb(3,"button",2),p.ec("click",(function(){return e.PostReply()})),p.Gc(4,"Post Reply"),p.Rb(),p.Rb()),2&t&&p.nc("ngForOf",e.Info)},directives:[l.m,l.n],pipes:[l.e],encapsulation:2}),Object(I.a)([Object(R.e)(["users","auth"])],z.prototype,"auth$",void 0),z);function x(t,e){1&t&&(p.Sb(0,"div"),p.Sb(1,"h2",1),p.Gc(2,"Access Denied"),p.Rb(),p.Rb())}function B(t,e){1&t&&p.Nb(0,"app-loader")}function j(t,e){if(1&t){var i=p.Tb();p.Sb(0,"div"),p.Sb(1,"div",4),p.Sb(2,"app-toolbar-v2",5),p.ec("Action",(function(t){return p.xc(i),p.gc(2).toolbaraction(t)})),p.Rb(),p.Rb(),p.Sb(3,"div",6),p.Sb(4,"div",7),p.Nb(5,"app-forumtopics-info",8),p.Rb(),p.Rb(),p.Rb()}if(2&t){var o=p.gc(2);p.zb(2),p.nc("Options",o.ToolbarOptions)("isItemsSelected",o.isItemsSelected),p.zb(3),p.nc("Author_FullName",o.Author_FullName)("Info",o.Info)}}function V(t,e){if(1&t&&(p.Sb(0,"div"),p.Sb(1,"div",2),p.Sb(2,"div",3),p.Ec(3,B,1,0,"app-loader",0),p.Ec(4,j,6,4,"div",0),p.Rb(),p.Rb(),p.Rb()),2&t){var i=p.gc();p.zb(3),p.nc("ngIf",i.showLoader),p.zb(1),p.nc("ngIf",!i.showLoader)}}var K,H,$=((K=function(){function t(e,i,o,n,r,a,s,c,l){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=o,this.coreActions=n,this.actions=r,this.route=a,this.formService=s,this.permission=c,this.router=l,this.isItemsSelected=!0,this.RecordID=0,this.FilterOptions={},this.controls=[],this.showLoader=!1,this.formHeading="Blog Detail",this.submitText="Submit",this.Info={},this.uploadedFiles=[],this.SelectedItems=[],this.Author_FullName="",this.isAccessGranted=!1,this.isActionGranded=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521395897976","1521395939384",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521395897976",e.Role)&&(t.isActionGranded=!0))})),this.ToolbarOptions=this.settingService.getToolbarOptions(!0),this.ToolbarOptions.showtoolbar=!1,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!0,this.ToolbarOptions.ProfileView=!0,this.route.params.subscribe((function(e){t.RecordID=t.coreService.decrypt(e.id),isNaN(t.RecordID)&&(t.RecordID=0),t.RecordID>0&&t.LoadInfo()}))}},{key:"LoadInfo",value:function(){var t=this;this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe((function(e){if("error"===e.status)t.coreActions.Notify({title:e.message,text:"",css:"bg-success"}),t.router.navigate(["/forumtopics"]);else{t.Info=e.posts,t.SelectedItems=[];var i=!0,o=!1,n=void 0;try{for(var r,a=t.Info[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var s=r.value;t.SelectedItems.push(s)}}catch(c){o=!0,n=c}finally{try{i||null==a.return||a.return()}finally{if(o)throw n}}}t.showLoader=!1}))}},{key:"toolbaraction",value:function(t){switch(t.action){case"m_markas":this.ProcessActions(t.value);break;case"add":return void this.router.navigate(["/forumtopics/process/0"]);case"edit":return void this.router.navigate(["/forumtopics/process/"+this.Info.id])}}},{key:"ProcessActions",value:function(t){if(this.isActionGranded){if(this.SelectedItems.length>0){var e=!0,i=!1,o=void 0;try{for(var n,r=this.SelectedItems[Symbol.iterator]();!(e=(n=r.next()).done);e=!0)n.value.actionstatus=t.actionstatus}catch(a){i=!0,o=a}finally{try{e||null==r.return||r.return()}finally{if(i)throw o}}this.dataService.ProcessActions(this.SelectedItems,t),"delete"===t.actionstatus&&this.router.navigate(["/forumtopics/"])}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}()).\u0275fac=function(t){return new(t||K)(p.Mb(w.a),p.Mb(T.a),p.Mb(L.a),p.Mb(k.a),p.Mb(S.a),p.Mb(d.a),p.Mb(O.a),p.Mb(M.a),p.Mb(d.c))},K.\u0275cmp=p.Gb({type:K,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&p.Kc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-12"],[1,"m-b-10"],[3,"Options","isItemsSelected","Action"],[1,"card"],[1,"card-body"],[3,"Author_FullName","Info"]],template:function(t,e){1&t&&(p.Ec(0,x,3,0,"div",0),p.Ec(1,V,5,2,"div",0)),2&t&&(p.nc("ngIf",!e.isAccessGranted),p.zb(1),p.nc("ngIf",e.isAccessGranted))},directives:[l.n,G.a,E.a,N],encapsulation:2,data:{animation:[A.a]}}),Object(I.a)([Object(R.e)(["users","auth"])],K.prototype,"auth$",void 0),K),J=function(){function t(t,e,i){this.googleChartsVersion=e,this.mapsApiKey=i,this.googleScriptLoadingNotifier=new p.n,this.googleScriptIsLoading=!1,this.localeId=t,null===this.googleChartsVersion&&(this.googleChartsVersion="46")}return t.prototype.load=function(t){var e=this;return new Promise((function(i,o){void 0===i&&(i=Function.prototype),void 0===o&&(o=Function.prototype),e.loadGoogleChartsScript().then((function(){var o={language:e.localeId,callback:i,packages:t};e.mapsApiKey&&(o.mapsApiKey=e.mapsApiKey),google.charts.load(e.googleChartsVersion,o)})).catch((function(t){return o()}))}))},t.prototype.loadGoogleChartsScript=function(){var t=this;return new Promise((function(e,i){if(void 0===e&&(e=Function.prototype),void 0===i&&(i=Function.prototype),"undefined"!=typeof google&&google.charts)e();else if(t.googleScriptIsLoading)t.googleScriptLoadingNotifier.subscribe((function(t){t?e():i()}));else{t.googleScriptIsLoading=!0;var o=document.createElement("script");o.type="text/javascript",o.src="https://www.gstatic.com/charts/loader.js",o.async=!0,o.defer=!0,o.onload=function(){t.googleScriptIsLoading=!1,t.googleScriptLoadingNotifier.emit(!0),e()},o.onerror=function(){t.googleScriptIsLoading=!1,t.googleScriptLoadingNotifier.emit(!1),i()},document.getElementsByTagName("head")[0].appendChild(o)}}))},t.\u0275fac=function(e){return new(e||t)(p.ac(p.u),p.ac("googleChartsVersion",8),p.ac("mapsApiKey",8))},t.\u0275prov=p.Ib({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),U=function(){function t(t){this.tooltipDOMElement=t}return t.prototype.setPosition=function(e,i){this.tooltipDOMElement.nativeElement.style.left=e+t.PIXELS,this.tooltipDOMElement.nativeElement.style.top=i+t.PIXELS},t.prototype.getDOMElement=function(){return this.tooltipDOMElement},t.PIXELS="px",t}(),q=function(){function t(t,e){var i=this;this.mouseOverListener=function(t){var e=i.parseMouseEvent(t);return e.tooltip=i.getHTMLTooltip(),e},this.mouseOutListener=function(t){return i.parseMouseEvent(t)},this.selectListener=function(){var t={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},e=i.wrapper.visualization.getSelection(),o=e[e.length-1];if(!o)return t.message="deselect",t;var n=o;if(null!=o.row){t.row=n.row;for(var r=[],a=[],s=i.wrapper.getDataTable(),c=s.getNumberOfColumns(),l=0;l<c;l++)r.push(s.getValue(n.row,l)),a.push(s.getFormattedValue(n.row,l));t.selectedRowValues=r,t.selectedRowFormattedValues=a}return null!=n.column&&(t.column=n.column,t.columnLabel=i.getColumnLabelAtPosition(n)),o.name&&(t.columnLabel=o.name),t},this.el=t,this.loaderService=e,this.chartSelect=new p.n,this.chartSelectOneTime=new p.n,this.chartReady=new p.n,this.chartReadyOneTime=new p.n,this.chartError=new p.n,this.chartErrorOneTime=new p.n,this.mouseOver=new p.n,this.mouseOverOneTime=new p.n,this.mouseOut=new p.n,this.mouseOutOneTime=new p.n,this.regionClick=new p.n,this.regionClickOneTime=new p.n}return t.prototype.ngOnChanges=function(t){var e=this;if(t.data){if(!this.data)return;this.options=this.data.options,this.options||(this.options={}),this.data.component=this,this.loaderService.load().then((function(){void 0!==e.wrapper&&e.wrapper.getChartType()===e.data.chartType||(e.convertOptions(),e.data.firstRowIsData&&Array.isArray(e.data.dataTable)&&(e.data.dataTable=google.visualization.arrayToDataTable(e.data.dataTable,!0)),e.wrapper=new google.visualization.ChartWrapper(e.data),e.registerChartWrapperEvents()),e.draw()}))}},t.prototype.draw=function(){var t=this;if(this.data.dataTable)this.wrapper.setDataTable(this.data.dataTable),this._draw();else if(this.data.dataSourceUrl){var e=new google.visualization.Query(this.data.dataSourceUrl);this.data.refreshInterval&&e.setRefreshInterval(this.data.refreshInterval),this.data.query&&e.setQuery(this.data.query),e.send((function(e){if(!e.isError()){var i=e.getDataTable();t.wrapper.setDataTable(i),t.data.dataTable=i,t._draw()}}))}},t.prototype._draw=function(){this.convertOptions(),this.wrapper.setOptions(this.options),this.reformat(),this.wrapper.draw(this.el.nativeElement.querySelector("div"))},t.prototype.reformat=function(){if(this.data&&void 0!==this.data.formatters)for(var t=this.wrapper.getDataTable(),e=0,i=this.data.formatters;e<i.length;e++){var o=i[e],n=void 0;if("PatternFormat"!==o.type){var r=google.visualization[o.type],a=o.options;if(n=new r(a),"ColorFormat"===o.type&&a)for(var s=0,c=(p=a).ranges;s<c.length;s++){var l=c[s];void 0!==l.fromBgColor&&void 0!==l.toBgColor?n.addGradientRange(l.from,l.to,l.color,l.fromBgColor,l.toBgColor):n.addRange(l.from,l.to,l.color,l.bgcolor)}for(var u=0,d=o.columns;u<d.length;u++)n.format(t,d[u])}else{var p=o.options;(n=new google.visualization.PatternFormat(p.pattern)).format(t,o.columns,p.dstColumnIndex)}}},t.prototype.getSelectorBySeriesType=function(t){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[t]},t.prototype.getSeriesByColumn=function(t){for(var e=0,i=this.wrapper.getDataTable(),o=t-1;o>=0;o--){var n=i.getColumnRole(o),r=i.getColumnType(o);"data"!==n&&"number"!==r||e++}return e},t.prototype.getBoundingBoxForItem=function(t){var e={top:0,left:0,width:0,height:0};if(this.cli){var i=t.column,o=this.getSeriesByColumn(i),n=t.row,r=this.options.seriesType;if(this.options.series&&this.options.series[o]&&this.options.series[o].type&&(r=this.options.series[o].type),r){var a=this.getSelectorBySeriesType(r);if(a){a=a.replace("%s",o+"").replace("%c",i+"").replace("%r",n+"");var s=this.cli.getBoundingBox(a);s&&(e=s)}}}return e},t.prototype.getValueAtPosition=function(t){return null==t.row?null:this.wrapper.getDataTable().getValue(t.row,t.column)},t.prototype.getColumnTypeAtPosition=function(t){return this.wrapper.getDataTable().getColumnType(t.column)||""},t.prototype.getColumnLabelAtPosition=function(t){return this.wrapper.getDataTable().getColumnLabel(t.column)||""},t.prototype.getHTMLTooltip=function(){var t=new p.l(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new U(t)},t.prototype.parseMouseEvent=function(t){var e=this.wrapper.getChartType(),i=t.column;if(null==i)switch(e){case"Timeline":i=3===this.wrapper.getDataTable().getNumberOfColumns()?0:1;break;default:i=0}var o={row:t.row,column:i};return{position:t,boundingBox:this.getBoundingBoxForItem(o),value:this.getValueAtPosition(o),columnType:this.getColumnTypeAtPosition(o),columnLabel:this.getColumnLabelAtPosition(o)}},t.prototype.unregisterEvents=function(){google.visualization.events.removeAllListeners(this.wrapper.getChart()),google.visualization.events.removeAllListeners(this.wrapper)},t.prototype.registerChartEvents=function(){var t=this,e=this.wrapper.getChart();this.cli=e.getChartLayoutInterface?e.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(e,"onmouseover",(function(e){var i=t.parseMouseEvent(e);i.tooltip=t.getHTMLTooltip(),t.mouseOver.emit(i)})),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseover",(function(e){var i=t.parseMouseEvent(e);i.tooltip=t.getHTMLTooltip(),t.mouseOverOneTime.emit(i)})),this.mouseOut.observers.length>0&&google.visualization.events.addListener(e,"onmouseout",(function(e){var i=t.parseMouseEvent(e);t.mouseOut.emit(i)})),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseout",(function(e){var i=t.parseMouseEvent(e);t.mouseOutOneTime.emit(i)})),"GeoChart"===this.data.chartType&&(this.regionClick.observers.length>0&&google.visualization.events.addListener(e,"regionClick",(function(e){t.regionClick.emit(e)})),this.regionClickOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"regionClick",(function(e){t.regionClick.emit(e)})))},t.prototype.registerChartWrapperEvents=function(){var t=this;google.visualization.events.addListener(this.wrapper,"ready",(function(){t.chartReady.emit({message:"Chart ready"})})),google.visualization.events.addOneTimeListener(this.wrapper,"ready",(function(){t.chartReadyOneTime.emit({message:"Chart ready (one time)"}),t.registerChartEvents()})),google.visualization.events.addListener(this.wrapper,"error",(function(e){t.chartError.emit(e)})),google.visualization.events.addOneTimeListener(this.wrapper,"error",(function(e){t.chartErrorOneTime.emit(e)})),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)},t.prototype.addListener=function(t,e,i,o){google.visualization.events.addListener(t,e,(function(){o.emit(i())}))},t.prototype.addOneTimeListener=function(t,e,i,o){google.visualization.events.addOneTimeListener(t,e,(function(){o.emit(i())}))},t.prototype.convertOptions=function(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(t){return}},t.\u0275fac=function(e){return new(e||t)(p.Mb(p.l),p.Mb(J))},t.\u0275cmp=p.Gb({type:t,selectors:[["google-chart"]],inputs:{data:"data"},outputs:{chartSelect:"chartSelect",chartSelectOneTime:"chartSelectOneTime",chartReady:"chartReady",chartReadyOneTime:"chartReadyOneTime",chartError:"chartError",chartErrorOneTime:"chartErrorOneTime",mouseOver:"mouseOver",mouseOverOneTime:"mouseOverOneTime",mouseOut:"mouseOut",mouseOutOneTime:"mouseOutOneTime",regionClick:"regionClick",regionClickOneTime:"regionClickOneTime"},features:[p.xb],decls:1,vars:0,template:function(t,e){1&t&&p.Nb(0,"div")},encapsulation:2,changeDetection:0}),t}(),X=function(){function t(){}return t.\u0275mod=p.Kb({type:t}),t.\u0275inj=p.Jb({factory:function(e){return new(e||t)},providers:[J]}),t}(),W=((H=function t(){_classCallCheck(this,t)}).\u0275mod=p.Kb({type:H}),H.\u0275inj=p.Jb({factory:function(t){return new(t||H)},providers:[w.a,T.a,O.a,S.a],imports:[[l.c,m.a,d.f,u.i,X]]}),H);function Q(t,e){1&t&&(p.Sb(0,"div"),p.Sb(1,"h2",1),p.Gc(2,"Access Denied"),p.Rb(),p.Rb())}function Y(t,e){1&t&&p.Nb(0,"app-loader")}function Z(t,e){if(1&t&&(p.Sb(0,"div"),p.Nb(1,"google-chart",5),p.Rb()),2&t){var i=p.gc(2);p.zb(1),p.nc("data",i.tooltipChart)}}function tt(t,e){if(1&t&&(p.Sb(0,"div"),p.Sb(1,"div",6),p.Sb(2,"h3",7),p.Gc(3),p.Rb(),p.Rb(),p.Rb()),2&t){var i=p.gc(2);p.zb(3),p.Ic(" ",i.message," ")}}function et(t,e){if(1&t){var i=p.Tb();p.Sb(0,"div"),p.Sb(1,"div",2),p.Sb(2,"div",3),p.Sb(3,"app-toolbar-v2",4),p.ec("Action",(function(t){return p.xc(i),p.gc().toolbaraction(t)})),p.Rb(),p.Ec(4,Y,1,0,"app-loader",0),p.Ec(5,Z,2,1,"div",0),p.Ec(6,tt,4,1,"div",0),p.Rb(),p.Rb(),p.Rb()}if(2&t){var o=p.gc();p.zb(3),p.nc("isAdmin",o.isAdmin)("Options",o.ToolbarOptions),p.zb(1),p.nc("ngIf",o.showLoader),p.zb(1),p.nc("ngIf",!o.showLoader&&o.optionSelected),p.zb(1),p.nc("ngIf",!o.showLoader&&!o.optionSelected)}}var it,ot=((it=function(){function t(e,i,o,n,r,a,s,c,l){_classCallCheck(this,t),this.settingService=e,this.dataService=i,this.coreService=o,this.coreActions=n,this.actions=r,this.route=a,this.formService=s,this.permission=c,this.router=l,this.FilterOptions={},this.showLoader=!1,this.formHeading="Forum Topic Reports",this.isAdmin=!0,this.optionSelected=!1,this.ChartType="ColumnChart",this.message="Please select report type to generate!",this.isAccessGranted=!1,this.isActionGranded=!1,this.tooltipChart={chartType:"ColumnChart",dataTable:[],options:{title:"Forum Topics Posted",legend:"none",width:1e3,height:500,is3D:!0}}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(e){t.permission.GrandResourceAccess(!1,"1521396112858","1521396141248",e.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521396112858",e.Role)&&(t.isActionGranded=!0))})),this.filteroptions$.subscribe((function(e){t.FilterOptions=e})),this.ToolbarOptions=this.settingService.getToolbarOptions(!0),this.ToolbarOptions.showtoolbar=!0,this.ToolbarOptions.showcheckAll=!1,this.ToolbarOptions.showsecondarytoolbar=!1,this.ToolbarOptions.left_options=this.prepareLeftOptions(),this.ToolbarOptions.right_options=this.prepareRightOptions(),this.ToolbarOptions.right_options[0].title=this.ChartType}},{key:"prepareLeftOptions",value:function(){return[{title:"Select Type",ismultiple:!0,Options:[{id:1,title:"Yearly",value:0,isclick:!0,clickevent:"reporty_type",tooltip:"Generate yearly report"},{id:2,title:"Monthly (Last 12 Months)",value:1,isclick:!0,clickevent:"reporty_type",tooltip:"Generate monthly report"},{id:3,title:"Daily (Current Month)",value:2,isclick:!0,clickevent:"reporty_type",tooltip:"Generate daily report"}]}]}},{key:"prepareRightOptions",value:function(){return[{title:"Chart Type",ismultiple:!0,Options:[{id:1,title:"ColumnChart",value:"ColumnChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Column Chart"},{id:2,title:"BarChart",value:"BarChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Bar Chart"},{id:3,title:"LineChart",value:"LineChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Line Chart"},{id:3,title:"PieChart",value:"PieChart",isclick:!0,clickevent:"chart_type",tooltip:"Generate Pie Chart"}]}]}},{key:"toolbaraction",value:function(t){if(this.isActionGranded){switch(t.action){case"chart_type":this.ChartType=t.value,this.showLoader=!0,this.ToolbarOptions.right_options[0].title=this.ChartType,this.FilterOptions.chartType=this.ChartType,this.showLoader=!1;break;case"reporty_type":this.FilterOptions.reporttype=t.value}this.LoadReports()}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"LoadReports",value:function(){var t=this;this.showLoader=!0,this.dataService.LoadReports(this.FilterOptions).subscribe((function(e){t.tooltipChart.chartType=t.ChartType,e.data.dataTable.length>1?(t.tooltipChart.dataTable=e.data.dataTable,t.optionSelected=!0):(t.message="No Data Available!",t.optionSelected=!1),t.showLoader=!1}))}}]),t}()).\u0275fac=function(t){return new(t||it)(p.Mb(w.a),p.Mb(T.a),p.Mb(L.a),p.Mb(k.a),p.Mb(S.a),p.Mb(d.a),p.Mb(O.a),p.Mb(M.a),p.Mb(d.c))},it.\u0275cmp=p.Gb({type:it,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&p.Kc("@fadeInAnimation",void 0)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-12"],[3,"isAdmin","Options","Action"],[3,"data"],[2,"padding","80px 0px"],[2,"text-align","center"]],template:function(t,e){1&t&&(p.Ec(0,Q,3,0,"div",0),p.Ec(1,et,7,5,"div",0)),2&t&&(p.nc("ngIf",!e.isAccessGranted),p.zb(1),p.nc("ngIf",e.isAccessGranted))},directives:[l.n,E.a,G.a,q],encapsulation:2,data:{animation:[A.a]}}),Object(I.a)([Object(R.e)(["forumtopics","filteroptions"])],it.prototype,"filteroptions$",void 0),Object(I.a)([Object(R.e)(["users","auth"])],it.prototype,"auth$",void 0),it);i.d(e,"ForumTopicsModule",(function(){return at}));var nt,rt=[{path:"",data:{title:"Forums Topics Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:f},{path:"forum/:id",data:{title:"Forums Topics Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:f},{path:"tag/:tagname",data:{title:"Forums Topics Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:f},{path:"user/:uname",data:{title:"Forums Topics Management",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Management"}]},component:f},{path:"filter/:abuse",data:{title:"Forums Topics Management (Reported)",urls:[{title:"Dashboard",url:"/"},{title:"Forums",url:"/forums"},{title:"Reported Topics"}]},component:f},{path:"profile/:id",data:{title:"Forum Topic Information",urls:[{title:"Dashboard",url:"/"},{title:"Forum Topics",url:"/forumtopics"},{title:"Forum Topics Information"}]},component:$},{path:"reports",data:{title:"Reports Overview",urls:[{title:"Dashboard",url:"/"},{title:"Forum Topics",url:"/forumtopics"},{title:"Reports Overview"}]},component:ot},{path:"process/:id",data:{title:"Process Post",urls:[{title:"Dashboard",url:"/"},{title:"Forum Topics",url:"/forumtopics"},{title:"Process Post"}]},component:y}],at=((nt=function t(){_classCallCheck(this,t)}).\u0275mod=p.Kb({type:nt}),nt.\u0275inj=p.Jb({factory:function(t){return new(t||nt)},imports:[[l.c,u.i,m.a,C,v,c.c,b.a,W,d.f.forChild(rt)]]}),nt)}}]);