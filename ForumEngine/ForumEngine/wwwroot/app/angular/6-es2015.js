(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/H0e":function(t,i,e){"use strict";e.d(i,"a",(function(){return E}));var s=e("fXoL"),o=e("ofXK"),n=e("3Pt+"),c=e("Egam"),r=e("tyNb");function a(t,i){if(1&t){const t=s.Tb();s.Sb(0,"a",11),s.ec("click",(function(i){return s.xc(t),s.gc(3).toggleSearch(i),!1})),s.Gc(1),s.Rb()}if(2&t){const t=s.gc(3);s.zb(1),s.Hc(t.AdvanceText)}}function d(t,i){if(1&t){const t=s.Tb();s.Sb(0,"div",15),s.Sb(1,"label",16),s.Sb(2,"input",17),s.ec("ngModelChange",(function(e){return s.xc(t),i.$implicit.selected=e})),s.Rb(),s.Gc(3),s.Rb(),s.Rb()}if(2&t){const t=i.$implicit;s.zb(2),s.nc("ngModel",t.selected),s.zb(1),s.Ic(" ",t.title," ")}}function l(t,i){if(1&t&&(s.Sb(0,"div",13),s.Ec(1,d,4,2,"div",14),s.Nb(2,"hr"),s.Rb()),2&t){const t=s.gc(4);s.zb(1),s.nc("ngForOf",t.Options.filters)}}function b(t,i){if(1&t){const t=s.Tb();s.Sb(0,"div",15),s.Sb(1,"label",16),s.Sb(2,"input",20),s.ec("change",(function(i){s.xc(t);const e=s.gc().$implicit;return s.gc(5).choose(e,i)})),s.Rb(),s.Gc(3),s.Rb(),s.Rb()}if(2&t){const t=i.$implicit,e=s.gc().$implicit;s.zb(2),s.oc("value",t.value),s.oc("name",e.group),s.nc("checked",e.value==t.value),s.zb(1),s.Ic(" ",t.title," ")}}function h(t,i){if(1&t&&(s.Sb(0,"div",13),s.Sb(1,"div",13),s.Sb(2,"strong"),s.Gc(3),s.Rb(),s.Rb(),s.Ec(4,b,4,4,"div",19),s.Rb()),2&t){const t=i.$implicit;s.zb(3),s.Hc(t.caption),s.zb(1),s.nc("ngForOf",t.options)}}function u(t,i){if(1&t&&(s.Sb(0,"div",13),s.Ec(1,h,5,2,"div",18),s.Nb(2,"hr"),s.Rb()),2&t){const t=s.gc(4);s.zb(1),s.nc("ngForOf",t.Options.checkFilters)}}function p(t,i){if(1&t&&(s.Sb(0,"option",24),s.Gc(1),s.Rb()),2&t){const t=i.$implicit;s.nc("value",t.value),s.zb(1),s.Hc(t.title)}}function f(t,i){if(1&t){const t=s.Tb();s.Sb(0,"div"),s.Sb(1,"div",5),s.Sb(2,"label"),s.Gc(3),s.Rb(),s.Sb(4,"select",22),s.ec("ngModelChange",(function(e){return s.xc(t),i.$implicit.value=e})),s.Ec(5,p,2,2,"option",23),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=i.$implicit;s.zb(3),s.Hc(t.caption),s.zb(1),s.nc("ngModel",t.value),s.zb(1),s.nc("ngForOf",t.options)}}function g(t,i){if(1&t&&(s.Sb(0,"div"),s.Ec(1,f,6,3,"div",21),s.Rb()),2&t){const t=s.gc(4);s.zb(1),s.nc("ngForOf",t.Options.dropdownFilters)}}function m(t,i){if(1&t){const t=s.Tb();s.Sb(0,"div",5),s.Sb(1,"ng-multiselect-dropdown",25),s.ec("ngModelChange",(function(i){return s.xc(t),s.gc(4).Options.selectedcategory=i})),s.Rb(),s.Rb()}if(2&t){const t=s.gc(4);s.zb(1),s.nc("placeholder",t.Options.multiselectOptions.placeholder)("data",t.Options.categories)("ngModel",t.Options.selectedcategory)("settings",t.Options.multiselectOptions.dropdownSettings)}}function v(t,i){if(1&t&&(s.Sb(0,"div"),s.Ec(1,l,3,1,"div",1),s.Ec(2,u,3,1,"div",1),s.Ec(3,g,2,1,"div",3),s.Ec(4,m,2,4,"div",12),s.Rb()),2&t){const t=s.gc(3);s.zb(1),s.nc("ngIf",t.Options.filters.length>0),s.zb(1),s.nc("ngIf",t.Options.checkFilters.length>0),s.zb(1),s.nc("ngIf",t.Options.dropdownFilters.length>0),s.zb(1),s.nc("ngIf",t.Options.categories.length>0)}}function S(t,i){if(1&t){const t=s.Tb();s.Sb(0,"div"),s.Sb(1,"div",5),s.Sb(2,"input",6),s.ec("ngModelChange",(function(i){return s.xc(t),s.gc(2).Options.term=i})),s.Rb(),s.Ec(3,a,2,1,"a",7),s.Rb(),s.Ec(4,v,5,4,"div",3),s.Sb(5,"div",8),s.Sb(6,"button",9),s.ec("click",(function(){return s.xc(t),s.gc(2).FindRecords()})),s.Nb(7,"i",10),s.Gc(8),s.Rb(),s.Rb(),s.Nb(9,"hr"),s.Rb()}if(2&t){const t=s.gc(2);s.zb(2),s.nc("ngModel",t.Options.term),s.zb(1),s.nc("ngIf",t.Options.showAdvanceSearchLink),s.zb(1),s.nc("ngIf",t.showAdvanceOptions),s.zb(4),s.Ic(" ",t.SearchBtnText," ")}}function O(t,i){if(1&t){const t=s.Tb();s.Sb(0,"button",28),s.ec("click",(function(e){s.xc(t);const o=i.$implicit;return s.gc(3).toolbaraction(o.event,o.options,e),!1})),s.Gc(1),s.Rb()}if(2&t){const t=i.$implicit;s.Bb(t.css),s.zb(1),s.Ic(" ",t.title," ")}}function R(t,i){if(1&t&&(s.Sb(0,"div",26),s.Sb(1,"div",13),s.Gc(2,"Actions"),s.Rb(),s.Ec(3,O,2,4,"button",27),s.Rb()),2&t){const t=s.gc(2);s.zb(3),s.nc("ngForOf",t.Options.actions)}}function A(t,i){if(1&t&&s.Nb(0,"i"),2&t){const t=s.gc(2).$implicit;s.Bb(t.css)}}function F(t,i){if(1&t&&(s.Sb(0,"a",34),s.Ec(1,A,1,3,"i",35),s.Gc(2),s.Rb()),2&t){const t=s.gc().$implicit;s.oc("routerLink",t.url),s.oc("title",t.title),s.zb(1),s.nc("ngIf",""!=t.css),s.zb(1),s.Ic(" ",t.title," ")}}function I(t,i){if(1&t&&s.Nb(0,"i"),2&t){const t=s.gc(2).$implicit;s.Bb(t.css)}}function z(t,i){if(1&t){const t=s.Tb();s.Sb(0,"a",36),s.ec("click",(function(i){s.xc(t);const e=s.gc().$implicit;return s.gc(3).toolbaraction(e.event,e.options,i),!1})),s.Ec(1,I,1,3,"i",35),s.Gc(2),s.Rb()}if(2&t){const t=s.gc().$implicit;s.oc("title",t.title),s.zb(1),s.nc("ngIf",""!=t.css),s.zb(1),s.Ic(" ",t.title," ")}}function y(t,i){if(1&t&&(s.Sb(0,"li",31),s.Ec(1,F,3,4,"a",32),s.Ec(2,z,3,3,"a",33),s.Rb()),2&t){const t=i.$implicit;s.zb(1),s.nc("ngIf",!t.clickevent),s.zb(1),s.nc("ngIf",t.clickevent)}}function w(t,i){if(1&t&&(s.Sb(0,"div",26),s.Sb(1,"div",13),s.Gc(2,"Navigation"),s.Rb(),s.Sb(3,"ul",29),s.Ec(4,y,3,2,"li",30),s.Rb(),s.Rb()),2&t){const t=s.gc(2);s.zb(4),s.nc("ngForOf",t.Options.navList)}}function k(t,i){if(1&t&&(s.Sb(0,"div",2),s.Ec(1,S,10,4,"div",3),s.Ec(2,R,4,1,"div",4),s.Ec(3,w,5,1,"div",4),s.Rb()),2&t){const t=s.gc();s.zb(1),s.nc("ngIf",t.Options.showSearchPanel),s.zb(1),s.nc("ngIf",t.Options.actions.length>0),s.zb(1),s.nc("ngIf",t.Options.navList.length>0)}}function x(t,i){if(1&t){const t=s.Tb();s.Sb(0,"div",43),s.Sb(1,"input",44),s.ec("ngModelChange",(function(i){return s.xc(t),s.gc(2).Options.term=i})),s.Rb(),s.Sb(2,"div",45),s.Sb(3,"button",46),s.ec("click",(function(){return s.xc(t),s.gc(2).FindRecords()})),s.Gc(4,"Go"),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.gc(2);s.zb(1),s.nc("ngModel",t.Options.term)}}function G(t,i){if(1&t&&(s.Sb(0,"option",24),s.Gc(1),s.Rb()),2&t){const t=i.$implicit;s.nc("value",t.value),s.zb(1),s.Hc(t.title)}}function M(t,i){if(1&t){const t=s.Tb();s.Sb(0,"div",41),s.Sb(1,"select",47),s.ec("change",(function(){return s.xc(t),s.gc(2).FindRecords()}))("ngModelChange",(function(e){return s.xc(t),i.$implicit.value=e})),s.Ec(2,G,2,2,"option",23),s.Rb(),s.Rb()}if(2&t){const t=i.$implicit;s.zb(1),s.nc("ngModel",t.value),s.zb(1),s.nc("ngForOf",t.options)}}function $(t,i){if(1&t){const t=s.Tb();s.Sb(0,"button",48),s.ec("click",(function(e){s.xc(t);const o=i.$implicit;return s.gc(2).toolbaraction(o.event,o.options,e),!1})),s.Gc(1),s.Rb()}if(2&t){const t=i.$implicit;s.oc("title",t.tooltip),s.zb(1),s.Ic(" ",t.title," ")}}function L(t,i){if(1&t&&(s.Sb(0,"div",13),s.Sb(1,"div",37),s.Sb(2,"div",38),s.Ec(3,x,5,1,"div",39),s.Rb(),s.Ec(4,M,3,2,"div",40),s.Sb(5,"div",41),s.Ec(6,$,2,2,"button",42),s.Rb(),s.Rb(),s.Rb()),2&t){const t=s.gc();s.zb(3),s.nc("ngIf",t.Options.showSearchPanel),s.zb(1),s.nc("ngForOf",t.Options.dropdownFilters),s.zb(2),s.nc("ngForOf",t.Options.actions)}}let E=(()=>{class t{constructor(){this.ItemsSelected=!1,this.isAdmin=!0,this.SearchBtnText="Find Records",this.OnSelection=new s.n,this.Action=new s.n,this.SearchSelection=new s.n,this.AdvanceText="Advance Search",this.showAdvanceOptions=!1}ngOnInit(){}onSelect(t){this.Options.selectedcategory=t.id}toggleSearch(t){this.showAdvanceOptions?(this.showAdvanceOptions=!1,this.AdvanceText="Advance Search"):(this.showAdvanceOptions=!0,this.AdvanceText="Hide Search"),t.stopPropagation()}FindRecords(){if(void 0!==this.FilterOptions){if(this.FilterOptions.term=this.Options.term,this.Options.filters.length>0)for(const i of this.Options.filters)for(var t in this.FilterOptions)t===i.attr&&(this.FilterOptions[t]=i.selected?i.value:i.default_value);if(this.Options.checkFilters.length>0)for(const i of this.Options.checkFilters)for(var t in this.FilterOptions)t===i.attr&&(this.FilterOptions[t]=i.value);if(this.Options.dropdownFilters.length>0)for(const i of this.Options.dropdownFilters)for(var t in this.FilterOptions)t===i.attr&&(this.FilterOptions[t]=i.value);if(void 0!==this.Options.selectedcategory&&this.Options.selectedcategory.length>0){for(let t of this.Options.selectedcategory)this.FilterOptions.category_ids.push(t.key);this.FilterOptions.category_ids=this.Options.selectedcategory}void 0!==this.Options.datefilter&&(this.FilterOptions.datefilter=this.Options.datefilter),this.SearchSelection.emit({filters:this.FilterOptions})}}toolbaraction(t,i,e){this.Action.emit({action:t,value:i}),e.stopPropagation()}choose(t,i){t.value=i.target.value}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-navigation-v2"]],inputs:{Options:"Options",ItemsSelected:"ItemsSelected",FilterOptions:"FilterOptions",isAdmin:"isAdmin",SearchBtnText:"SearchBtnText",AdvanceText:"AdvanceText"},outputs:{OnSelection:"OnSelection",Action:"Action",SearchSelection:"SearchSelection"},decls:2,vars:2,consts:[["class","card-body border-secondary",4,"ngIf"],["class","m-b-10",4,"ngIf"],[1,"card-body","border-secondary"],[4,"ngIf"],["class","m-t-10",4,"ngIf"],[1,"form-group"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],["href","#",3,"click",4,"ngIf"],[1,"form-group","m-t-10"],[1,"btn","btn-danger","m-b-5","p-10","btn-block",3,"click"],[1,"icon-search4","text-size-base","position-left"],["href","#",3,"click"],["class","form-group",4,"ngIf"],[1,"m-b-10"],["class","form-check  p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],[1,"form-check","p-l-0","p-r-0","m-b-5"],[1,"form-check-label"],["type","checkbox",3,"ngModel","ngModelChange"],["class","m-b-10",4,"ngFor","ngForOf"],["class","form-check p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],["type","radio",3,"value","name","checked","change"],[4,"ngFor","ngForOf"],[1,"form-control","form-control-line",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"placeholder","data","ngModel","settings","ngModelChange"],[1,"m-t-10"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"list-group","list-group-full"],["class","list-group-item","routerLinkActive","active",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"list-group-item"],[3,"routerLink","title",4,"ngIf"],["href","#",3,"title","click",4,"ngIf"],[3,"routerLink","title"],[3,"class",4,"ngIf"],["href","#",3,"title","click"],[1,"row"],[1,"col"],["class","input-group mb-3",4,"ngIf"],["class","col-md-auto",4,"ngFor","ngForOf"],[1,"col-md-auto"],["class","btn btn-primary m-l-5",3,"title","click",4,"ngFor","ngForOf"],[1,"input-group","mb-3"],["type","text","placeholder","Search ...","aria-label","Search ...","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"form-control",3,"ngModel","change","ngModelChange"],[1,"btn","btn-primary","m-l-5",3,"title","click"]],template:function(t,i){1&t&&(s.Ec(0,k,4,3,"div",0),s.Ec(1,L,7,3,"div",1)),2&t&&(s.nc("ngIf",i.isAdmin),s.zb(1),s.nc("ngIf",!i.isAdmin))},directives:[o.n,n.c,n.n,n.q,o.m,n.a,n.v,n.s,n.x,c.a,r.d,r.e],encapsulation:2}),t})()},JJ5z:function(t,i,e){"use strict";e.d(i,"a",(function(){return A}));var s=e("mrSG"),o=e("Usal"),n=e("pdjO"),c=e("fXoL"),r=e("dSJ/"),a=e("xnmw"),d=e("LEd3"),l=e("Hjmt"),b=e("mTle"),h=e("tyNb"),u=e("nD3/"),p=e("ofXK"),f=e("/H0e"),g=e("4HLj"),m=e("P+Pe");function v(t,i){1&t&&(c.Sb(0,"div"),c.Sb(1,"h2",5),c.Gc(2,"Access Denied"),c.Rb(),c.Rb())}function S(t,i){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Sb(1,"div",2),c.Sb(2,"div",6),c.Sb(3,"app-navigation-v2",7),c.ec("Action",(function(i){return c.xc(t),c.gc(2).toolbaraction(i)}))("SearchSelection",(function(i){return c.xc(t),c.gc(2).FindRecords(i)})),c.Rb(),c.Rb(),c.Sb(4,"div",8),c.Sb(5,"app-toolbar-v2",9),c.ec("Action",(function(i){return c.xc(t),c.gc(2).toolbaraction(i)}))("SelectAllCard",(function(i){return c.xc(t),c.gc(2).selectAll(i)})),c.Rb(),c.Sb(6,"div",10),c.Sb(7,"app-forum-list",11),c.ec("View",(function(i){return c.xc(t),c.gc(2).toolbaraction(i)}))("SelectedItems",(function(i){return c.xc(t),c.gc(2).getSelectedItems(i)})),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=c.gc(2);c.zb(3),c.nc("isAdmin",t.isAdmin)("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),c.zb(2),c.nc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),c.zb(2),c.nc("route_path",t.route_path)("isAdmin",t.isAdmin)("isActionGranded",t.isActionGranded)}}function O(t,i){if(1&t&&(c.Sb(0,"div",2),c.Sb(1,"div",3),c.Sb(2,"div",4),c.Ec(3,v,3,0,"div",1),c.Ec(4,S,8,9,"div",1),c.Rb(),c.Rb(),c.Rb()),2&t){const t=c.gc();c.zb(3),c.nc("ngIf",!t.isAccessGranted),c.zb(1),c.nc("ngIf",t.isAccessGranted)}}function R(t,i){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Sb(1,"app-navigation-v2",7),c.ec("Action",(function(i){return c.xc(t),c.gc().toolbaraction(i)}))("SearchSelection",(function(i){return c.xc(t),c.gc().FindRecords(i)})),c.Rb(),c.Sb(2,"div",4),c.Sb(3,"div",10),c.Sb(4,"div",12),c.Sb(5,"app-toolbar-v2",9),c.ec("Action",(function(i){return c.xc(t),c.gc().toolbaraction(i)}))("SelectAllCard",(function(i){return c.xc(t),c.gc().selectAll(i)})),c.Rb(),c.Rb(),c.Sb(6,"app-forum-list",13),c.ec("View",(function(i){return c.xc(t),c.gc().toolbaraction(i)}))("SelectedItems",(function(i){return c.xc(t),c.gc().getSelectedItems(i)})),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=c.gc();c.zb(1),c.nc("isAdmin",t.isAdmin)("FilterOptions",t.FilterOptions)("Options",t.SearchOptions),c.zb(4),c.nc("isAdmin",t.isAdmin)("Options",t.ToolbarOptions)("isItemsSelected",t.isItemsSelected),c.zb(1),c.nc("route_path",t.route_path)("isAdmin",t.isAdmin)}}let A=(()=>{class t{constructor(t,i,e,s,o,n,c,r){this.settingService=t,this.dataService=i,this.coreActions=e,this.permission=s,this.actions=o,this.router=n,this.route=c,this.coreService=r,this.isAdmin=!0,this.route_path="/forumtopics/",this.PublicView=!1,this.type=0,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Forums Topic",this.subheading="Management",this.isItemsSelected=!1,this.IsLoaded=!1,this.Records=0,this.Pagination={},this.showReportLink=!1}ngOnInit(){this.isAdmin?this.auth$.subscribe(t=>{this.permission.GrandResourceAccess(!1,"1521395897976","1521395939384",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction("1521395897976",t.Role)&&(this.isActionGranded=!0))}):(this.isAccessGranted=!0,this.isActionGranded=!0),this.SearchOptions=this.settingService.getSearchOptions(this.isAdmin),this.ToolbarOptions=this.settingService.getToolbarOptions(this.isAdmin),this.filteroptions$.subscribe(t=>{this.FilterOptions=t,t.track_filter&&(this.loadRecords(this.FilterOptions),t.track_filter=!1,this.actions.updateFilterOptions(t))}),this.records$.subscribe(t=>{this.Records=t}),this.pagination$.subscribe(t=>{this.Pagination=t}),this.isforumsloaded$.subscribe(t=>{t||this.dataService.loadForumsRecords()}),this.isItemSelected$.subscribe(t=>{this.isItemsSelected=t}),this.forums$.subscribe(t=>{this.SearchOptions.multiselectOptions.placeholder="Select Forum";for(const i of t)this.SearchOptions.categories.push({key:i.id,value:i.title})}),this.route.params.subscribe(t=>{void 0!==t.tagname&&(console.log("tag filter initiated"),this.FilterOptions.tags=t.tagname,this.FilterOptions.track_filter=!0,this.actions.updateFilterOptions(this.FilterOptions)),void 0!==t.uname&&(console.log("user filter initiated"),console.log(t.uname),this.FilterOptions.username=t.uname,this.FilterOptions.track_filter=!0,this.actions.updateFilterOptions(this.FilterOptions)),void 0!==t.id&&(this.FilterOptions.id=t.id,this.FilterOptions.track_filter=!0,this.actions.updateFilterOptions(this.FilterOptions)),void 0!==t.abuse&&("abuse"===t.abuse?(this.FilterOptions.loadabusereports=!0,this.showReportLink=!0):"normallist"===t.abuse&&(this.FilterOptions.loadabusereports=!1,this.showReportLink=!1),this.FilterOptions.track_filter=!0,this.actions.updateFilterOptions(this.FilterOptions))}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded?this.refreshStats():this.loadRecords(this.FilterOptions)})}loadRecords(t){this.coreService.renderAbuseReportBtn(this.SearchOptions.actions,t.loadabusereports),this.PublicView&&(t.ispublic=!0),this.dataService.LoadRecords(t)}selectAll(t){this.actions.selectAll(t)}toolbaraction(t){switch(t.action){case"view":return void this.router.navigate([this.route_path+"profile/0"]);case"add":return void this.router.navigate([this.route_path+"process/0"]);case"abuse":return void this.router.navigate([this.route_path+"filter/abuse"]);case"normallist":return void this.router.navigate([this.route_path+"filter/normallist"]);case"reports":return void this.router.navigate([this.route_path+"reports"]);case"m_markas":return void this.ProcessActions(t.value);case"f_type":this.actions.applyFilter({attr:"type",value:t.value});break;case"f_isapproved":this.actions.applyFilter({attr:"isapproved",value:t.value});break;case"f_status":this.actions.applyFilter({attr:"isenabled",value:t.value});break;case"f_adult":this.actions.applyFilter({attr:"isadult",value:t.value});break;case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value});break;case"m_filter":this.actions.applyFilter({attr:"datefilter",value:t.value});break;case"sort":this.actions.applyFilter({attr:"direction",value:t.value})}}FindRecords(t){const i=t.filters;i.tags="",i.userid="",i.pagenumber=1,i.track_filter=!0,this.actions.updateFilterOptions(i)}getSelectedItems(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}ProcessActions(t){if(this.isActionGranded){if(this.SelectedItems.length>0){for(const i of this.SelectedItems)i.actionstatus=t.actionstatus;this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}refreshStats(){this.actions.refresh_pagination({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}return t.\u0275fac=function(i){return new(i||t)(c.Mb(r.a),c.Mb(a.a),c.Mb(d.a),c.Mb(l.a),c.Mb(b.a),c.Mb(h.c),c.Mb(h.a),c.Mb(u.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-mainforum-list"]],hostVars:1,hostBindings:function(t,i){2&t&&c.Kc("@fadeInAnimation",void 0)},inputs:{isAdmin:"isAdmin",route_path:"route_path",PublicView:"PublicView",type:"type"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"isAdmin","FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"isAdmin","Options","isItemsSelected","Action","SelectAllCard"],[1,"card-body"],[3,"route_path","isAdmin","isActionGranded","View","SelectedItems"],[1,"m-b-20"],[3,"route_path","isAdmin","View","SelectedItems"]],template:function(t,i){1&t&&(c.Ec(0,O,5,2,"div",0),c.Ec(1,R,7,8,"div",1)),2&t&&(c.nc("ngIf",i.isAdmin),c.zb(1),c.nc("ngIf",!i.isAdmin))},directives:[p.n,f.a,g.a,m.a],encapsulation:2,data:{animation:[n.a]}}),Object(s.a)([Object(o.e)(["forumtopics","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(s.a)([Object(o.e)(["forumtopics","forums"])],t.prototype,"forums$",void 0),Object(s.a)([Object(o.e)(["forumtopics","itemsselected"])],t.prototype,"isItemSelected$",void 0),Object(s.a)([Object(o.e)(["forumtopics","isloaded"])],t.prototype,"isloaded$",void 0),Object(s.a)([Object(o.e)(["forumtopics","isforumsloaded"])],t.prototype,"isforumsloaded$",void 0),Object(s.a)([Object(o.e)(["forumtopics","records"])],t.prototype,"records$",void 0),Object(s.a)([Object(o.e)(["forumtopics","pagination"])],t.prototype,"pagination$",void 0),Object(s.a)([Object(o.e)(["users","auth"])],t.prototype,"auth$",void 0),t})()},pdjO:function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));var s=e("R0Ic");const o=Object(s.k)("fadeInAnimation",[Object(s.j)(":enter",[Object(s.i)({opacity:0,background:"#ff0000"}),Object(s.e)(".8s",Object(s.i)({opacity:1}))])])},xp6A:function(t,i,e){"use strict";e.d(i,"a",(function(){return A}));var s=e("mrSG"),o=e("Usal"),n=e("pdjO"),c=e("fXoL"),r=e("dSJ/"),a=e("xnmw"),d=e("LEd3"),l=e("nD3/"),b=e("mTle"),h=e("tyNb"),u=e("SeUu"),p=e("Hjmt"),f=e("ofXK"),g=e("RDfn"),m=e("+kG/");function v(t,i){1&t&&(c.Sb(0,"div"),c.Sb(1,"h2",1),c.Gc(2,"Access Denied"),c.Rb(),c.Rb())}function S(t,i){1&t&&c.Nb(0,"app-loader")}function O(t,i){if(1&t){const t=c.Tb();c.Sb(0,"dynamic-modal-form",9),c.ec("OnSubmit",(function(i){return c.xc(t),c.gc(2).SubmitForm(i)})),c.Rb()}if(2&t){const t=c.gc(2);c.nc("controls",t.controls)("showLoader",t.showLoader)("showCancel",!1)("showModal",!1)("submitText",t.submitText)}}function R(t,i){if(1&t&&(c.Sb(0,"div"),c.Sb(1,"div",2),c.Sb(2,"div",3),c.Sb(3,"div",4),c.Sb(4,"div",5),c.Sb(5,"h4",6),c.Gc(6),c.Rb(),c.Rb(),c.Sb(7,"div",7),c.Ec(8,S,1,0,"app-loader",0),c.Ec(9,O,1,5,"dynamic-modal-form",8),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t){const t=c.gc();c.zb(6),c.Hc(t.formHeading),c.zb(2),c.nc("ngIf",t.showLoader),c.zb(1),c.nc("ngIf",!t.showLoader)}}let A=(()=>{class t{constructor(t,i,e,s,o,n,c,r,a){this.settingService=t,this.dataService=i,this.coreActions=e,this.coreService=s,this.actions=o,this.route=n,this.formService=c,this.permission=r,this.router=a,this.isAdmin=!0,this.route_path="/forumtopics/",this.isAccessGranted=!1,this.isActionGranded=!1,this.RecordID=0,this.controls=[],this.showLoader=!1,this.formHeading="Add Topic",this.submitText="Submit",this.IsLoaded=!1,this.Forums=[],this.Auth={}}ngOnInit(){this.auth$.subscribe(t=>{if(this.Auth=t,this.isAdmin){const i="1521395897976";this.permission.GrandResourceAccess(!1,i,"1521395939384",t.Role)&&(this.isAccessGranted=!0,this.permission.GrandResourceAction(i,t.Role)&&(this.isActionGranded=!0))}else this.isAccessGranted=!0,this.isActionGranded=!0}),this.route.params.subscribe(t=>{this.RecordID=this.coreService.decrypt(t.id),isNaN(this.RecordID)&&(this.RecordID=0),this.RecordID>0?(this.formHeading="Update Information",this.submitText="Save Changes",this.Initialize()):this.initializeControls(this.settingService.getInitObject())}),this.forums$.subscribe(t=>{this.Forums=t,this.updateForums()}),this.isloaded$.subscribe(t=>{this.IsLoaded=t,this.IsLoaded||this.Redirect()})}Initialize(){this.RecordID>0?this.isAdmin?this.LoadInfo():this.dataService.Authorize_Author({id:this.RecordID,userid:this.Auth.User.id}).subscribe(t=>{t.isaccess?this.LoadInfo():this.Redirect()},t=>{this.Redirect()}):this.Redirect()}Redirect(){this.router.navigate([this.route_path])}LoadInfo(){this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe(t=>{"success"===t.status?this.initializeControls(t.post):(this.coreActions.Notify({title:t.message,text:"",css:"bg-error"}),this.initializeControls(this.settingService.getInitObject())),this.showLoader=!1})}updateForums(){if(void 0!==this.controls&&this.controls.length>0)for(const t of this.controls)if("forumid"===t.key)for(const i of this.Forums)t.options.push({key:i.id,value:i.title})}initializeControls(t){this.controls=this.formService.getControls(t),this.updateForums()}SubmitForm(t){if(!this.isActionGranded)return void this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"});this.showLoader=!0;let i="Added";this.RecordID>0&&(t.id=this.RecordID,i="Updated"),t.userid=this.Auth.User.id,t.isadmin=this.isAdmin,this.dataService.AddRecord(t).subscribe(t=>{"error"===t.status?this.coreActions.Notify({title:t.message,text:"",css:"bg-error"}):(this.coreActions.Notify({title:"Record "+i+" Successfully",text:"",css:"bg-success"}),this.actions.reloadList(),this.router.navigate(this.isAdmin?[this.route_path]:[this.route_path+"profile/"+this.coreService.encrypt(t.record.id)])),this.showLoader=!1},t=>{this.showLoader=!1,this.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})})}}return t.\u0275fac=function(i){return new(i||t)(c.Mb(r.a),c.Mb(a.a),c.Mb(d.a),c.Mb(l.a),c.Mb(b.a),c.Mb(h.a),c.Mb(u.a),c.Mb(p.a),c.Mb(h.c))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-forumtopic-process"]],inputs:{isAdmin:"isAdmin",route_path:"route_path"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,i){1&t&&(c.Ec(0,v,3,0,"div",0),c.Ec(1,R,10,3,"div",0)),2&t&&(c.nc("ngIf",!i.isAccessGranted),c.zb(1),c.nc("ngIf",i.isAccessGranted))},directives:[f.n,g.a,m.a],encapsulation:2,data:{animation:[n.a]}}),Object(s.a)([Object(o.e)(["forumtopics","forums"])],t.prototype,"forums$",void 0),Object(s.a)([Object(o.e)(["forumtopics","isloaded"])],t.prototype,"isloaded$",void 0),Object(s.a)([Object(o.e)(["users","auth"])],t.prototype,"auth$",void 0),t})()}}]);