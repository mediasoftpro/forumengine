function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/H0e":function(t,i,e){"use strict";e.d(i,"a",(function(){return L}));var n=e("fXoL"),o=e("ofXK"),c=e("3Pt+"),r=e("Egam"),s=e("tyNb");function a(t,i){if(1&t){var e=n.Tb();n.Sb(0,"a",11),n.ec("click",(function(t){return n.xc(e),n.gc(3).toggleSearch(t),!1})),n.Gc(1),n.Rb()}if(2&t){var o=n.gc(3);n.zb(1),n.Hc(o.AdvanceText)}}function l(t,i){if(1&t){var e=n.Tb();n.Sb(0,"div",15),n.Sb(1,"label",16),n.Sb(2,"input",17),n.ec("ngModelChange",(function(t){return n.xc(e),i.$implicit.selected=t})),n.Rb(),n.Gc(3),n.Rb(),n.Rb()}if(2&t){var o=i.$implicit;n.zb(2),n.nc("ngModel",o.selected),n.zb(1),n.Ic(" ",o.title," ")}}function d(t,i){if(1&t&&(n.Sb(0,"div",13),n.Ec(1,l,4,2,"div",14),n.Nb(2,"hr"),n.Rb()),2&t){var e=n.gc(4);n.zb(1),n.nc("ngForOf",e.Options.filters)}}function u(t,i){if(1&t){var e=n.Tb();n.Sb(0,"div",15),n.Sb(1,"label",16),n.Sb(2,"input",20),n.ec("change",(function(t){n.xc(e);var i=n.gc().$implicit;return n.gc(5).choose(i,t)})),n.Rb(),n.Gc(3),n.Rb(),n.Rb()}if(2&t){var o=i.$implicit,c=n.gc().$implicit;n.zb(2),n.oc("value",o.value),n.oc("name",c.group),n.nc("checked",c.value==o.value),n.zb(1),n.Ic(" ",o.title," ")}}function b(t,i){if(1&t&&(n.Sb(0,"div",13),n.Sb(1,"div",13),n.Sb(2,"strong"),n.Gc(3),n.Rb(),n.Rb(),n.Ec(4,u,4,4,"div",19),n.Rb()),2&t){var e=i.$implicit;n.zb(3),n.Hc(e.caption),n.zb(1),n.nc("ngForOf",e.options)}}function f(t,i){if(1&t&&(n.Sb(0,"div",13),n.Ec(1,b,5,2,"div",18),n.Nb(2,"hr"),n.Rb()),2&t){var e=n.gc(4);n.zb(1),n.nc("ngForOf",e.Options.checkFilters)}}function p(t,i){if(1&t&&(n.Sb(0,"option",24),n.Gc(1),n.Rb()),2&t){var e=i.$implicit;n.nc("value",e.value),n.zb(1),n.Hc(e.title)}}function h(t,i){if(1&t){var e=n.Tb();n.Sb(0,"div"),n.Sb(1,"div",5),n.Sb(2,"label"),n.Gc(3),n.Rb(),n.Sb(4,"select",22),n.ec("ngModelChange",(function(t){return n.xc(e),i.$implicit.value=t})),n.Ec(5,p,2,2,"option",23),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=i.$implicit;n.zb(3),n.Hc(o.caption),n.zb(1),n.nc("ngModel",o.value),n.zb(1),n.nc("ngForOf",o.options)}}function v(t,i){if(1&t&&(n.Sb(0,"div"),n.Ec(1,h,6,3,"div",21),n.Rb()),2&t){var e=n.gc(4);n.zb(1),n.nc("ngForOf",e.Options.dropdownFilters)}}function g(t,i){if(1&t){var e=n.Tb();n.Sb(0,"div",5),n.Sb(1,"ng-multiselect-dropdown",25),n.ec("ngModelChange",(function(t){return n.xc(e),n.gc(4).Options.selectedcategory=t})),n.Rb(),n.Rb()}if(2&t){var o=n.gc(4);n.zb(1),n.nc("placeholder",o.Options.multiselectOptions.placeholder)("data",o.Options.categories)("ngModel",o.Options.selectedcategory)("settings",o.Options.multiselectOptions.dropdownSettings)}}function m(t,i){if(1&t&&(n.Sb(0,"div"),n.Ec(1,d,3,1,"div",1),n.Ec(2,f,3,1,"div",1),n.Ec(3,v,2,1,"div",3),n.Ec(4,g,2,4,"div",12),n.Rb()),2&t){var e=n.gc(3);n.zb(1),n.nc("ngIf",e.Options.filters.length>0),n.zb(1),n.nc("ngIf",e.Options.checkFilters.length>0),n.zb(1),n.nc("ngIf",e.Options.dropdownFilters.length>0),n.zb(1),n.nc("ngIf",e.Options.categories.length>0)}}function S(t,i){if(1&t){var e=n.Tb();n.Sb(0,"div"),n.Sb(1,"div",5),n.Sb(2,"input",6),n.ec("ngModelChange",(function(t){return n.xc(e),n.gc(2).Options.term=t})),n.Rb(),n.Ec(3,a,2,1,"a",7),n.Rb(),n.Ec(4,m,5,4,"div",3),n.Sb(5,"div",8),n.Sb(6,"button",9),n.ec("click",(function(){return n.xc(e),n.gc(2).FindRecords()})),n.Nb(7,"i",10),n.Gc(8),n.Rb(),n.Rb(),n.Nb(9,"hr"),n.Rb()}if(2&t){var o=n.gc(2);n.zb(2),n.nc("ngModel",o.Options.term),n.zb(1),n.nc("ngIf",o.Options.showAdvanceSearchLink),n.zb(1),n.nc("ngIf",o.showAdvanceOptions),n.zb(4),n.Ic(" ",o.SearchBtnText," ")}}function O(t,i){if(1&t){var e=n.Tb();n.Sb(0,"button",28),n.ec("click",(function(t){n.xc(e);var o=i.$implicit;return n.gc(3).toolbaraction(o.event,o.options,t),!1})),n.Gc(1),n.Rb()}if(2&t){var o=i.$implicit;n.Bb(o.css),n.zb(1),n.Ic(" ",o.title," ")}}function y(t,i){if(1&t&&(n.Sb(0,"div",26),n.Sb(1,"div",13),n.Gc(2,"Actions"),n.Rb(),n.Ec(3,O,2,4,"button",27),n.Rb()),2&t){var e=n.gc(2);n.zb(3),n.nc("ngForOf",e.Options.actions)}}function R(t,i){if(1&t&&n.Nb(0,"i"),2&t){var e=n.gc(2).$implicit;n.Bb(e.css)}}function A(t,i){if(1&t&&(n.Sb(0,"a",34),n.Ec(1,R,1,3,"i",35),n.Gc(2),n.Rb()),2&t){var e=n.gc().$implicit;n.oc("routerLink",e.url),n.oc("title",e.title),n.zb(1),n.nc("ngIf",""!=e.css),n.zb(1),n.Ic(" ",e.title," ")}}function F(t,i){if(1&t&&n.Nb(0,"i"),2&t){var e=n.gc(2).$implicit;n.Bb(e.css)}}function I(t,i){if(1&t){var e=n.Tb();n.Sb(0,"a",36),n.ec("click",(function(t){n.xc(e);var i=n.gc().$implicit;return n.gc(3).toolbaraction(i.event,i.options,t),!1})),n.Ec(1,F,1,3,"i",35),n.Gc(2),n.Rb()}if(2&t){var o=n.gc().$implicit;n.oc("title",o.title),n.zb(1),n.nc("ngIf",""!=o.css),n.zb(1),n.Ic(" ",o.title," ")}}function k(t,i){if(1&t&&(n.Sb(0,"li",31),n.Ec(1,A,3,4,"a",32),n.Ec(2,I,3,3,"a",33),n.Rb()),2&t){var e=i.$implicit;n.zb(1),n.nc("ngIf",!e.clickevent),n.zb(1),n.nc("ngIf",e.clickevent)}}function w(t,i){if(1&t&&(n.Sb(0,"div",26),n.Sb(1,"div",13),n.Gc(2,"Navigation"),n.Rb(),n.Sb(3,"ul",29),n.Ec(4,k,3,2,"li",30),n.Rb(),n.Rb()),2&t){var e=n.gc(2);n.zb(4),n.nc("ngForOf",e.Options.navList)}}function z(t,i){if(1&t&&(n.Sb(0,"div",2),n.Ec(1,S,10,4,"div",3),n.Ec(2,y,4,1,"div",4),n.Ec(3,w,5,1,"div",4),n.Rb()),2&t){var e=n.gc();n.zb(1),n.nc("ngIf",e.Options.showSearchPanel),n.zb(1),n.nc("ngIf",e.Options.actions.length>0),n.zb(1),n.nc("ngIf",e.Options.navList.length>0)}}function x(t,i){if(1&t){var e=n.Tb();n.Sb(0,"div",43),n.Sb(1,"input",44),n.ec("ngModelChange",(function(t){return n.xc(e),n.gc(2).Options.term=t})),n.Rb(),n.Sb(2,"div",45),n.Sb(3,"button",46),n.ec("click",(function(){return n.xc(e),n.gc(2).FindRecords()})),n.Gc(4,"Go"),n.Rb(),n.Rb(),n.Rb()}if(2&t){var o=n.gc(2);n.zb(1),n.nc("ngModel",o.Options.term)}}function G(t,i){if(1&t&&(n.Sb(0,"option",24),n.Gc(1),n.Rb()),2&t){var e=i.$implicit;n.nc("value",e.value),n.zb(1),n.Hc(e.title)}}function _(t,i){if(1&t){var e=n.Tb();n.Sb(0,"div",41),n.Sb(1,"select",47),n.ec("change",(function(){return n.xc(e),n.gc(2).FindRecords()}))("ngModelChange",(function(t){return n.xc(e),i.$implicit.value=t})),n.Ec(2,G,2,2,"option",23),n.Rb(),n.Rb()}if(2&t){var o=i.$implicit;n.zb(1),n.nc("ngModel",o.value),n.zb(1),n.nc("ngForOf",o.options)}}function M(t,i){if(1&t){var e=n.Tb();n.Sb(0,"button",48),n.ec("click",(function(t){n.xc(e);var o=i.$implicit;return n.gc(2).toolbaraction(o.event,o.options,t),!1})),n.Gc(1),n.Rb()}if(2&t){var o=i.$implicit;n.oc("title",o.tooltip),n.zb(1),n.Ic(" ",o.title," ")}}function $(t,i){if(1&t&&(n.Sb(0,"div",13),n.Sb(1,"div",37),n.Sb(2,"div",38),n.Ec(3,x,5,1,"div",39),n.Rb(),n.Ec(4,_,3,2,"div",40),n.Sb(5,"div",41),n.Ec(6,M,2,2,"button",42),n.Rb(),n.Rb(),n.Rb()),2&t){var e=n.gc();n.zb(3),n.nc("ngIf",e.Options.showSearchPanel),n.zb(1),n.nc("ngForOf",e.Options.dropdownFilters),n.zb(2),n.nc("ngForOf",e.Options.actions)}}var L=function(){var t=function(){function t(){_classCallCheck(this,t),this.ItemsSelected=!1,this.isAdmin=!0,this.SearchBtnText="Find Records",this.OnSelection=new n.n,this.Action=new n.n,this.SearchSelection=new n.n,this.AdvanceText="Advance Search",this.showAdvanceOptions=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSelect",value:function(t){this.Options.selectedcategory=t.id}},{key:"toggleSearch",value:function(t){this.showAdvanceOptions?(this.showAdvanceOptions=!1,this.AdvanceText="Advance Search"):(this.showAdvanceOptions=!0,this.AdvanceText="Hide Search"),t.stopPropagation()}},{key:"FindRecords",value:function(){if(void 0!==this.FilterOptions){if(this.FilterOptions.term=this.Options.term,this.Options.filters.length>0){var t=!0,i=!1,e=void 0;try{for(var n,o=this.Options.filters[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var c=n.value;for(var r in this.FilterOptions)r===c.attr&&(this.FilterOptions[r]=c.selected?c.value:c.default_value)}}catch(I){i=!0,e=I}finally{try{t||null==o.return||o.return()}finally{if(i)throw e}}}if(this.Options.checkFilters.length>0){var s=!0,a=!1,l=void 0;try{for(var d,u=this.Options.checkFilters[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){var b=d.value;for(var r in this.FilterOptions)r===b.attr&&(this.FilterOptions[r]=b.value)}}catch(I){a=!0,l=I}finally{try{s||null==u.return||u.return()}finally{if(a)throw l}}}if(this.Options.dropdownFilters.length>0){var f=!0,p=!1,h=void 0;try{for(var v,g=this.Options.dropdownFilters[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var m=v.value;for(var r in this.FilterOptions)r===m.attr&&(this.FilterOptions[r]=m.value)}}catch(I){p=!0,h=I}finally{try{f||null==g.return||g.return()}finally{if(p)throw h}}}if(void 0!==this.Options.selectedcategory&&this.Options.selectedcategory.length>0){var S=!0,O=!1,y=void 0;try{for(var R,A=this.Options.selectedcategory[Symbol.iterator]();!(S=(R=A.next()).done);S=!0){var F=R.value;this.FilterOptions.category_ids.push(F.key)}}catch(I){O=!0,y=I}finally{try{S||null==A.return||A.return()}finally{if(O)throw y}}this.FilterOptions.category_ids=this.Options.selectedcategory}void 0!==this.Options.datefilter&&(this.FilterOptions.datefilter=this.Options.datefilter),this.SearchSelection.emit({filters:this.FilterOptions})}}},{key:"toolbaraction",value:function(t,i,e){this.Action.emit({action:t,value:i}),e.stopPropagation()}},{key:"choose",value:function(t,i){t.value=i.target.value}}]),t}();return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["app-navigation-v2"]],inputs:{Options:"Options",ItemsSelected:"ItemsSelected",FilterOptions:"FilterOptions",isAdmin:"isAdmin",SearchBtnText:"SearchBtnText",AdvanceText:"AdvanceText"},outputs:{OnSelection:"OnSelection",Action:"Action",SearchSelection:"SearchSelection"},decls:2,vars:2,consts:[["class","card-body border-secondary",4,"ngIf"],["class","m-b-10",4,"ngIf"],[1,"card-body","border-secondary"],[4,"ngIf"],["class","m-t-10",4,"ngIf"],[1,"form-group"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],["href","#",3,"click",4,"ngIf"],[1,"form-group","m-t-10"],[1,"btn","btn-danger","m-b-5","p-10","btn-block",3,"click"],[1,"icon-search4","text-size-base","position-left"],["href","#",3,"click"],["class","form-group",4,"ngIf"],[1,"m-b-10"],["class","form-check  p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],[1,"form-check","p-l-0","p-r-0","m-b-5"],[1,"form-check-label"],["type","checkbox",3,"ngModel","ngModelChange"],["class","m-b-10",4,"ngFor","ngForOf"],["class","form-check p-l-0 p-r-0 m-b-5",4,"ngFor","ngForOf"],["type","radio",3,"value","name","checked","change"],[4,"ngFor","ngForOf"],[1,"form-control","form-control-line",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"placeholder","data","ngModel","settings","ngModelChange"],[1,"m-t-10"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[1,"list-group","list-group-full"],["class","list-group-item","routerLinkActive","active",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"list-group-item"],[3,"routerLink","title",4,"ngIf"],["href","#",3,"title","click",4,"ngIf"],[3,"routerLink","title"],[3,"class",4,"ngIf"],["href","#",3,"title","click"],[1,"row"],[1,"col"],["class","input-group mb-3",4,"ngIf"],["class","col-md-auto",4,"ngFor","ngForOf"],[1,"col-md-auto"],["class","btn btn-primary m-l-5",3,"title","click",4,"ngFor","ngForOf"],[1,"input-group","mb-3"],["type","text","placeholder","Search ...","aria-label","Search ...","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"form-control",3,"ngModel","change","ngModelChange"],[1,"btn","btn-primary","m-l-5",3,"title","click"]],template:function(t,i){1&t&&(n.Ec(0,z,4,3,"div",0),n.Ec(1,$,7,3,"div",1)),2&t&&(n.nc("ngIf",i.isAdmin),n.zb(1),n.nc("ngIf",!i.isAdmin))},directives:[o.n,c.c,c.n,c.q,o.m,c.a,c.v,c.s,c.x,r.a,s.d,s.e],encapsulation:2}),t}()},JJ5z:function(t,i,e){"use strict";e.d(i,"a",(function(){return R}));var n=e("mrSG"),o=e("Usal"),c=e("pdjO"),r=e("fXoL"),s=e("dSJ/"),a=e("xnmw"),l=e("LEd3"),d=e("Hjmt"),u=e("mTle"),b=e("tyNb"),f=e("nD3/"),p=e("ofXK"),h=e("/H0e"),v=e("4HLj"),g=e("P+Pe");function m(t,i){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",5),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function S(t,i){if(1&t){var e=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",2),r.Sb(2,"div",6),r.Sb(3,"app-navigation-v2",7),r.ec("Action",(function(t){return r.xc(e),r.gc(2).toolbaraction(t)}))("SearchSelection",(function(t){return r.xc(e),r.gc(2).FindRecords(t)})),r.Rb(),r.Rb(),r.Sb(4,"div",8),r.Sb(5,"app-toolbar-v2",9),r.ec("Action",(function(t){return r.xc(e),r.gc(2).toolbaraction(t)}))("SelectAllCard",(function(t){return r.xc(e),r.gc(2).selectAll(t)})),r.Rb(),r.Sb(6,"div",10),r.Sb(7,"app-forum-list",11),r.ec("View",(function(t){return r.xc(e),r.gc(2).toolbaraction(t)}))("SelectedItems",(function(t){return r.xc(e),r.gc(2).getSelectedItems(t)})),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){var n=r.gc(2);r.zb(3),r.nc("isAdmin",n.isAdmin)("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),r.zb(2),r.nc("isAdmin",n.isAdmin)("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),r.zb(2),r.nc("route_path",n.route_path)("isAdmin",n.isAdmin)("isActionGranded",n.isActionGranded)}}function O(t,i){if(1&t&&(r.Sb(0,"div",2),r.Sb(1,"div",3),r.Sb(2,"div",4),r.Ec(3,m,3,0,"div",1),r.Ec(4,S,8,9,"div",1),r.Rb(),r.Rb(),r.Rb()),2&t){var e=r.gc();r.zb(3),r.nc("ngIf",!e.isAccessGranted),r.zb(1),r.nc("ngIf",e.isAccessGranted)}}function y(t,i){if(1&t){var e=r.Tb();r.Sb(0,"div"),r.Sb(1,"app-navigation-v2",7),r.ec("Action",(function(t){return r.xc(e),r.gc().toolbaraction(t)}))("SearchSelection",(function(t){return r.xc(e),r.gc().FindRecords(t)})),r.Rb(),r.Sb(2,"div",4),r.Sb(3,"div",10),r.Sb(4,"div",12),r.Sb(5,"app-toolbar-v2",9),r.ec("Action",(function(t){return r.xc(e),r.gc().toolbaraction(t)}))("SelectAllCard",(function(t){return r.xc(e),r.gc().selectAll(t)})),r.Rb(),r.Rb(),r.Sb(6,"app-forum-list",13),r.ec("View",(function(t){return r.xc(e),r.gc().toolbaraction(t)}))("SelectedItems",(function(t){return r.xc(e),r.gc().getSelectedItems(t)})),r.Rb(),r.Rb(),r.Rb(),r.Rb()}if(2&t){var n=r.gc();r.zb(1),r.nc("isAdmin",n.isAdmin)("FilterOptions",n.FilterOptions)("Options",n.SearchOptions),r.zb(4),r.nc("isAdmin",n.isAdmin)("Options",n.ToolbarOptions)("isItemsSelected",n.isItemsSelected),r.zb(1),r.nc("route_path",n.route_path)("isAdmin",n.isAdmin)}}var R=function(){var t=function(){function t(i,e,n,o,c,r,s,a){_classCallCheck(this,t),this.settingService=i,this.dataService=e,this.coreActions=n,this.permission=o,this.actions=c,this.router=r,this.route=s,this.coreService=a,this.isAdmin=!0,this.route_path="/forumtopics/",this.PublicView=!1,this.type=0,this.isAccessGranted=!1,this.isActionGranded=!1,this.heading="Forums Topic",this.subheading="Management",this.isItemsSelected=!1,this.IsLoaded=!1,this.Records=0,this.Pagination={},this.showReportLink=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isAdmin?this.auth$.subscribe((function(i){t.permission.GrandResourceAccess(!1,"1521395897976","1521395939384",i.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521395897976",i.Role)&&(t.isActionGranded=!0))})):(this.isAccessGranted=!0,this.isActionGranded=!0),this.SearchOptions=this.settingService.getSearchOptions(this.isAdmin),this.ToolbarOptions=this.settingService.getToolbarOptions(this.isAdmin),this.filteroptions$.subscribe((function(i){t.FilterOptions=i,i.track_filter&&(t.loadRecords(t.FilterOptions),i.track_filter=!1,t.actions.updateFilterOptions(i))})),this.records$.subscribe((function(i){t.Records=i})),this.pagination$.subscribe((function(i){t.Pagination=i})),this.isforumsloaded$.subscribe((function(i){i||t.dataService.loadForumsRecords()})),this.isItemSelected$.subscribe((function(i){t.isItemsSelected=i})),this.forums$.subscribe((function(i){t.SearchOptions.multiselectOptions.placeholder="Select Forum";var e=!0,n=!1,o=void 0;try{for(var c,r=i[Symbol.iterator]();!(e=(c=r.next()).done);e=!0){var s=c.value;t.SearchOptions.categories.push({key:s.id,value:s.title})}}catch(a){n=!0,o=a}finally{try{e||null==r.return||r.return()}finally{if(n)throw o}}})),this.route.params.subscribe((function(i){void 0!==i.tagname&&(console.log("tag filter initiated"),t.FilterOptions.tags=i.tagname,t.FilterOptions.track_filter=!0,t.actions.updateFilterOptions(t.FilterOptions)),void 0!==i.uname&&(console.log("user filter initiated"),console.log(i.uname),t.FilterOptions.username=i.uname,t.FilterOptions.track_filter=!0,t.actions.updateFilterOptions(t.FilterOptions)),void 0!==i.id&&(t.FilterOptions.id=i.id,t.FilterOptions.track_filter=!0,t.actions.updateFilterOptions(t.FilterOptions)),void 0!==i.abuse&&("abuse"===i.abuse?(t.FilterOptions.loadabusereports=!0,t.showReportLink=!0):"normallist"===i.abuse&&(t.FilterOptions.loadabusereports=!1,t.showReportLink=!1),t.FilterOptions.track_filter=!0,t.actions.updateFilterOptions(t.FilterOptions))})),this.isloaded$.subscribe((function(i){t.IsLoaded=i,t.IsLoaded?t.refreshStats():t.loadRecords(t.FilterOptions)}))}},{key:"loadRecords",value:function(t){this.coreService.renderAbuseReportBtn(this.SearchOptions.actions,t.loadabusereports),this.PublicView&&(t.ispublic=!0),this.dataService.LoadRecords(t)}},{key:"selectAll",value:function(t){this.actions.selectAll(t)}},{key:"toolbaraction",value:function(t){switch(t.action){case"view":return void this.router.navigate([this.route_path+"profile/0"]);case"add":return void this.router.navigate([this.route_path+"process/0"]);case"abuse":return void this.router.navigate([this.route_path+"filter/abuse"]);case"normallist":return void this.router.navigate([this.route_path+"filter/normallist"]);case"reports":return void this.router.navigate([this.route_path+"reports"]);case"m_markas":return void this.ProcessActions(t.value);case"f_type":this.actions.applyFilter({attr:"type",value:t.value});break;case"f_isapproved":this.actions.applyFilter({attr:"isapproved",value:t.value});break;case"f_status":this.actions.applyFilter({attr:"isenabled",value:t.value});break;case"f_adult":this.actions.applyFilter({attr:"isadult",value:t.value});break;case"pagesize":this.actions.applyFilter({attr:"pagesize",value:t.value});break;case"m_filter":this.actions.applyFilter({attr:"datefilter",value:t.value});break;case"sort":this.actions.applyFilter({attr:"direction",value:t.value})}}},{key:"FindRecords",value:function(t){var i=t.filters;i.tags="",i.userid="",i.pagenumber=1,i.track_filter=!0,this.actions.updateFilterOptions(i)}},{key:"getSelectedItems",value:function(t){this.SelectedItems=t,this.isItemsSelected=this.SelectedItems.length>0}},{key:"ProcessActions",value:function(t){if(this.isActionGranded){if(this.SelectedItems.length>0){var i=!0,e=!1,n=void 0;try{for(var o,c=this.SelectedItems[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){o.value.actionstatus=t.actionstatus}}catch(r){e=!0,n=r}finally{try{i||null==c.return||c.return()}finally{if(e)throw n}}this.dataService.ProcessActions(this.SelectedItems,t)}}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}},{key:"refreshStats",value:function(){this.actions.refresh_pagination({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize}),this.coreActions.refreshListStats({totalrecords:this.Records,pagesize:this.FilterOptions.pagesize,pagenumber:this.Pagination.currentPage})}}]),t}();return t.\u0275fac=function(i){return new(i||t)(r.Mb(s.a),r.Mb(a.a),r.Mb(l.a),r.Mb(d.a),r.Mb(u.a),r.Mb(b.c),r.Mb(b.a),r.Mb(f.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-mainforum-list"]],hostVars:1,hostBindings:function(t,i){2&t&&r.Kc("@fadeInAnimation",void 0)},inputs:{isAdmin:"isAdmin",route_path:"route_path",PublicView:"PublicView",type:"type"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"m-b-40","m-t-40","text-center"],[1,"col-md-3"],[3,"isAdmin","FilterOptions","Options","Action","SearchSelection"],[1,"col-md-9"],[3,"isAdmin","Options","isItemsSelected","Action","SelectAllCard"],[1,"card-body"],[3,"route_path","isAdmin","isActionGranded","View","SelectedItems"],[1,"m-b-20"],[3,"route_path","isAdmin","View","SelectedItems"]],template:function(t,i){1&t&&(r.Ec(0,O,5,2,"div",0),r.Ec(1,y,7,8,"div",1)),2&t&&(r.nc("ngIf",i.isAdmin),r.zb(1),r.nc("ngIf",!i.isAdmin))},directives:[p.n,h.a,v.a,g.a],encapsulation:2,data:{animation:[c.a]}}),Object(n.a)([Object(o.e)(["forumtopics","filteroptions"])],t.prototype,"filteroptions$",void 0),Object(n.a)([Object(o.e)(["forumtopics","forums"])],t.prototype,"forums$",void 0),Object(n.a)([Object(o.e)(["forumtopics","itemsselected"])],t.prototype,"isItemSelected$",void 0),Object(n.a)([Object(o.e)(["forumtopics","isloaded"])],t.prototype,"isloaded$",void 0),Object(n.a)([Object(o.e)(["forumtopics","isforumsloaded"])],t.prototype,"isforumsloaded$",void 0),Object(n.a)([Object(o.e)(["forumtopics","records"])],t.prototype,"records$",void 0),Object(n.a)([Object(o.e)(["forumtopics","pagination"])],t.prototype,"pagination$",void 0),Object(n.a)([Object(o.e)(["users","auth"])],t.prototype,"auth$",void 0),t}()},pdjO:function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));var n=e("R0Ic"),o=Object(n.k)("fadeInAnimation",[Object(n.j)(":enter",[Object(n.i)({opacity:0,background:"#ff0000"}),Object(n.e)(".8s",Object(n.i)({opacity:1}))])])},xp6A:function(t,i,e){"use strict";e.d(i,"a",(function(){return R}));var n=e("mrSG"),o=e("Usal"),c=e("pdjO"),r=e("fXoL"),s=e("dSJ/"),a=e("xnmw"),l=e("LEd3"),d=e("nD3/"),u=e("mTle"),b=e("tyNb"),f=e("SeUu"),p=e("Hjmt"),h=e("ofXK"),v=e("RDfn"),g=e("+kG/");function m(t,i){1&t&&(r.Sb(0,"div"),r.Sb(1,"h2",1),r.Gc(2,"Access Denied"),r.Rb(),r.Rb())}function S(t,i){1&t&&r.Nb(0,"app-loader")}function O(t,i){if(1&t){var e=r.Tb();r.Sb(0,"dynamic-modal-form",9),r.ec("OnSubmit",(function(t){return r.xc(e),r.gc(2).SubmitForm(t)})),r.Rb()}if(2&t){var n=r.gc(2);r.nc("controls",n.controls)("showLoader",n.showLoader)("showCancel",!1)("showModal",!1)("submitText",n.submitText)}}function y(t,i){if(1&t&&(r.Sb(0,"div"),r.Sb(1,"div",2),r.Sb(2,"div",3),r.Sb(3,"div",4),r.Sb(4,"div",5),r.Sb(5,"h4",6),r.Gc(6),r.Rb(),r.Rb(),r.Sb(7,"div",7),r.Ec(8,S,1,0,"app-loader",0),r.Ec(9,O,1,5,"dynamic-modal-form",8),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t){var e=r.gc();r.zb(6),r.Hc(e.formHeading),r.zb(2),r.nc("ngIf",e.showLoader),r.zb(1),r.nc("ngIf",!e.showLoader)}}var R=function(){var t=function(){function t(i,e,n,o,c,r,s,a,l){_classCallCheck(this,t),this.settingService=i,this.dataService=e,this.coreActions=n,this.coreService=o,this.actions=c,this.route=r,this.formService=s,this.permission=a,this.router=l,this.isAdmin=!0,this.route_path="/forumtopics/",this.isAccessGranted=!1,this.isActionGranded=!1,this.RecordID=0,this.controls=[],this.showLoader=!1,this.formHeading="Add Topic",this.submitText="Submit",this.IsLoaded=!1,this.Forums=[],this.Auth={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.auth$.subscribe((function(i){if(t.Auth=i,t.isAdmin){t.permission.GrandResourceAccess(!1,"1521395897976","1521395939384",i.Role)&&(t.isAccessGranted=!0,t.permission.GrandResourceAction("1521395897976",i.Role)&&(t.isActionGranded=!0))}else t.isAccessGranted=!0,t.isActionGranded=!0})),this.route.params.subscribe((function(i){t.RecordID=t.coreService.decrypt(i.id),isNaN(t.RecordID)&&(t.RecordID=0),t.RecordID>0?(t.formHeading="Update Information",t.submitText="Save Changes",t.Initialize()):t.initializeControls(t.settingService.getInitObject())})),this.forums$.subscribe((function(i){t.Forums=i,t.updateForums()})),this.isloaded$.subscribe((function(i){t.IsLoaded=i,t.IsLoaded||t.Redirect()}))}},{key:"Initialize",value:function(){var t=this;this.RecordID>0?this.isAdmin?this.LoadInfo():this.dataService.Authorize_Author({id:this.RecordID,userid:this.Auth.User.id}).subscribe((function(i){i.isaccess?t.LoadInfo():t.Redirect()}),(function(i){t.Redirect()})):this.Redirect()}},{key:"Redirect",value:function(){this.router.navigate([this.route_path])}},{key:"LoadInfo",value:function(){var t=this;this.showLoader=!0,this.dataService.GetInfo(this.RecordID).subscribe((function(i){"success"===i.status?t.initializeControls(i.post):(t.coreActions.Notify({title:i.message,text:"",css:"bg-error"}),t.initializeControls(t.settingService.getInitObject())),t.showLoader=!1}))}},{key:"updateForums",value:function(){if(void 0!==this.controls&&this.controls.length>0){var t=!0,i=!1,e=void 0;try{for(var n,o=this.controls[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var c=n.value;if("forumid"===c.key){var r=!0,s=!1,a=void 0;try{for(var l,d=this.Forums[Symbol.iterator]();!(r=(l=d.next()).done);r=!0){var u=l.value;c.options.push({key:u.id,value:u.title})}}catch(b){s=!0,a=b}finally{try{r||null==d.return||d.return()}finally{if(s)throw a}}}}}catch(b){i=!0,e=b}finally{try{t||null==o.return||o.return()}finally{if(i)throw e}}}}},{key:"initializeControls",value:function(t){this.controls=this.formService.getControls(t),this.updateForums()}},{key:"SubmitForm",value:function(t){var i=this;if(this.isActionGranded){this.showLoader=!0;var e="Added";this.RecordID>0&&(t.id=this.RecordID,e="Updated"),t.userid=this.Auth.User.id,t.isadmin=this.isAdmin,this.dataService.AddRecord(t).subscribe((function(t){"error"===t.status?i.coreActions.Notify({title:t.message,text:"",css:"bg-error"}):(i.coreActions.Notify({title:"Record "+e+" Successfully",text:"",css:"bg-success"}),i.actions.reloadList(),i.router.navigate(i.isAdmin?[i.route_path]:[i.route_path+"profile/"+i.coreService.encrypt(t.record.id)])),i.showLoader=!1}),(function(t){i.showLoader=!1,i.coreActions.Notify({title:"Error Occured",text:"",css:"bg-danger"})}))}else this.coreActions.Notify({title:"Permission Denied",text:"",css:"bg-danger"})}}]),t}();return t.\u0275fac=function(i){return new(i||t)(r.Mb(s.a),r.Mb(a.a),r.Mb(l.a),r.Mb(d.a),r.Mb(u.a),r.Mb(b.a),r.Mb(f.a),r.Mb(p.a),r.Mb(b.c))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-forumtopic-process"]],inputs:{isAdmin:"isAdmin",route_path:"route_path"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"m-b-40","m-t-40","text-center"],[1,"row"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"m-b-0"],[1,"card-body"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit",4,"ngIf"],[3,"controls","showLoader","showCancel","showModal","submitText","OnSubmit"]],template:function(t,i){1&t&&(r.Ec(0,m,3,0,"div",0),r.Ec(1,y,10,3,"div",0)),2&t&&(r.nc("ngIf",!i.isAccessGranted),r.zb(1),r.nc("ngIf",i.isAccessGranted))},directives:[h.n,v.a,g.a],encapsulation:2,data:{animation:[c.a]}}),Object(n.a)([Object(o.e)(["forumtopics","forums"])],t.prototype,"forums$",void 0),Object(n.a)([Object(o.e)(["forumtopics","isloaded"])],t.prototype,"isloaded$",void 0),Object(n.a)([Object(o.e)(["users","auth"])],t.prototype,"auth$",void 0),t}()}}]);